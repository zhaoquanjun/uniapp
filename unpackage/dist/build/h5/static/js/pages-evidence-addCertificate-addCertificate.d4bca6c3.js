(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-evidence-addCertificate-addCertificate"],{"11a8":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,"\n.add-certificate-box[data-v-6949d5f2]{font-size:%?24?%;background:#f7f8f9}.certificate-content-item .h1[data-v-6949d5f2]{padding-left:%?48?%;padding-top:%?32?%;padding-bottom:%?32?%;font-size:%?32?%;font-weight:500;color:#333}.input-name-box[data-v-6949d5f2]{position:relative;padding:%?60?% 0;background:#fff}.certificate-content-item--file[data-v-6949d5f2]{padding-bottom:%?12?%;background-color:#fff}.certificate-content-item--file .file-name[data-v-6949d5f2],\n.certificate-content-item--file .file-size[data-v-6949d5f2]{font-size:%?28?%;padding:%?12?% %?48?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.upload-btn[data-v-6949d5f2]{width:%?670?%;height:%?100?%;line-height:%?100?%;margin:%?24?% auto %?48?%;font-weight:500;color:#fff;font-size:%?32?%;background:#464646;border-radius:%?8?%;color:#fff;text-align:center}.certificate-content-item .input-name[data-v-6949d5f2]{padding:0 %?48?%;background:#fff;width:100%;height:%?112?%;line-height:%?112?%;font-size:%?28?%;color:#333;box-sizing:border-box}.input-tip[data-v-6949d5f2]{font-size:%?24?%;position:absolute;right:%?48?%;bottom:%?32?%;color:#999}.certificate-content-item .sign-certificate-type[data-v-6949d5f2]{padding:%?40?% %?48?% %?40?% %?48?%;height:auto}.add-certificate-description[data-v-6949d5f2]{padding:0 %?48?%;font-weight:400;color:#999;line-height:%?40?%;font-size:%?24?%}.add-certificate-description .title[data-v-6949d5f2]{padding-bottom:%?12?%}.certificate-submit[data-v-6949d5f2]{margin:%?40?% auto;width:90%;height:%?100?%;line-height:%?100?%;background:#464646;border-radius:4px;color:#fff}.add-certificate-image[data-v-6949d5f2]{padding:%?56?% %?48?%;background:#fff;box-sizing:border-box}.add-certificate-image .name[data-v-6949d5f2],\n.add-certificate-image .size[data-v-6949d5f2]{font-size:%?28?%;padding:%?12?% 0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.add-certificate-image--item[data-v-6949d5f2]{position:relative}.add-certificate-image--item .image-add[data-v-6949d5f2]{width:100%;height:%?252?%}.add-certificate-image--item .image-delete[data-v-6949d5f2]{width:%?48?%;height:%?48?%;position:absolute;top:0;right:0;background:#000;font-family:icon-one;font-size:%?48?%;color:#fff;line-height:%?48?%;font-weight:400}.add-certificate-voice[data-v-6949d5f2]{padding:%?24?% 0;font-family:icon-one;background-Color:#fff}.add-certificate-voice-progress[data-v-6949d5f2]{height:%?50?%;width:88%;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:flex-left;-webkit-justify-content:flex-left;justify-content:flex-left}.add-certificate-voice .name[data-v-6949d5f2],\n.add-certificate-voice .size[data-v-6949d5f2]{font-size:%?28?%;padding:%?10?% %?48?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.add-certificate-voice .name[data-v-6949d5f2]{padding-top:%?20?%}.add-certificate-voice-progress .add-certificate-voice-progress--btn[data-v-6949d5f2]{width:%?48?%;height:%?48?%;color:#ed6c00;-webkit-box-flex:0;-webkit-flex-grow:0;flex-grow:0;font-size:%?48?%;line-height:1;margin-right:%?32?%}.add-certificate-voice-progress .add-certificate-voice-progress--start[data-v-6949d5f2]{color:#999;font-size:%?22?%}.add-certificate-voice-progress .add-certificate-voice-progress--end[data-v-6949d5f2]{color:#999;font-size:%?22?%;margin-right:%?32?%}.add-certificate-voice-progress .add-certificate-voice-progress--loading[data-v-6949d5f2]{height:%?4?%;width:%?392?%;background:#f7f8f9;margin:0 %?10?%;border-radius:%?2?%}.add-certificate-voice-progress .add-certificate-voice-progress--width[data-v-6949d5f2]{height:100%;background:#ed6c00}.add-certificate-voice-delete[data-v-6949d5f2]{position:absolute;width:%?24?%;height:%?24?%;right:%?32?%;top:%?32?%;color:#ccc;font-size:%?24?%}uni-textarea[data-v-6949d5f2]{width:100%}.voice-record-box[data-v-6949d5f2]{position:fixed;top:0;left:0;width:100%;height:100%}.voice-record-content[data-v-6949d5f2]{background:#fff;border-radius:8px;margin:%?64?% %?48?% %?138?%}.voice-record-time[data-v-6949d5f2]{text-align:center;color:#212121;font-size:%?56?%;line-height:%?80?%;margin-top:%?160?%}.voice-record-time-text[data-v-6949d5f2]{text-align:center;color:#999;font-size:%?28?%;font-weight:400;line-height:%?40?%}.voice-record-progress[data-v-6949d5f2]{width:90%;height:%?6?%;background:#f8f8f8;border-radius:%?4?%;margin:0 auto}.voice-record-btn[data-v-6949d5f2]{width:%?160?%;height:%?160?%;border:%?12?% solid rgba(237,108,0,.18);margin:0 auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:50%;margin-top:%?608?%}.voice-record-btn-center[data-v-6949d5f2]{width:%?128?%;height:%?128?%;border-radius:50%;background:#ed6c00}.voice-record-btn-loading[data-v-6949d5f2]{width:%?160?%;height:160rppx;border:%?12?% solid rgba(237,108,0,.18);position:relative}.voice-record-btn-loading .voice-record-btn-center[data-v-6949d5f2]{width:%?68?%;height:%?68?%;background:#ed6c00;border-radius:%?8?%;position:absolute}.icon-right[data-v-6949d5f2]{font-family:icon-one;float:right;font-size:%?26?%;color:#666}body.?%PAGE?%[data-v-6949d5f2]{background-color:#fff}",""]),e.exports=t},"26c2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findContractSubject=t.get_certificate_address=t.evidence_detail=t.saveChainToContract=t.add_certificate_file=t.get_upload_policy=t.certificate_record_list=void 0;var a=i("3b7d"),o=a.host+"/v1/blockchain/certificateRecord/list";t.certificate_record_list=o;var n=a.host+"/v1/common/oss/policy";t.get_upload_policy=n;var r=a.host+"/v1/blockchain/dataStorage/add";t.add_certificate_file=r;var c=a.host+"/v1/contractEvidence/saveContractEvidence";t.saveChainToContract=c;var s=a.host+"/v1/blockchain/certificateRecord/detail";t.evidence_detail=s;var d=a.host+"/v1/blockchain/cert/download";t.get_certificate_address=d;var l=a.host+"/v1/contractEvidence/findContractSubject";t.findContractSubject=l},"38b4":function(e,t,i){"use strict";(function(e,i){t["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["tools"]=function(t){function a(e){return e=e.toString(),e[1]?e:"0"+e}function o(t,i){if(!t)return"";var a=e(t);return n(a,i)}function n(e,t){t=t||"Y-M-D";var i=["Y","M","D","h","m","s"],o=[];o.push(e.getFullYear()),o.push(a(e.getMonth()+1)),o.push(a(e.getDate())),o.push(a(e.getHours())),o.push(a(e.getMinutes())),o.push(a(e.getSeconds()));for(var n=0;n<o.length;++n)t=t.replace(i[n],o[n]);return t}function r(e){var t=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"];return e.replace(i(t.join("|"),"g"),"")}function c(e){var t=e;if(!t||0===t.length)return"#";if(1===t.length)return t;var i=r(t),a=t.indexOf(i);return 0!==i.length&&0===a?t.slice(0,1).toUpperCase():t.slice(0,2)}return t.exports={formatDate:n,formatTime:o,firstLogicChar:c},t.exports}({exports:{}})}}).call(this,i("5fff")["getDate"],i("5fff")["getRegExp"])},"43ba":function(e,t,i){"use strict";i("c975"),i("baa5"),i("d81d"),i("fb6a"),i("b680"),i("e25e"),i("ac1f"),i("1276"),i("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("3b7d"),o=i("26c2"),n=i("537e"),r=uni.getRecorderManager(),c=uni.createInnerAudioContext(),s=null,d={text:{title:"文字存证",value:1},image:{title:"图片存证",value:2},voice:{title:"语音存证",value:3},video:{title:"视频存证",value:4},file:{title:"文件存证",value:5}},l={image:"addCertificateImageUrl",video:"addCertificateVideo",voice:"addCertificateVoice",file:"addCertificateFile"},f={data:function(){return{ishighLight:!1,type:"",fileType:"",nameValue:"",typeValue:2,addCertificateImageUrl:"",addCertificateText:"",addCertificateVoice:"",addCertificateVideo:"",addCertificateFile:"",isVoiceRecord:!1,time:0,showTime:0,recording:!1,duration:0,isPlay:!1,videoPlayTime:0,showVideoPlayTime:"00:00:00",showDurationTime:"00:00:00",isLoading:!1,uploadMethod:2,addFileInfo:null,formId:null}},components:{},props:{},onLoad:function(e){var t=e.type,i=e.fromId;this.setData({type:t,fileType:d[t].value,formId:i}),uni.setNavigationBarTitle({title:d[t].title})},onReady:function(){},methods:{nameInput:function(e){var t=e.detail.value;this.setData({nameValue:t}),this.getHighLight()},tapAddImage:function(){var e=this;uni.showActionSheet({itemList:["拍照","从相册选择"],success:function(t){console.log(t.tapIndex),e.chooseImage(0==t.tapIndex?"camera":"album"),0==t.tapIndex?e.setData({uploadMethod:2}):e.setData({uploadMethod:1})}})},chooseImage:function(e){var t=this,i=this;uni.chooseImage({count:1,sizeType:"compressed",maxDuration:10,sourceType:[e],success:function(e){var a=e.tempFilePaths[0].slice(e.tempFilePaths[0].lastIndexOf("/")+1).split("."),o=t.random_string()+"."+a[a.length-1];console.log(a);var n={path:e.tempFilePaths[0],name:o,originName:e.tempFilePaths[0].slice(e.tempFilePaths[0].lastIndexOf("/")+1)};t.setData({addFileInfo:n});var r=e.tempFilePaths;i.setData({addCertificateImageUrl:r[0]}),i.getHighLight()}})},tapDeleteImage:function(e){var t=this;t.setData({addCertificateImageUrl:""}),t.getHighLight()},checkAllowUploadFun:function(e){var t=[".doc",".docx",".pdf",".bpm"],i=!1;return t.map((function(t){e.indexOf(t)>-1&&(i=!0)})),i},handleChooseFileFun:function(){var e=this;uni.chooseMessageFile({count:1,type:"file",success:function(t){console.log(t);var i=t.tempFiles[0].path.slice(t.tempFiles[0].path.lastIndexOf("/")+1).split("."),a=e.random_string()+"."+i[i.length-1],o={size:(t.tempFiles[0].size/1024/1e3).toFixed(2),path:t.tempFiles[0].path,name:a,originName:t.tempFiles[0].path.slice(t.tempFiles[0].path.lastIndexOf("/")+1)};e.setData({addFileInfo:o}),e.checkAllowUploadFun(t.tempFiles[0].name)?(e.setData({addCertificateFile:t.tempFiles[0].path}),e.getHighLight()):setTimeout((function(){uni.showToast({title:"文件格式必须为pdf、doc、docx或者bpm",icon:"none",duration:2e3,mask:!0})}),50)},fail:function(e){setTimeout((function(){uni.showToast({title:e})}),50)}})},openVoiceRecord:function(){this.setData({isVoiceRecord:!0})},longPressBtn:function(){var e=this;console.log(123123123),clearInterval(s),e.recording?(e.setData({recording:!1}),e.stop()):(e.setData({recording:!0}),e.start())},start:function(){var e=this,t={duration:6e4,sampleRate:16e3,numberOfChannels:1,encodeBitRate:96e3,format:"mp3",frameSize:50};e.openInterval(),r.start(t),r.onStart((function(){console.log("recorder start")})),r.onError((function(e){console.log(e)}))},stop:function(){var e=this,t=this;clearInterval(s),r.stop(),r.onStop((function(i){t.tempFilePath=i.tempFilePath,console.log("停止录音",i);var a=i.tempFilePath,o=i.duration,n=(i.fileSize,i.tempFilePath.slice(i.tempFilePath.lastIndexOf("/")+1).split(".")),r=e.random_string()+"."+n[n.length-1],d={size:(i.fileSize/1024/1e3).toFixed(2),path:i.tempFilePath,name:r,originName:i.tempFilePath.slice(i.tempFilePath.lastIndexOf("/")+1)};e.setData({addCertificateVoice:a,isVoiceRecord:!1,duration:o,showDurationTime:e.showTimeFun(o/1e3),addFileInfo:d}),c.src=a,c.onError((function(e){console.log(e.errMsg),console.log(e.errCode)})),c.onEnded((function(e){c.stop(),t.setData({isPlay:!1,videoPlayTime:0,showVideoPlayTime:"00:00:00"}),clearInterval(s)})),c.onTimeUpdate((function(){}))}))},openInterval:function(){var e=this;function t(e){return e<10?"0"+e:e}s=setInterval((function(){var i=e.time+1,a=parseInt(i%60),o=parseInt(i/60),n=parseInt(o%24),r=parseInt(o/24);r=t(r),n=t(n),a=t(a),e.setData({time:i,showTime:r+":"+n+":"+a})}),1e3)},showTimeFun:function(e){function t(e){return e<10?"0"+e:e}var i=parseInt(e%60),a=parseInt(e/60),o=parseInt(a%24),n=parseInt(a/24);return n=t(n),o=t(o),i=t(i),n+":"+o+":"+i},setTime:function(){var e=this;function t(e){return e<10?"0"+e:e}s=setInterval((function(){var i=e.videoPlayTime+1,a=parseInt(i%60),o=parseInt(i/60),n=parseInt(o%24),r=parseInt(o/24);r=t(r),n=t(n),a=t(a),e.setData({videoPlayTime:i,showVideoPlayTime:r+":"+n+":"+a})}),1e3)},playVoice:function(){var e=this,t=this;console.log(this.isPlay,c),this.isPlay?(c.pause(),c.onPause((function(){console.log("暂停播放"),clearInterval(s),t.setData({isPlay:!1})}))):(c.play(),c.onPlay((function(){console.log("开始播放"),clearInterval(s),t.setData({isPlay:!0}),e.setTime()})))},random_string:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=t.length,a="",o=0;o<e;o++)a+=t.charAt(Math.floor(Math.random()*i));return a},tapDeleteVoice:function(){c.stop(),c.destroy(),this.setData({addCertificateVoice:"",time:0,showTime:0,recording:!1,duration:0,isPlay:!1,videoPlayTime:0,showVideoPlayTime:"00:00:00",showDurationTime:"00:00:00"}),this.getHighLight()},addCertificateSubmit:function(e){var t=this;if(!t.isLoading){var i=e.detail.value,r=l[this.type];if(n.trim(i.name)&&i.type&&n.trim(this[r])){var c=/[/：\*\？#”<>|。]/;if(c.test(i.name))n.showError("含有特殊字符，请输入正确文件名称后再上传");else{this[r];(0,a.get)({url:o.get_upload_policy+"?ossPrefixKey=blockchain/",success:function(e){uni.showLoading({title:"上传中"})},fail:function(e){console.log(e),setTimeout((function(){uni.showToast({title:e})}),50)}})}}else n.showError("请完善信息后再上传")}},switchTabBarFun:function(){uni.switchTab({url:"/pages/evidence/index"})},getHighLight:function(){var e=l[this.type],t=this[e];t&&this.nameValue?this.setData({ishighLight:!0}):this.setData({ishighLight:!1})},saveChain:function(e){(0,a.post)({url:o.saveChainToContract+"?contractSubjectId="+this.formId+"&fileName="+e.name+"&filePath="+e.filePath+"&uploadMethod="+e.uploadMethod+"&type=2&uploadChannel=2",success:function(e){uni.navigateBack({})},fail:function(e){setTimeout((function(){uni.showToast({title:e})}),50)}})}}};t.default=f},"537e":function(e,t,i){function a(e){return e=e.toString(),e[1]?e:"0"+e}function o(e,t){var i=new Date(e);return n(i,t)}function n(e,t){var i=["Y","M","D","h","m","s"],o=[];for(var n in o.push(e.getFullYear()),o.push(a(e.getMonth()+1)),o.push(a(e.getDate())),o.push(a(e.getHours())),o.push(a(e.getMinutes())),o.push(a(e.getSeconds())),o)t=t.replace(i[n],o[n]);return t}function r(e){var t=/^[1][3,4,5,7,8][0-9]{9}$/;return t.test(e)}function c(e){var t="出错了";"string"===typeof e?t=e:e.errMsg&&(t=e.errMsg),setTimeout((function(){uni.showToast({duration:2e3,icon:"none",title:t})}),50)}function s(e){setTimeout((function(){uni.showToast({title:e})}),50)}function d(e){var t=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"];return e.replace(new RegExp(t.join("|"),"g"),"")}function l(e){return f(e,"分","秒")}function f(e,t,i){if(e=e%6e4/1e3,e>-1){var a=Math.floor(e/60),o=Math.floor(e%60);return a<=0?o+i:a+t+o+i}return 0+i}function u(){var e=getCurrentPages(),t=(e[e.length-1],e[e.length-2]);return t}function v(e){return e.replace(/(^\s*)|(\s*$)/g,"")}i("a15b"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),i("498a"),e.exports.formatTimeSecond=l,e.exports.formatTimeSecondWithSign=f,e.exports.formatTime=o,e.exports.formatDate=n,e.exports.isTelCode=r,e.exports.showError=c,e.exports.showSuccess=s,e.exports.filterEmoji=d,e.exports.getPreviousPage=u,e.exports.trim=v},5388:function(e,t,i){"use strict";i.r(t);var a=i("43ba"),o=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a},"5fff":function(e,t,i){"use strict";function a(){var e=Array.prototype.slice.call(arguments);return e.unshift(RegExp),new(Function.prototype.bind.apply(RegExp,e))}function o(){var e=Array.prototype.slice.call(arguments);return e.unshift(Date),new(Function.prototype.bind.apply(Date,e))}i("fb6a"),i("4d63"),i("ac1f"),i("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.getDate=o,t.getRegExp=a},"61f9":function(e,t,i){"use strict";var a=i("757c"),o=i.n(a);o.a},"757c":function(e,t,i){var a=i("11a8");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("b7773ed4",a,!0,{sourceMap:!1,shadowMode:!1})},a0ba:function(e,t,i){"use strict";var a=i("38b4");t["a"]=a["a"]},da8a:function(e,t,i){"use strict";i.r(t);var a=i("e9c5"),o=i("5388");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("61f9");var r,c=i("f0c5"),s=i("a0ba"),d=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"6949d5f2",null,!1,a["a"],r);"function"===typeof s["a"]&&Object(s["a"])(d),t["default"]=d.exports},e9c5:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[e.isVoiceRecord?e._e():i("v-uni-view",{staticClass:"add-certificate-box"},[i("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.addCertificateSubmit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"certificate-content-item"},["image"===e.type?i("v-uni-view",{staticClass:"certificate-content-item--image"},[i("v-uni-view",{staticClass:"h1"},[e._v("上传图片")]),i("v-uni-view",{staticClass:"add-certificate-image"},[i("v-uni-view",{staticClass:"add-certificate-image--item"},[i("v-uni-image",{staticClass:"image-add",attrs:{mode:"aspectFit",src:e.addCertificateImageUrl||"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/certificate/add.png"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.tapAddImage.apply(void 0,arguments)}}}),e.addCertificateImageUrl?i("v-uni-view",{staticClass:"image-delete one-close",attrs:{"data-index":e.index},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.tapDeleteImage.apply(void 0,arguments)}}}):e._e()],1)],1)],1):e._e(),"voice"===e.type?i("v-uni-view",{staticClass:"certificate-content-item--voice"},[i("v-uni-view",{staticClass:"h1"},[e._v(e._s(e.addCertificateVoice?"语音文件":"上传语音"))]),e.addCertificateVoice?e._e():i("v-uni-view",{staticClass:"input-name",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.openVoiceRecord.apply(void 0,arguments)}}},[e._v("录制语音"),i("v-uni-view",{staticClass:"icon-right one-arrow-right"})],1),e.addCertificateVoice?i("v-uni-view",{staticClass:"add-certificate-voice"},[i("v-uni-view",{staticClass:"add-certificate-voice-progress"},[i("v-uni-view",{class:"add-certificate-voice-progress--btn "+(e.isPlay?"one-stop-round":"one-start-round"),on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.playVoice.apply(void 0,arguments)}}}),i("v-uni-text",{staticClass:"add-certificate-voice-progress--start"},[e._v(e._s(e.showVideoPlayTime))]),i("v-uni-view",{staticClass:"add-certificate-voice-progress--loading"},[i("v-uni-view",{staticClass:"add-certificate-voice-progress--width",style:"width:"+1e5*e.videoPlayTime/e.duration+"%"})],1),i("v-uni-text",{staticClass:"add-certificate-voice-progress--end"},[e._v(e._s(e.showDurationTime))])],1),i("v-uni-view",{staticClass:"size"},[e._v("音频大小："+e._s(e.addFileInfo.size)),e.addFileInfo.size?i("v-uni-text",[e._v("M")]):e._e()],1),i("v-uni-view",{staticClass:"add-certificate-voice-delete one-close",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.tapDeleteVoice.apply(void 0,arguments)}}})],1):e._e()],1):e._e(),"file"===e.type?i("v-uni-view",{staticClass:"certificate-content-item--file"},[i("v-uni-view",{staticClass:"h1",staticStyle:{"margin-top":"32rpx"}},[e._v("选择文件")]),e.addFileInfo.size?i("v-uni-view",{staticClass:"file-size"},[e._v("文件大小："+e._s(e.addFileInfo.size)),i("v-uni-text",[e._v("M")])],1):e._e(),i("v-uni-view",{staticClass:"upload-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleChooseFileFun.apply(void 0,arguments)}}},[e._v("选择上传文件")])],1):e._e()],1),i("v-uni-view",{staticClass:"certificate-content-item"},[i("v-uni-view",{staticClass:"h1"},[e._v("命名文件")]),i("v-uni-input",{staticClass:"input-name",attrs:{value:e.nameValue,name:"name",maxLength:"20",placeholder:"最多20个字符，命名不能出现字符有：/：*？#”<>|。"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.nameInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"certificate-content-item"},[i("v-uni-view",{staticClass:"h1"},[e._v("存证类型")]),i("v-uni-view",{staticClass:"sign-certificate-type"},[i("v-uni-radio-group",{attrs:{name:"type"}},[i("v-uni-label",[i("v-uni-radio",{attrs:{value:"2",checked:!0}}),i("v-uni-text",{staticClass:"label-text"},[e._v("司法存证")]),i("v-uni-view",{staticClass:"label-detail"},[e._v("安全可信存证、国家授权时间、数据直连司法、司法效力")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"certificate-content-item"},[i("v-uni-view",{staticClass:"add-certificate-description"},[i("v-uni-view",{staticClass:"title"},[e._v("说明")]),i("v-uni-view",[e._v("1. 一次仅支持上传一个文件；")]),i("v-uni-view",[e._v("2. 所选文件将按照国密SM3算法计算Hash；")]),i("v-uni-view",[e._v("3. 链上不存储原文件，仅存储Hash。")]),"file"===e.type?i("v-uni-view",[e._v("4. 建议上传文件大小不超过1G。")]):e._e(),"voice"===e.type?i("v-uni-view",[e._v("4. 建议上传音频时长不超过两个小时，录制时长最长支持十分钟。")]):e._e()],1)],1),i("v-uni-button",{staticClass:"certificate-submit",attrs:{"form-type":"submit"}},[e._v(e._s(e.formId?"保存":"立即出证"))])],1)],1),"voice"===e.type&&e.isVoiceRecord?i("v-uni-view",{staticClass:"voice-record-box"},[i("v-uni-view",{staticClass:"voice-record-content"},[i("v-uni-view",{staticClass:"voice-record-time"},[e._v(e._s(e.showTime||"00:00:00"))]),i("v-uni-view",{staticClass:"voice-record-time-text"},[e._v(e._s(e.time?"正在录音… 点击按钮暂停录音自动保存":"点击按钮开始录音"))]),i("v-uni-view",{class:" "+(e.recording?"voice-record-btn voice-record-btn-loading":"voice-record-btn")},[i("v-uni-view",{staticClass:"voice-record-btn-center",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.longPressBtn.apply(void 0,arguments)}}})],1)],1)],1):e._e()],1)},n=[]}}]);