(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-evidence-certificateDetail-certificateDetail"],{"17a8":function(t,e,i){"use strict";var a=i("93c2"),n=i.n(a);n.a},2338:function(t,e,i){"use strict";i.r(e);var a=i("73c7"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"26c2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findContractSubject=e.get_certificate_address=e.evidence_detail=e.saveChainToContract=e.add_certificate_file=e.get_upload_policy=e.certificate_record_list=void 0;var a=i("3b7d"),n=a.host+"/v1/blockchain/certificateRecord/list";e.certificate_record_list=n;var o=a.host+"/v1/common/oss/policy";e.get_upload_policy=o;var c=a.host+"/v1/blockchain/dataStorage/add";e.add_certificate_file=c;var d=a.host+"/v1/contractEvidence/saveContractEvidence";e.saveChainToContract=d;var r=a.host+"/v1/blockchain/certificateRecord/detail";e.evidence_detail=r;var s=a.host+"/v1/blockchain/cert/download";e.get_certificate_address=s;var l=a.host+"/v1/contractEvidence/findContractSubject";e.findContractSubject=l},"2ed9":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[t.wrapperShow?i("v-uni-view",{staticClass:"page-container"},[i("v-uni-view",{staticClass:"weui-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),i("v-uni-view",{class:"weui-half-screen-dialog "+(t.contentShow?"show":"")},[i("v-uni-view",{staticClass:"weui-half-screen-dialog__bd"},[t._t("default")],2),i("v-uni-view",{staticClass:"weui-half-screen-dialog__hd__side",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v("取消")])],1)],1):t._e()],1)},o=[]},"3dd4":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".page-container[data-v-efa2a51c]{width:100%;height:100%;position:fixed;left:0;top:0}.page-container>.weui-mask[data-v-efa2a51c]{width:100%;height:100%;background:rgba(0,0,0,.1);position:absolute;left:0;top:0}.weui-half-screen-dialog[data-v-efa2a51c]{border-radius:0;padding:0;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:-webkit-transform .25s ease-in-out;transition:-webkit-transform .25s ease-in-out;transition:transform .25s ease-in-out;transition:transform .25s ease-in-out,-webkit-transform .25s ease-in-out;position:absolute;bottom:0;left:0;padding:0 %?28?%;right:0}.weui-half-screen-dialog.show[data-v-efa2a51c]{-webkit-transform:translateY(0);transform:translateY(0)}.weui-half-screen-dialog__bd[data-v-efa2a51c]{width:100%;min-height:%?200?%;padding:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around}.weui-half-screen-dialog__hd__side[data-v-efa2a51c]{left:0;width:100%;height:%?100?%;background:#fff;line-height:%?100?%;text-align:center;font-size:%?32?%;color:#999;margin-bottom:10px;margin-top:%?20?%;border-radius:%?16?%}.meun-list__item[data-v-efa2a51c]{text-align:center}.meun-list__item uni-image[data-v-efa2a51c]{width:%?84?%;height:%?84?%}.meun-list__item uni-text[data-v-efa2a51c]{display:block;height:%?34?%;font-size:%?24?%;font-weight:400;color:#999;line-height:%?34?%;margin-top:%?34?%}",""]),t.exports=e},"537e":function(t,e,i){function a(t){return t=t.toString(),t[1]?t:"0"+t}function n(t,e){var i=new Date(t);return o(i,e)}function o(t,e){var i=["Y","M","D","h","m","s"],n=[];for(var o in n.push(t.getFullYear()),n.push(a(t.getMonth()+1)),n.push(a(t.getDate())),n.push(a(t.getHours())),n.push(a(t.getMinutes())),n.push(a(t.getSeconds())),n)e=e.replace(i[o],n[o]);return e}function c(t){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return e.test(t)}function d(t){var e="出错了";"string"===typeof t?e=t:t.errMsg&&(e=t.errMsg),setTimeout((function(){uni.showToast({duration:2e3,icon:"none",title:e})}),50)}function r(t){setTimeout((function(){uni.showToast({title:t})}),50)}function s(t){var e=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"];return t.replace(new RegExp(e.join("|"),"g"),"")}function l(t){return f(t,"分","秒")}function f(t,e,i){if(t=t%6e4/1e3,t>-1){var a=Math.floor(t/60),n=Math.floor(t%60);return a<=0?n+i:a+e+n+i}return 0+i}function u(){var t=getCurrentPages(),e=(t[t.length-1],t[t.length-2]);return e}function v(t){return t.replace(/(^\s*)|(\s*$)/g,"")}i("a15b"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),i("498a"),t.exports.formatTimeSecond=l,t.exports.formatTimeSecondWithSign=f,t.exports.formatTime=n,t.exports.formatDate=o,t.exports.isTelCode=c,t.exports.showError=d,t.exports.showSuccess=r,t.exports.filterEmoji=s,t.exports.getPreviousPage=u,t.exports.trim=v},5492:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"/* pages/pm/evidenceManage/certificateDetail.wxss */\n.add-certificate-box[data-v-602de64a]{font-size:%?24?%;background:#f7f8f9}.certificate-content-item .h1[data-v-602de64a]{padding-left:%?48?%;padding-top:%?32?%;padding-bottom:%?32?%;font-size:%?32?%;font-weight:500;color:#333}.input-name-box[data-v-602de64a]{position:relative;padding:%?60?% 0;background:#fff}.certificate-content-item--file[data-v-602de64a]{padding-bottom:%?12?%;background-color:#fff}.certificate-content-item--file .file-name[data-v-602de64a],\n.certificate-content-item--file .file-size[data-v-602de64a]{font-size:%?28?%;padding:%?12?% %?48?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.upload-btn[data-v-602de64a]{width:%?670?%;height:%?100?%;line-height:%?100?%;margin:%?24?% auto %?48?%;font-weight:500;color:#fff;font-size:%?32?%;background:#464646;border-radius:%?8?%;color:#fff;text-align:center}.certificate-content-item .input-name[data-v-602de64a]{padding:0 %?48?%;background:#fff;width:100%;height:%?112?%;line-height:%?112?%;font-size:%?28?%;color:#333;box-sizing:border-box}.input-tip[data-v-602de64a]{font-size:%?24?%;position:absolute;right:%?48?%;bottom:%?32?%;color:#999}.certificate-content-item .sign-certificate-type[data-v-602de64a]{padding:%?40?% %?48?% %?40?% %?48?%;height:auto}.add-certificate-description[data-v-602de64a]{padding:0 %?48?%;font-weight:400;color:#999;line-height:%?40?%;font-size:%?24?%}.add-certificate-description .title[data-v-602de64a]{padding-bottom:%?12?%}.certificate-submit[data-v-602de64a]{margin:%?40?% auto;width:90%;height:%?100?%;line-height:%?100?%;background:#464646;border-radius:4px;color:#fff}.add-certificate-image[data-v-602de64a]{padding:%?56?% %?48?%;background:#fff;box-sizing:border-box}.add-certificate-image .name[data-v-602de64a],\n.add-certificate-image .size[data-v-602de64a]{font-size:%?28?%;padding:%?12?% 0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.add-certificate-image--item[data-v-602de64a]{position:relative}.add-certificate-image--item .image-add[data-v-602de64a]{width:100%;height:%?252?%}.add-certificate-image--item .image-delete[data-v-602de64a]{width:%?48?%;height:%?48?%;position:absolute;top:0;right:0;background:#000;font-family:icon-one;font-size:%?48?%;color:#fff;line-height:%?48?%;font-weight:400}.add-certificate-voice[data-v-602de64a]{padding:%?24?% 0;font-family:icon-one;background-Color:#fff}.add-certificate-voice-progress[data-v-602de64a]{height:%?50?%;width:88%;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:flex-left;-webkit-justify-content:flex-left;justify-content:flex-left}.add-certificate-voice .name[data-v-602de64a],\n.add-certificate-voice .size[data-v-602de64a]{font-size:%?28?%;padding:%?10?% %?48?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.add-certificate-voice .name[data-v-602de64a]{padding-top:%?20?%}.add-certificate-voice-progress .add-certificate-voice-progress--btn[data-v-602de64a]{width:%?48?%;height:%?48?%;color:#ed6c00;-webkit-box-flex:0;-webkit-flex-grow:0;flex-grow:0;font-size:%?48?%;line-height:1;margin-right:%?32?%}.add-certificate-voice-progress .add-certificate-voice-progress--start[data-v-602de64a]{color:#999;font-size:%?22?%}.add-certificate-voice-progress .add-certificate-voice-progress--end[data-v-602de64a]{color:#999;font-size:%?22?%;margin-right:%?32?%}.add-certificate-voice-progress .add-certificate-voice-progress--loading[data-v-602de64a]{height:%?4?%;width:%?392?%;background:#f7f8f9;margin:0 %?10?%;border-radius:%?2?%}.add-certificate-voice-progress .add-certificate-voice-progress--width[data-v-602de64a]{height:100%;background:#ed6c00}.add-certificate-voice-delete[data-v-602de64a]{position:absolute;width:%?24?%;height:%?24?%;right:%?32?%;top:%?32?%;color:#ccc;font-size:%?24?%}uni-textarea[data-v-602de64a]{width:100%}.voice-record-box[data-v-602de64a]{position:fixed;top:0;left:0;width:100%;height:100%}.voice-record-content[data-v-602de64a]{background:#fff;border-radius:8px;margin:%?64?% %?48?% %?138?%}.voice-record-time[data-v-602de64a]{text-align:center;color:#212121;font-size:%?56?%;line-height:%?80?%;margin-top:%?160?%}.voice-record-time-text[data-v-602de64a]{text-align:center;color:#999;font-size:%?28?%;font-weight:400;line-height:%?40?%}.voice-record-progress[data-v-602de64a]{width:90%;height:%?6?%;background:#f8f8f8;border-radius:%?4?%;margin:0 auto}.voice-record-btn[data-v-602de64a]{width:%?160?%;height:%?160?%;border:%?12?% solid rgba(237,108,0,.18);margin:0 auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:50%;margin-top:%?608?%}.voice-record-btn-center[data-v-602de64a]{width:%?128?%;height:%?128?%;border-radius:50%;background:#ed6c00}.voice-record-btn-loading[data-v-602de64a]{width:%?160?%;height:160rppx;border:%?12?% solid rgba(237,108,0,.18);position:relative}.voice-record-btn-loading .voice-record-btn-center[data-v-602de64a]{width:%?68?%;height:%?68?%;background:#ed6c00;border-radius:%?8?%;position:absolute}.icon-right[data-v-602de64a]{font-family:icon-one;float:right;font-size:%?26?%;color:#666}.certificate-detail-box[data-v-602de64a]{min-height:100vh;font-size:%?32?%;color:#333;background:#f7f8f9}.certificate-detail-box .h1[data-v-602de64a]{height:%?130?%;line-height:%?130?%;font-size:%?36?%;padding:0 %?48?%}.certificate-title[data-v-602de64a]{padding:%?30?% %?0?% %?32?% %?48?%;font-size:#333333;font-weight:500}.certificate-detail-items[data-v-602de64a]{padding:0 %?48?%;background:#fff}.certificate-detail-item[data-v-602de64a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?40?% 0;border-bottom:%?2?% solid #f5f5f5}.certificate-detail-item-name[data-v-602de64a]{-webkit-flex-shrink:0;flex-shrink:0;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;font-size:%?30?%;color:#666;font-weight:400}.certificate-detail-item-value[data-v-602de64a]{-webkit-box-flex:0;-webkit-flex-grow:0;flex-grow:0;word-wrap:break-word;word-break:break-all;font-size:%?30?%;color:#333}.certificate-detail-file[data-v-602de64a]{min-height:%?128?%;background:#fff;padding:0 %?48?%}.certificate-detail-file .pdf-file[data-v-602de64a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?48?% 0}.certificate-detail-file .pdf-file uni-image[data-v-602de64a]{width:%?36?%;height:%?36?%}.certificate-detail-file .pdf-file uni-text[data-v-602de64a]{font-family:PingFangSC-Medium,PingFang SC;font-weight:500;margin-left:%?16?%;max-width:%?560?%;color:#6e87b8;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.certificate-detail-file-name[data-v-602de64a]{color:#666;margin:%?50?% 0;font-family:icon-one}.certificate-detail-file-name i[data-v-602de64a]{margin-right:%?10?%;vertical-align:middle}.certificate-detail-file-content-picture[data-v-602de64a]{width:100%;height:%?180?%;margin-top:%?24?%;margin-bottom:%?24?%}.certificate-detail-file-content-video[data-v-602de64a]{width:%?320?%;height:%?180?%;margin-top:%?48?%;margin-bottom:%?50?%}.certificate-detail-file-text[data-v-602de64a]{color:#999;font-size:%?28?%;width:%?654?%;margin:%?38?% %?0?%;word-wrap:break-word}.certificate-detail-preview[data-v-602de64a]{border-radius:%?8?%;color:#6e82a9;line-height:%?100?%;margin-right:%?48?%;text-align:right}.certificate-detail-preview.failed[data-v-602de64a]{\n  /* background:#999;*/}.certificate-detail-download[data-v-602de64a]{background:#fff;padding:%?56?% 0}.add-certificate-voice-progress[data-v-602de64a]{width:100%}.contract-operate[data-v-602de64a]{position:absolute;right:%?48?%;top:%?64?%;padding:%?12?% 0 %?24?% %?24?%}.contract-operate>.contract-operate_item[data-v-602de64a]{display:inline-block;width:4px;height:4px;border-radius:50%;background:#333;margin:0 2px}.slide-menu_list[data-v-602de64a]{width:100%;background:#fff}.slide-menu_list>.slide-menu_item[data-v-602de64a]{height:%?104?%;margin:0 %?48?%;line-height:%?104?%;text-align:center;border-bottom:1px solid #efefef;font-size:%?32?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#212121}.undeContranct[data-v-602de64a]{color:#6e82a9!important;text-decoration:underline!important}body.?%PAGE?%[data-v-602de64a]{background-color:#fff}",""]),t.exports=e},"573f":function(t,e,i){"use strict";var a=i("8103"),n=i.n(a);n.a},"5fff":function(t,e,i){"use strict";function a(){var t=Array.prototype.slice.call(arguments);return t.unshift(RegExp),new(Function.prototype.bind.apply(RegExp,t))}function n(){var t=Array.prototype.slice.call(arguments);return t.unshift(Date),new(Function.prototype.bind.apply(Date,t))}i("fb6a"),i("4d63"),i("ac1f"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.getDate=n,e.getRegExp=a},"73c7":function(t,e,i){"use strict";var a=i("4ea4");i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("3b7d"),o=i("26c2"),c=a(i("933a")),d=i("537e"),r=(getApp(),null),s=uni.createInnerAudioContext(),l={1:"one-filetype-doc",2:"one-filetype-image",3:"one-filetype-music",4:"one-filetype-video",5:"one-contract"},f={data:function(){return{imageSrc:"",id:"",dataList:{},icon:"one-filetype-image",duration:0,isPlay:!1,videoPlayTime:0,showVideoPlayTime:"00:00:00",textContext:"",pdfUrl:"",contractId:"",type:"sign",audioContext:null,contractList:[],evidenceMenuShow:!1,durationShow:""}},components:{halfSlideItem:c.default},props:{},onLoad:function(t){this.setData({id:t.id,type:t.type}),this.fetchRecords(),"data"==t.type&&this.getContractList()},onReady:function(){this.setData({audioContext:uni.createAudioContext("myAudio")})},methods:{handlePlayFun:function(t){console.log(this.audioContext,this.audioContext._getAppStatus()),this.audioContext.play(),console.log(this.audioContext._getAppStatus())},playToEndFun:function(t){this.audioContext.pause(),this.audioContext.seek(0),this.audioContext.pause()},fetchRecords:function(){var t=this,e=this;uni.showLoading({title:"加载中"});var i=o.evidence_detail+"?id="+this.id;(0,n.get)({url:i,success:function(i){uni.hideLoading();var a=l[i.fileType];if(e.setData({dataList:i||{},icon:a,contractId:i.filePath}),1===i.fileType&&e.openTxt(),i.fileType,i.fileType,5===i.fileType){var c=o.get_certificate_address+"/"+t.dataList.id;uni.showLoading({title:"加载中"}),(0,n.get)({url:c,success:function(e){t.downloadPdfFun(e,0)},fail:function(t){uni.hideLoading()}})}},fail:function(t){uni.hideLoading(),d.showError(t)}})},handleViewDetailFun:function(){"sign"==this.type?uni.navigateTo({url:"/pages/contract/sign/next/contractDetail/contractDetail?contractId=".concat(this.contractId)}):this.previewCertificate()},openTxt:function(){var t=this,e=uni.getFileSystemManager();uni.downloadFile({url:this.dataList.filePath,success:function(i){var a=i.tempFilePath;e.readFile({filePath:a,encoding:"utf8",complete:function(e){console.log(e.data),t.setData({textContext:JSON.parse(e.data).context||""})}})}})},checkImage:function(t){this.setData({imageSrc:t.currentTarget.dataset.url}),uni.navigateTo({url:"?imageSrc="+this.imageSrc})},setVoice:function(){var t=this,e=this.dataList.filePath;s.src=e||"",setTimeout((function(){var e=t.showTime(s.duration);t.setData({duration:s.duration,durationShow:e}),s.onError((function(t){console.log(t.errMsg)})),s.onEnded((function(e){s.stop(),clearInterval(r),t.setData({isPlay:!1,videoPlayTime:0,showVideoPlayTime:"00:00:00"})})),s.onTimeUpdate((function(i){s.duration&&!t.duration&&(e=t.showTime(s.duration),t.setData({duration:s.duration,durationShow:e}))}))}),200)},showTime:function(t){function e(t){return t<10?"0"+t:t}var i=parseInt(t%60),a=parseInt(t/60),n=parseInt(a%24),o=parseInt(a/24);return o=e(o),n=e(n),i=e(i),o+":"+n+":"+i},setTime:function(){var t=this;r=setInterval((function(){var e=t.videoPlayTime+1,i=t.showTime(e);t.setData({videoPlayTime:e,showVideoPlayTime:i})}),1e3)},playVoice:function(){var t=this,e=this;this.isPlay?(s.pause(),clearInterval(r),s.onPause((function(){e.setData({isPlay:!1})}))):(s.play(),s.onPlay((function(){clearInterval(r),e.setData({isPlay:!0}),t.setTime()})))},previewCertificate:function(t){var e=this;if(1===this.dataList.status){var i=this.dataList.hash;if(i){var a=o.get_certificate_address+"/"+this.dataList.id;uni.showLoading({title:"加载中"}),(0,n.get)({url:a,success:function(t){e.downloadPdfFun(t,1)},fail:function(t){uni.hideLoading(),d.showError(t)}})}}else setTimeout((function(){uni.showToast({title:"出证中，请稍后再试",icon:"none"})}),50)},downloadPdfFun:function(t,e){var i=this;console.log(t),uni.downloadFile({url:t,success:function(t){uni.hideLoading();var a=t.tempFilePath;i.setData({pdfUrl:a}),e&&i.openPdfFun(a)},fail:function(t){uni.hideLoading(),console.log(t)},complete:function(t){}})},openPdfFun:function(t){console.log(t),uni.openDocument({filePath:t,fileType:"pdf",showMenu:!0,success:function(t){console.log(t,"success")},fail:function(t){console.log(t,"fail")},complete:function(){console.log("complete")}})},getContractList:function(){var t=this,e={certificateEvidenceId:this.id,pageIndex:0,pageSize:1e3};(0,n.get)({url:o.findContractSubject,params:e,success:function(e){t.setData({contractList:e.data})}})},goContractDetail:function(t){var e=t.currentTarget.dataset.contractid;uni.navigateTo({url:"/pages/contract/sign/next/contractDetail/contractDetail?contractId="+e})},showSlideMenu:function(){this.setData({evidenceMenuShow:!0})},goChainListPage:function(){this.setData({evidenceMenuShow:!1}),uni.navigateTo({url:"/pages/contract/contractList/chains/chains?id="+this.id})}}};e.default=f},8103:function(t,e,i){var a=i("5492");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("2ed33116",a,!0,{sourceMap:!1,shadowMode:!1})},"933a":function(t,e,i){"use strict";i.r(e);var a=i("2ed9"),n=i("d3f2");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("17a8");var c,d=i("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"efa2a51c",null,!1,a["a"],c);e["default"]=r.exports},"93c2":function(t,e,i){var a=i("3dd4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("c419668a",a,!0,{sourceMap:!1,shadowMode:!1})},"96d7":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={halfSlideItem:i("933a").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"certificate-detail-box"},[i("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("v-uni-view",{staticClass:"certificate-title"},[t._v("存证名称")]),i("v-uni-view",{staticStyle:{display:"flex","justify-content":"flex-end"}},["sign"==t.type?i("v-uni-view",{class:"certificate-detail-preview "+(1===t.dataList.status?"":"failed"),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showSlideMenu.apply(void 0,arguments)}}},[t._v("更多操作")]):t._e(),"data"==t.type?i("v-uni-view",{class:"certificate-detail-preview "+(1===t.dataList.status?"":"failed"),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewCertificate.apply(void 0,arguments)}}},[t._v("查看证书")]):t._e()],1)],1),i("v-uni-view",{staticClass:"certificate-detail-items"},[i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("存证名称")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(t.dataList.name||""))])],1),i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("存证类型")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(1==t.dataList.fileType?"文本":2==t.dataList.fileType?"图片":3==t.dataList.fileType?"语音":4==t.dataList.fileType?" 视频":"签署存证"))])],1),i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("存证渠道")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v("手机端")])],1),i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("存证方式")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(1==t.dataList.uploadMethod?"上传":"拍摄"))])],1),i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("存证时间")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(t.tools.formatTime(t.dataList.gmtCreate,"Y-M-D h:m:s")))])],1),i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("存证状态")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(0==t.dataList.status?"出证中...":1==t.dataList.status?"出证成功":"出证失败"))])],1)],1),i("v-uni-view",{staticClass:"certificate-title"},[t._v("文件信息")]),i("v-uni-view",{staticClass:"certificate-detail-file"},[1===t.dataList.fileType?i("v-uni-view",{staticClass:"certificate-detail-file-text"},[t._v(t._s(t.textContext))]):t._e(),2===t.dataList.fileType?i("v-uni-image",{staticClass:"certificate-detail-file-content-picture",attrs:{mode:"aspectFit","data-src":t.dataList.filePath,src:t.dataList.filePath},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.checkImage.apply(void 0,arguments)}}}):t._e(),3===t.dataList.fileType?i("v-uni-view",{staticClass:"add-certificate-voice"},[i("v-uni-audio",{attrs:{src:t.dataList.filePath,name:t.dataList.name,author:!0,id:"myAudio",controls:!0},on:{ended:function(e){arguments[0]=e=t.$handleEvent(e),t.playToEndFun.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.handlePlayFun.apply(void 0,arguments)}}})],1):t._e(),4===t.dataList.fileType?i("v-uni-video",{staticClass:"certificate-detail-file-content-video",attrs:{id:"videoBox",src:t.dataList.filePath},on:{Error:function(e){arguments[0]=e=t.$handleEvent(e),t.videoError.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.checkVideo.apply(void 0,arguments)}}}):t._e(),5===t.dataList.fileType?i("v-uni-view",{staticClass:"pdf-file",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleViewDetailFun.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"file-image",attrs:{src:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/certificate/file.png"}}),i("v-uni-text",[t._v(t._s(t.dataList.fileName))])],1):t._e()],1),i("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("v-uni-view",{staticClass:"certificate-title"},[t._v("证书信息")])],1),i("v-uni-view",{staticClass:"certificate-detail-items"},[i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("存证hash")])],1),i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(t.dataList.hash||""))])],1)],1),i("v-uni-view",{staticStyle:{height:"20rpx",background:"#F7F8F9"}}),i("v-uni-view",{staticClass:"certificate-detail-items"},[i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("认证时间")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(t.tools.formatTime(t.dataList.gmtModified,"Y-M-D h:m:s")))])],1),i("v-uni-view",{staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name"},[t._v("证书状态")]),i("v-uni-view",{staticClass:"certificate-detail-item-value"},[t._v(t._s(0==t.dataList.status?"出证中...":1==t.dataList.status?"出证成功":"出证失败"))])],1)],1),"data"==t.type&&t.contractList.length>0?i("v-uni-view",{staticClass:"certificate-title"},[t._v("关联合同")]):t._e(),"data"==t.type?i("v-uni-view",{staticClass:"certificate-detail-items"},t._l(t.contractList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"certificate-detail-item"},[i("v-uni-view",{staticClass:"certificate-detail-item-name undeContranct",attrs:{"data-contractid":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goContractDetail.apply(void 0,arguments)}}},[t._v(t._s(e.contractTitle))])],1)})),1):t._e()],1),i("halfSlideItem",{attrs:{isShow:t.evidenceMenuShow}},[i("v-uni-view",{staticClass:"slide-menu_list"},[i("v-uni-view",{staticClass:"slide-menu_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewCertificate.apply(void 0,arguments)}}},[t._v("查看证书")]),i("v-uni-view",{staticClass:"slide-menu_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goChainListPage.apply(void 0,arguments)}}},[t._v("查看证据链")])],1)],1)],1)},o=[]},cb3e:function(t,e,i){"use strict";(function(t,i){e["a"]=function(e){(e.options.wxs||(e.options.wxs={}))["tools"]=function(e){function a(t){return t=t.toString(),t[1]?t:"0"+t}function n(e,i){if(!e)return"";var a=t(e);return o(a,i)}function o(t,e){e=e||"Y-M-D";var i=["Y","M","D","h","m","s"],n=[];n.push(t.getFullYear()),n.push(a(t.getMonth()+1)),n.push(a(t.getDate())),n.push(a(t.getHours())),n.push(a(t.getMinutes())),n.push(a(t.getSeconds()));for(var o=0;o<n.length;++o)e=e.replace(i[o],n[o]);return e}function c(t){var e=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"];return t.replace(i(e.join("|"),"g"),"")}function d(t){var e=t;if(!e||0===e.length)return"#";if(1===e.length)return e;var i=c(e),a=e.indexOf(i);return 0!==i.length&&0===a?e.slice(0,1).toUpperCase():e.slice(0,2)}return e.exports={formatDate:o,formatTime:n,firstLogicChar:d},e.exports}({exports:{}})}}).call(this,i("5fff")["getDate"],i("5fff")["getRegExp"])},d3f2:function(t,e,i){"use strict";i.r(e);var a=i("e1b9"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},d6d9:function(t,e,i){"use strict";var a=i("cb3e");e["a"]=a["a"]},d8c9:function(t,e,i){"use strict";i.r(e);var a=i("96d7"),n=i("2338");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("573f");var c,d=i("f0c5"),r=i("d6d9"),s=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"602de64a",null,!1,a["a"],c);"function"===typeof r["a"]&&Object(r["a"])(s),e["default"]=s.exports},e1b9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{wrapperShow:!1,contentShow:!1}},components:{},methods:{close:function(){var t=this;this.setData({contentShow:!1}),setTimeout((function(){t.setData({wrapperShow:!1})}),250)},open:function(){var t=this;this.setData({wrapperShow:!0}),setTimeout((function(){t.setData({contentShow:!0})}),250)}}};e.default=a}}]);