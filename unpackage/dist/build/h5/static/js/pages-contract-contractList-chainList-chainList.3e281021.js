(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-contract-contractList-chainList-chainList"],{"22a8":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"search-box"},[a("v-uni-view",{staticClass:"search"},[a("v-uni-image",{staticClass:"icon-search",attrs:{src:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/component/search_icon.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchClicked.apply(void 0,arguments)}}}),a("v-uni-input",{staticClass:"search-input",attrs:{"placeholder-style":"color:#B2B2B2",placeholder:"请输入文件名称",disabled:t.isDisableInput,focus:t.isAutoFocus,value:t.inputValue},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChanged.apply(void 0,arguments)}}}),t.isShowCancel&&t.inputValue?a("v-uni-text",{staticClass:"iconfont iconbaseline-close-px cancel-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelClicked.apply(void 0,arguments)}}}):t._e()],1)],1)},o=[]},3872:function(t,e,a){"use strict";(function(t){var n=a("4ea4");a("99af"),a("d81d"),a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909")),o=a("3b7d"),c=a("5746"),r=n(a("5fea")),s=n(a("b969")),l=a("537e"),d={data:function(){return{pageIndex:0,pageSize:10,searchParams:"",contracts:[],timer:null,canScroll:!0,selectList:[],pageId:null}},components:{search:r.default,searchHighlightTextView:s.default},props:{},onLoad:function(t){var e=t.id;this.setData({pageId:e}),this.getChainsFun(!0)},onPullDownRefresh:function(){this.getChainsFun(!0)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{getChainsFun:function(t){var e=this,a={name:this.searchParams?this.searchParams:"",contractSubjectId:this.pageId};(0,o.get)({url:c.findNoRelatedContractEvidence,params:a,success:function(a){var n=a;a.length>0?e.setData({canScroll:!0}):e.setData({canScroll:!1}),n.map((function(t){t.gmtModified=e.formatTimeConvert(t.gmtModified,1)}));var o=[];o=t?n:[].concat((0,i.default)(e.contracts),(0,i.default)(n)),e.setData({contracts:o})},fail:function(t){l.showError(t)}})},inputSearchFun:function(t){var e=this;this.timer&&clearTimeout(this.timer),this.setData({searchParams:t.detail,pageIndex:0,timer:setTimeout((function(){e.getChainsFun(!0)}),300)})},cancleSearchFun:function(){this.setData({searchParams:""}),this.getChainsFun(!0)},formatTimeConvert:function(t,e){t+="",t=10==t.length?1e3*t:t;var a=new Date(Number(t)),n=a.getFullYear(),i=a.getMonth()+1;i=i<10?"0"+i:i;var o=a.getDate();o=o<10?"0"+o:o;var c=a.getHours();c=c<10?"0"+c:c;var r=a.getMinutes(),s=a.getSeconds();return r=r<10?"0"+r:r,s=s<10?"0"+s:s,0==e?n+"-"+i+"-"+o:n+"-"+i+"-"+o+" "+c+":"+r+":"+s},scrollToBottom:function(){},getSelectList:function(e){t.log(e.detail.value),this.setData({selectList:e.detail.value})},saveContractEvidenceRel:function(){var e=this;if(0!=this.selectList.length){var a={contractSubjectId:this.pageId,certificateEvidenceIds:(0,i.default)(this.selectList)};(0,o.postBody)({url:c.saveContractEvidenceRel,params:a,success:function(t){e.getChainsFun(),uni.showModal({title:"提交成功",content:"",showCancel:!1,success:function(t){t.confirm&&uni.navigateBack({})}})},fail:function(e){t.log(e)}})}}}};e.default=d}).call(this,a("5a52")["default"])},"39ad":function(t,e,a){var n=a("5264");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0cea6f4a",n,!0,{sourceMap:!1,shadowMode:!1})},"405f":function(t,e,a){"use strict";a.r(e);var n=a("3872"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"45e8":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",t._l(t.textArr,(function(e,n){return a("v-uni-text",{key:n,class:e==t.skeyword?"highlight":"normal"},[t._v(t._s(e))])})),1)},o=[]},5264:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".search[data-v-fb08f2a4]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?84?%;background:#f7f8f9;border-radius:%?4?%;width:calc(100% - %?48?%);padding:0 %?24?%}.search .icon-search[data-v-fb08f2a4]{width:%?32?%;height:%?32?%}.search .search-input[data-v-fb08f2a4]{width:calc(100% - 30px);height:%?84?%;line-height:%?84?%;box-sizing:border-box;font-size:%?28?%;color:#999;font-weight:400;background:transparent}.search-box[data-v-fb08f2a4]{width:100%}.search-box .cancel-button[data-v-fb08f2a4]{position:absolute;right:%?16?%;top:0;font-size:%?28?%;line-height:%?84?%;color:#606060;z-index:10}",""]),t.exports=e},"537e":function(t,e,a){function n(t){return t=t.toString(),t[1]?t:"0"+t}function i(t,e){var a=new Date(t);return o(a,e)}function o(t,e){var a=["Y","M","D","h","m","s"],i=[];for(var o in i.push(t.getFullYear()),i.push(n(t.getMonth()+1)),i.push(n(t.getDate())),i.push(n(t.getHours())),i.push(n(t.getMinutes())),i.push(n(t.getSeconds())),i)e=e.replace(a[o],i[o]);return e}function c(t){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return e.test(t)}function r(t){var e="出错了";"string"===typeof t?e=t:t.errMsg&&(e=t.errMsg),setTimeout((function(){uni.showToast({duration:2e3,icon:"none",title:e})}),50)}function s(t){setTimeout((function(){uni.showToast({title:t})}),50)}function l(t){var e=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"];return t.replace(new RegExp(e.join("|"),"g"),"")}function d(t){return u(t,"分","秒")}function u(t,e,a){if(t=t%6e4/1e3,t>-1){var n=Math.floor(t/60),i=Math.floor(t%60);return n<=0?i+a:n+e+i+a}return 0+a}function f(){var t=getCurrentPages(),e=(t[t.length-1],t[t.length-2]);return e}function h(t){return t.replace(/(^\s*)|(\s*$)/g,"")}a("a15b"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("498a"),t.exports.formatTimeSecond=d,t.exports.formatTimeSecondWithSign=u,t.exports.formatTime=i,t.exports.formatDate=o,t.exports.isTelCode=c,t.exports.showError=r,t.exports.showSuccess=s,t.exports.filterEmoji=l,t.exports.getPreviousPage=f,t.exports.trim=h},5746:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get_signal_sign_person_list=e.get_contract_launch=e.get_contract_detail=e.deleteContractEvidenceRel=e.getChainsList=e.saveContractEvidenceRel=e.findNoRelatedContractEvidence=e.saveEvidenceContractRel=e.findNoRelatedContractSubject=e.previewChainImg=e.get_all_contract_list=e.get_contract_list=void 0;var n=a("3b7d"),i=n.host+"/v2/contract/list";e.get_contract_list=i;var o=n.host+"/v2/contract/count";e.get_all_contract_list=o;var c=n.host+"/v1/blockchain/contractCert/preview/";e.previewChainImg=c;var r=n.host+"/v1/contractEvidence/findNoRelatedContractSubject";e.findNoRelatedContractSubject=r;var s=n.host+"/v1/contractEvidence/saveEvidenceContractRel";e.saveEvidenceContractRel=s;var l=n.host+"/v1/contractEvidence/findNoRelatedContractEvidence";e.findNoRelatedContractEvidence=l;var d=n.host+"/v1/contractEvidence/saveContractEvidenceRel";e.saveContractEvidenceRel=d;var u=n.host+"/v1/contractEvidence/findContractEvidence";e.getChainsList=u;var f=n.host+"/v1/contractEvidence/deleteContractEvidenceRel";e.deleteContractEvidenceRel=f;var h=n.host+"/v2/contract/detail";e.get_contract_detail=h;var v=n.host+"/v2/contract/launch";e.get_contract_launch=v;var p=n.host+"/v1/contacts/findContacts";e.get_signal_sign_person_list=p},"5fea":function(t,e,a){"use strict";a.r(e);var n=a("22a8"),i=a("8461");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("e5e1");var c,r=a("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"fb08f2a4",null,!1,n["a"],c);e["default"]=s.exports},6751:function(t,e,a){"use strict";var n=a("9fda"),i=a.n(n);i.a},"679b":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{timer:null,inputValue:""}},components:{},props:{isShowCancel:{type:Boolean,default:!1},isAutoFocus:{type:Boolean,default:!1},isDisableInput:{type:Boolean,default:!1},timeSearch:{type:Boolean,default:!0}},methods:{searchClicked:function(){this.$emit("searchClicked",{detail:this.data.inputValue})},inputChanged:function(e){var a=this;this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){var n=e.detail.value;t.log(n),a.setData({inputValue:n}),t.log(a.timeSearch,a.isShowCancel),a.timeSearch&&a.$emit("inputChanged",{detail:n})}),300)})},cancelClicked:function(t){this.setData({inputValue:""}),this.$emit("cancelClicked")}}};e.default=a}).call(this,a("5a52")["default"])},8461:function(t,e,a){"use strict";a.r(e);var n=a("679b"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},8717:function(t,e,a){"use strict";a.r(e);var n=a("c184"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"8adc":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,"\n.pl-search[data-v-6592db90]{width:100%;top:%?100?%;border-bottom:1px solid #f5f5f5}.list-wrapper[data-v-6592db90]{position:absolute;width:100%;top:%?140?%;left:0;height:calc(100% - %?300?%)}.list-wrapper_title[data-v-6592db90]{padding:%?24?% 0;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#666;background:#fff;position:relative;z-index:2}.contract[data-v-6592db90]{padding:0 %?48?%;width:100%;height:%?204?%;border-bottom:%?2?% solid #f5f5f5;box-sizing:border-box;position:relative;display:-webkit-box;display:-webkit-flex;display:flex}.contract-item_wrap[data-v-6592db90]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex}.checkbox-wrap[data-v-6592db90]{margin-right:%?24?%;padding-top:%?30?%}.contract-introduce[data-v-6592db90]{height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:100%}.contract-introduce .contract-title[data-v-6592db90]{width:%?464?%;margin-top:%?32?%;font-size:%?30?%;font-weight:500;color:#333;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.contract-introduce .contract-right[data-v-6592db90]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;height:%?52?%;width:%?126?%;margin-top:%?24?%}.contract-introduce .contract-right .status-icon[data-v-6592db90]{width:%?12?%;height:%?12?%;border-radius:50%}.contract-introduce .contract-right .contract-state[data-v-6592db90]{margin-left:%?12?%;font-size:%?24?%;color:#999}.contract-related[data-v-6592db90]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:%?62?%;width:%?456?%;font-size:%?24?%;font-weight:400;color:#666}.contract-other[data-v-6592db90]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-shrink:1;flex-shrink:1;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;margin-top:%?6?%}.contract-sponsor[data-v-6592db90]{max-width:%?280?%;height:%?34?%;margin-top:%?16?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.contract-signatory[data-v-6592db90]{width:%?244?%;height:%?34?%;margin-left:%?32?%;margin-top:%?16?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.contract-updatetime[data-v-6592db90]{height:%?22?%;font-size:%?22?%;color:#999}.contract-updatetime-middle[data-v-6592db90]{height:%?16?%;width:%?18?%;border-left:%?1?% solid #d8d8d8;margin-left:%?16?%;margin-top:%?8?%}.time[data-v-6592db90]{height:%?22?%;font-size:%?22?%;color:#999}.empty-data[data-v-6592db90]{left:0}.contract-operate[data-v-6592db90]{position:absolute;right:%?48?%;top:%?64?%;cursor:pointer;padding:%?12?% 0 %?24?% %?24?%}.contract-operate>.contract-operate_item[data-v-6592db90]{display:inline-block;width:4px;height:4px;border-radius:50%;background:#333;margin:0 2px}.slide-menu_list[data-v-6592db90]{width:100%;background:#fff}.slide-menu_list>.slide-menu_item[data-v-6592db90]{height:%?104?%;margin:0 %?48?%;line-height:%?104?%;text-align:center;border-bottom:1px solid #efefef;font-size:%?32?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#212121;cursor:pointer}.status-icon.success[data-v-6592db90]{background-color:#67c23a}.status-icon.fail[data-v-6592db90]{background-color:#f56c6c}.launchButton[data-v-6592db90]{width:%?670?%;height:%?100?%;line-height:%?100?%;font-weight:500;color:#fff;font-size:%?32?%;background:#464646;border-radius:%?8?%;color:#fff;text-align:center;position:fixed;bottom:%?24?%}  \n/*checkbox 整体大小  */uni-checkbox[data-v-6592db90]{width:%?32?%;height:%?32?%}  \n/*checkbox 选项框大小  */uni-checkbox .wx-checkbox-input[data-v-6592db90]{width:%?32?%;height:%?32?%;border-radius:50%;-webkit-transform:translateY(-160%);transform:translateY(-160%)}  \n/*checkbox选中后样式  */uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked[data-v-6592db90]{background:#ed6c00}  \n/*checkbox选中后图标样式  */uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked[data-v-6592db90]::before{width:%?28?%;height:%?28?%;line-height:%?28?%;text-align:center;font-size:%?22?%;color:#fff;background:transparent;transform:translate(-50%,-50%) scale(1);-webkit-transform:translate(-50%,-50%) scale(1)}.checkbox-content[data-v-6592db90]{-webkit-transform:translateY(-16%);transform:translateY(-16%)}body.?%PAGE?%[data-v-6592db90]{background-color:#fff}",""]),t.exports=e},"9fda":function(t,e,a){var n=a("d910");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("eb63c134",n,!0,{sourceMap:!1,shadowMode:!1})},b969:function(t,e,a){"use strict";a.r(e);var n=a("45e8"),i=a("8717");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("6751");var c,r=a("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"26033abc",null,!1,n["a"],c);e["default"]=s.exports},c184:function(t,e,a){"use strict";a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{textArr:[],skeyword:"",stext:""}},components:{},props:{keyword:{type:String},text:{type:String}},watch:{keyword:{handler:"keywordChanged",immediate:!0},text:{handler:"textChanged",immediate:!0}},options:{addGlobalClass:!0},externalClasses:["highlight"],methods:{keywordChanged:function(t){this.setData({skeyword:t}),this.skeyword=t,this.manage()},textChanged:function(t){this.stext=t,this.manage()},manage:function(){this.stext&&this.manageText(this.stext,this.skeyword||"")},manageText:function(t,e){e?this.setData({textArr:t.replace(new RegExp("".concat(e),"g"),"%%".concat(e,"%%")).split("%%")}):this.setData({textArr:[t]})}}};e.default=n},ce33:function(t,e,a){var n=a("8adc");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("1baa26aa",n,!0,{sourceMap:!1,shadowMode:!1})},d910:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,"/* components/searchHighlightTextView/searchHighlightTextView.wxss */.highlight[data-v-26033abc]{color:red}.normal[data-v-26033abc]{color:#484848}",""]),t.exports=e},d9da:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={search:a("5fea").default,searchHighlightTextView:a("b969").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"pl-search"},[a("search",{attrs:{timeSearch:!0,isShowCancel:!0},on:{inputChanged:function(e){arguments[0]=e=t.$handleEvent(e),t.inputSearchFun.apply(void 0,arguments)},cancelClicked:function(e){arguments[0]=e=t.$handleEvent(e),t.cancleSearchFun.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"list-wrapper_title"},[t._v("已选："+t._s(t.selectList.length))]),a("v-uni-scroll-view",{staticClass:"list-wrapper",attrs:{"scroll-y":"true","scroll-anchoring":"true","scroll-with-animation":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollToBottom.apply(void 0,arguments)}}},[a("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.getSelectList.apply(void 0,arguments)}}},t._l(t.contracts,(function(e,n){return a("v-uni-view",{key:n,staticClass:"contract",attrs:{"data-index":n,"data-item":e}},[a("v-uni-view",{staticClass:"checkbox-wrap"},[a("v-uni-checkbox",{attrs:{value:e.id}},[a("v-uni-view",{staticClass:"checkbox-content"},[a("v-uni-view",{staticClass:"contract-introduce"},[a("v-uni-view",{staticClass:"contract-title"},[a("searchHighlightTextView",{attrs:{highlight:"highlight",text:e.name,keyword:t.searchParams}})],1),a("v-uni-view",{staticClass:"contract-right"},[a("v-uni-view",{class:"status-icon "+(1==e.status?"success":99==e.status?"fail":"")}),a("v-uni-view",{staticClass:"contract-state"},[t._v(t._s(0==e.status?"存证中...":1==e.status?"存证成功":99==e.status?"存证失败":""))])],1)],1),a("v-uni-view",{staticClass:"contract-related"},[a("v-uni-view",{staticClass:"contract-sponsor"},[t._v("存证类型："+t._s(2==e.evidenceType?"数据存证":"签署存证"))])],1),a("v-uni-view",{staticClass:"contract-other"},[a("v-uni-view",{staticClass:"contract-updatetime"},[t._v("存证时间")]),a("v-uni-view",{staticClass:"contract-updatetime-middle"}),a("v-uni-view",{staticClass:"time"},[t._v(t._s(e.gmtModified))])],1)],1)],1)],1)],1)})),1)],1),t.contracts.length<=0?a("v-uni-view",{staticClass:"empty-data placeholder-color"},[t._v("暂无数据")]):t._e(),a("v-uni-button",{staticClass:"launchButton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveContractEvidenceRel.apply(void 0,arguments)}}},[t._v("确定添加")])],1)},o=[]},e5e1:function(t,e,a){"use strict";var n=a("39ad"),i=a.n(n);i.a},f3f3:function(t,e,a){"use strict";a.r(e);var n=a("d9da"),i=a("405f");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("fd80");var c,r=a("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"6592db90",null,!1,n["a"],c);e["default"]=s.exports},fd80:function(t,e,a){"use strict";var n=a("ce33"),i=a.n(n);i.a}}]);