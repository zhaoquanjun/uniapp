(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-costManage-giveWay-giveWay"],{"0d8a":function(t,e,a){"use strict";a.r(e);var n=a("dc6e"),i=a("3acd");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("3739");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"6b49f639",null,!1,n["a"],s);e["default"]=c.exports},3350:function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),o=a("3b7d"),s=a("730f"),r={data:function(){return{ways:[{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/friends.png",label:"微信好友",type:1},{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/shanqian_icon.png",label:"闪签用户",type:2}],origin:"card",id:"",wxShareId:"",money:0,count:0,shareIcon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/share_icon.png",isWxShare:!1}},components:{},props:{},onLoad:function(t){console.log(t),t.origin&&this.setData({origin:t.origin}),t.id&&this.setData({id:t.id}),t.money&&this.setData({money:t.money}),t.count&&this.setData({count:t.count}),this.shareCardFun()},onReady:function(){},onShow:function(){console.log("show")},onHide:function(){console.log("hide")},onUnload:function(){this.isWxShare||this.cancelShareFun()},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){var t=this,e={};this.origin;return e={title:"".concat(this.money,"元礼品卡，点击即可领取"),path:"/pages/costManage/receiveCard/receiveCard?gifCardId=".concat(this.wxShareId),imageUrl:this.shareIcon},e=(0,i.default)((0,i.default)({},e),{},{success:function(t){console.error("分享成功",t),setTimeout((function(){uni.showToast({icon:"none",title:"分享成功"})}),50)},fail:function(e){console.error("分享失败",e),setTimeout((function(){uni.showToast({icon:"none",title:"分享失败"})}),50),t.cancelShareFun()}}),console.error("shareObj",e,this.id,this.wxShareId),e},methods:{handleSelectShareWayFun:function(t){var e=this;switch(console.log(t.currentTarget.dataset.type),t.currentTarget.dataset.type){case 1:console.log("分享到好友"),this.setData({isWxShare:!0});break;case 2:this.cancelShareFun((function(){uni.navigateTo({url:"/pages/costManage/giving/giving?origin="+e.origin+"&id="+e.id+"&money="+e.money})}));break;default:break}},shareCardFun:function(){var t=this;uni.showLoading({icon:"none",title:"加载中"});var e={shareId:this.id,mode:"give"==this.origin?"buy":"rechargeCard",shareNum:this.count,shareMoney:this.money};(0,o.postBody)({url:s.share_card,params:e,success:function(e){console.log(e),t.setData({wxShareId:e})},fail:function(t){console.log(t)},complete:function(){console.log("完成了"),uni.hideLoading()}})},cancelShareFun:function(t){(0,o.get)({url:s.cancel_hare_card+this.wxShareId,success:function(t){console.log(t)},fail:function(t){console.log(t)},complete:function(){console.log("complete")}}),"function"==typeof t&&t()}}};e.default=r},3379:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,"\nuni-view[data-v-6b49f639]{box-sizing:border-box}.give-way--page .way-list[data-v-6b49f639]{padding:0 %?40?%}.give-way--page .way-list .list-item[data-v-6b49f639]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?20?%;padding:%?32?%;border-radius:%?8?%;background-color:#fff}.give-way--page .way-list .list-item .l-part[data-v-6b49f639]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.way-list .list-item .l-part .icon[data-v-6b49f639]{margin-right:%?28?%;width:%?68?%;height:%?68?%}.way-list .list-item .l-part .icon uni-image[data-v-6b49f639]{width:100%;height:100%}.way-list .list-item .l-part .desc[data-v-6b49f639]{font-size:%?30?%;color:#212121;line-height:%?30?%}.way-list .list-item .r-part[data-v-6b49f639]{font-size:%?30?%;line-height:%?28?%;color:#999}.share-btn[data-v-6b49f639]{position:absolute;top:0;left:0;width:100%;height:100%;border:none;outline:none;opacity:0;z-index:1}body.?%PAGE?%[data-v-6b49f639]{background-color:#f5f5f5}",""]),t.exports=e},3739:function(t,e,a){"use strict";var n=a("d847"),i=a.n(n);i.a},"3acd":function(t,e,a){"use strict";a.r(e);var n=a("3350"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"730f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.send_card_directive=e.send_by_buy=e.get_company_auth_status=e.get_personal_auth_status=e.cancel_hare_card=e.share_card=e.get_wx_pay_params=e.buy_card_by_account=e.get_card_list=e.get_balance_list=e.get_accout_info=e.get_gift_card_status=e.get_gift_card_from_wx=void 0;var n=a("3b7d"),i=n.host+"/v1/expense/receiveShareGiftCard/";e.get_gift_card_from_wx=i;var o=n.host+"/v1/expense/transferGiftCardTimeout/";e.get_gift_card_status=o;var s=n.host+"/v1/account/getCurrentUserOrCompanyInfo";e.get_accout_info=s;var r=n.host+"/v1/expense/consumptionDetailsList";e.get_balance_list=r;var c=n.host+"/v1/expense/couponList";e.get_card_list=c;var u=n.host+"/v1/pay/account/pay";e.buy_card_by_account=u;var l=n.host+"/v1/pay/create/order";e.get_wx_pay_params=l;var d=n.host+"/v1/expense/shareGiftCard";e.share_card=d;var h=n.host+"/v1/expense/cancelShareGiftCard/";e.cancel_hare_card=h;var f=n.host+"/v1/account/user/getAuthUserInfoByNameAndPhone";e.get_personal_auth_status=f;var p=n.host+"/v1/account/company/getOneAuthCompanyByName";e.get_company_auth_status=p;var g=n.host+"/v1/expense/batchTransfer";e.send_by_buy=g;var v=n.host+"/v1/expense/transfer";e.send_card_directive=v},d847:function(t,e,a){var n=a("3379");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("ab5ac9ba",n,!0,{sourceMap:!1,shadowMode:!1})},dc6e:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"give-way--page"},[a("v-uni-view",{staticClass:"way-list"},t._l(t.ways,(function(e,n){return a("v-uni-view",{key:n,staticClass:"list-item",attrs:{"data-type":e.type},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSelectShareWayFun.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"l-part"},[a("v-uni-view",{staticClass:"icon"},[a("v-uni-image",{attrs:{src:e.icon}})],1),a("v-uni-view",{staticClass:"desc"},[t._v(t._s(e.label))])],1),a("v-uni-view",{staticClass:"r-part one one-apparrow-right"}),0==n?a("v-uni-button",{staticClass:"share-btn",attrs:{"open-type":"share"}},[t._v("分享")]):t._e()],1)})),1)],1)},o=[]}}]);