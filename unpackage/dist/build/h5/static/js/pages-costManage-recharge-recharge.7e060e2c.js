(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-costManage-recharge-recharge"],{"02fe":function(e,t,a){"use strict";a.r(t);var n=a("1e7a"),i=a("eb7b");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("80eb");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"474e46fb",null,!1,n["a"],s);t["default"]=c.exports},"1e7a":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"recharge-page"},[a("v-uni-view",{staticClass:"recharge-account"},[a("v-uni-text",{staticClass:"label"},[e._v("充值账户")]),a("v-uni-text",{staticClass:"value"},[e._v(e._s(e.userName))])],1),a("v-uni-view",{staticClass:"recharge-amount--section"},[a("v-uni-view",{staticClass:"amount-list"},[a("v-uni-view",{staticClass:"label"},[e._v("面值金额")]),a("v-uni-view",{staticClass:"list-area"},e._l(e.amountList,(function(t,n){return a("v-uni-view",{key:n,class:"list-item "+(e.selectActive==t.value&&"select"==e.valueStatus?"active":""),attrs:{"data-value":t.value},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSelectValueFun.apply(void 0,arguments)}}},[e._v(e._s(t.label))])})),1)],1),a("v-uni-view",{staticClass:"amount-input--area"},[a("v-uni-input",{attrs:{placeholder:"请输入10～1000整数",type:"number"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.handleInputValueFun.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.handleFocusFun.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"prefix"},[e._v("元")])],1),a("v-uni-view",{staticClass:"total-area"},[a("v-uni-view",{staticClass:"label"},[e._v("总金额")]),a("v-uni-view",{staticClass:"value"},[e._v("¥ "+e._s(e.total))])],1)],1),a("v-uni-view",{staticClass:"confirm-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleConfirmRechargeFun.apply(void 0,arguments)}}},[e._v("确认充值")])],1)},o=[]},"730f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.send_card_directive=t.send_by_buy=t.get_company_auth_status=t.get_personal_auth_status=t.cancel_hare_card=t.share_card=t.get_wx_pay_params=t.buy_card_by_account=t.get_card_list=t.get_balance_list=t.get_accout_info=t.get_gift_card_status=t.get_gift_card_from_wx=void 0;var n=a("3b7d"),i=n.host+"/v1/expense/receiveShareGiftCard/";t.get_gift_card_from_wx=i;var o=n.host+"/v1/expense/transferGiftCardTimeout/";t.get_gift_card_status=o;var s=n.host+"/v1/account/getCurrentUserOrCompanyInfo";t.get_accout_info=s;var r=n.host+"/v1/expense/consumptionDetailsList";t.get_balance_list=r;var c=n.host+"/v1/expense/couponList";t.get_card_list=c;var u=n.host+"/v1/pay/account/pay";t.buy_card_by_account=u;var l=n.host+"/v1/pay/create/order";t.get_wx_pay_params=l;var f=n.host+"/v1/expense/shareGiftCard";t.share_card=f;var d=n.host+"/v1/expense/cancelShareGiftCard/";t.cancel_hare_card=d;var p=n.host+"/v1/account/user/getAuthUserInfoByNameAndPhone";t.get_personal_auth_status=p;var v=n.host+"/v1/account/company/getOneAuthCompanyByName";t.get_company_auth_status=v;var g=n.host+"/v1/expense/batchTransfer";t.send_by_buy=g;var b=n.host+"/v1/expense/transfer";t.send_card_directive=b},"80eb":function(e,t,a){"use strict";var n=a("9005"),i=a.n(n);i.a},9005:function(e,t,a){var n=a("def9");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("28f72c26",n,!0,{sourceMap:!1,shadowMode:!1})},"97e5":function(e,t,a){"use strict";a("a9e3"),a("b680"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("3b7d"),i=a("730f"),o={data:function(){return{userName:"",amountList:[{label:100,value:100},{label:500,value:500},{label:1e3,value:1e3}],valueStatus:"select",rechargeValue:100,total:100,selectActive:100}},components:{},props:{},onLoad:function(e){},onReady:function(){},onShow:function(){this.getCurrentUserNameFun()},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getCurrentUserNameFun:function(){var e="",t=uni.getStorageSync("currentUser");console.log(t),e=t.companyId?t.companyName:t.name,this.setData({userName:e})},handleSelectValueFun:function(e){var t=e.currentTarget.dataset.value;this.setData({selectActive:t,rechargeValue:t,total:t.toFixed(2),valueStatus:"select"})},handleInputValueFun:function(e){var t=e.detail.value;return this.setData({rechargeValue:t,total:t}),t},handleFocusFun:function(){"select"==this.valueStatus&&this.setData({selectActive:-1,rechargeValue:"",valueStatus:"input"})},getWxPayParamsFun:function(){var e=this;uni.showLoading({title:"创建订单中"}),(0,n.get)({url:i.get_wx_pay_params+"?amount="+this.rechargeValue+"&body=微信支付&rechargeType=1&goods="+this.rechargeValue+"&goodsNum=1",success:function(t){console.log(t),e.payByWxFun(t)},fail:function(e){setTimeout((function(){uni.showToast({icon:"none",title:e})}),50)},complete:function(){uni.hideLoading()}})},payByWxFun:function(e){this.rechargeValue&&(console.log(e,{timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign}),uni.requestPayment({timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign,success:function(e){console.log(e),setTimeout((function(){uni.showToast({icon:"none",title:"支付成功"})}),50),setTimeout((function(){uni.redirectTo({url:"/pages/costManage/accountBalance/accountBalance?type=2&origin=result"})}),1500)},fail:function(e){console.log(e)},complete:function(){}}))},handleConfirmRechargeFun:function(){this.rechargeValue&&Number(this.rechargeValue)>=10?this.getWxPayParamsFun():setTimeout((function(){uni.showToast({icon:"none",title:"充值金额不能小于10元"})}),50)}}};t.default=o},def9:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"\nuni-view[data-v-474e46fb]{box-sizing:border-box}.recharge-page .recharge-account[data-v-474e46fb]{margin:%?16?% 0;padding:%?48?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff}.label[data-v-474e46fb]{font-size:%?32?%;line-height:%?32?%;color:#333}.value[data-v-474e46fb]{font-size:%?32?%;line-height:%?32?%;color:#333}.recharge-page .recharge-amount--section[data-v-474e46fb]{padding:0 %?48?%;background-color:#fff}.recharge-page .recharge-amount--section .amount-list[data-v-474e46fb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:%?2?% solid #f5f5f5}.recharge-amount--section .amount-list .list-area[data-v-474e46fb]{padding:%?44?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.amount-list .list-area .list-item[data-v-474e46fb]{margin-left:%?20?%;padding:%?8?% %?30?%;color:#666;font-size:%?28?%;line-height:%?40?%;border:%?2?% solid #ddd;border-radius:%?4?%}.amount-list .list-area .list-item.active[data-v-474e46fb]{color:#ed6c00;border-color:#ed6c00}.recharge-amount--section .amount-input--area[data-v-474e46fb]{position:relative;padding:%?44?% 0;border-bottom:%?2?% solid #f5f5f5}.amount-input--area uni-input[data-v-474e46fb]{padding-right:%?48?%;text-align:right;font-size:%?28?%;color:#333;line-height:%?28?%}.amount-input--area .prefix[data-v-474e46fb]{position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:%?28?%;line-height:%?28?%;color:#333}.amount-input--area uni-input[data-v-474e46fb]::-webkit-input-placeholder{font-size:%?28?%;color:#999;line-height:%?28?%}.amount-input--area uni-input[data-v-474e46fb]::placeholder{font-size:%?28?%;color:#999;line-height:%?28?%}.recharge-amount--section .total-area[data-v-474e46fb]{padding:%?46?% 0 %?48?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.confirm-btn[data-v-474e46fb]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:%?80?%;height:%?100?%;line-height:%?100?%;width:calc(100% - %?96?%);text-align:center;color:#fff;font-size:%?32?%;font-weight:500;border-radius:%?8?%;background-color:#464646}body.?%PAGE?%[data-v-474e46fb]{background-color:#f5f5f5}",""]),e.exports=t},eb7b:function(e,t,a){"use strict";a.r(t);var n=a("97e5"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a}}]);