(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-costManage-giveWay-giveWay"],{"0d8a":function(t,e,a){"use strict";a.r(e);var n=a("dc6e"),i=a("3acd");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("3739");var o,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"6b49f639",null,!1,n["a"],o);e["default"]=c.exports},3350:function(t,e,a){"use strict";(function(t){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),s=a("3b7d"),o=a("730f"),r={data:function(){return{ways:[{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/friends.png",label:"微信好友",type:1},{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/shanqian_icon.png",label:"闪签用户",type:2}],origin:"card",id:"",wxShareId:"",money:0,count:0,shareIcon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/share_icon.png",isWxShare:!1}},components:{},props:{},onLoad:function(e){t.log(e),e.origin&&this.setData({origin:e.origin}),e.id&&this.setData({id:e.id}),e.money&&this.setData({money:e.money}),e.count&&this.setData({count:e.count}),this.shareCardFun()},onReady:function(){},onShow:function(){t.log("show")},onHide:function(){t.log("hide")},onUnload:function(){this.isWxShare||this.cancelShareFun()},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){var e=this,a={};this.origin;return a={title:"".concat(this.money,"元礼品卡，点击即可领取"),path:"/pages/costManage/receiveCard/receiveCard?gifCardId=".concat(this.wxShareId),imageUrl:this.shareIcon},a=(0,i.default)((0,i.default)({},a),{},{success:function(e){t.error("分享成功",e),setTimeout((function(){uni.showToast({icon:"none",title:"分享成功"})}),50)},fail:function(a){t.error("分享失败",a),setTimeout((function(){uni.showToast({icon:"none",title:"分享失败"})}),50),e.cancelShareFun()}}),t.error("shareObj",a,this.id,this.wxShareId),a},methods:{handleSelectShareWayFun:function(e){var a=this;switch(t.log(e.currentTarget.dataset.type),e.currentTarget.dataset.type){case 1:t.log("分享到好友"),this.setData({isWxShare:!0});break;case 2:this.cancelShareFun((function(){uni.navigateTo({url:"/pages/costManage/giving/giving?origin="+a.origin+"&id="+a.id+"&money="+a.money})}));break;default:break}},shareCardFun:function(){var e=this;uni.showLoading({icon:"none",title:"加载中"});var a={shareId:this.id,mode:"give"==this.origin?"buy":"rechargeCard",shareNum:this.count,shareMoney:this.money};(0,s.postBody)({url:o.share_card,params:a,success:function(a){t.log(a),e.setData({wxShareId:a})},fail:function(e){t.log(e)},complete:function(){t.log("完成了"),uni.hideLoading()}})},cancelShareFun:function(e){(0,s.get)({url:o.cancel_hare_card+this.wxShareId,success:function(e){t.log(e)},fail:function(e){t.log(e)},complete:function(){t.log("complete")}}),"function"==typeof e&&e()}}};e.default=r}).call(this,a("5a52")["default"])},3379:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,"\nuni-view[data-v-6b49f639]{box-sizing:border-box}.give-way--page .way-list[data-v-6b49f639]{padding:0 %?40?%}.give-way--page .way-list .list-item[data-v-6b49f639]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?20?%;padding:%?32?%;border-radius:%?8?%;background-color:#fff}.give-way--page .way-list .list-item .l-part[data-v-6b49f639]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.way-list .list-item .l-part .icon[data-v-6b49f639]{margin-right:%?28?%;width:%?68?%;height:%?68?%}.way-list .list-item .l-part .icon uni-image[data-v-6b49f639]{width:100%;height:100%}.way-list .list-item .l-part .desc[data-v-6b49f639]{font-size:%?30?%;color:#212121;line-height:%?30?%}.way-list .list-item .r-part[data-v-6b49f639]{font-size:%?30?%;line-height:%?28?%;color:#999}.share-btn[data-v-6b49f639]{position:absolute;top:0;left:0;width:100%;height:100%;border:none;outline:none;opacity:0;z-index:1}body.?%PAGE?%[data-v-6b49f639]{background-color:#f5f5f5}",""]),t.exports=e},3739:function(t,e,a){"use strict";var n=a("d847"),i=a.n(n);i.a},"3acd":function(t,e,a){"use strict";a.r(e);var n=a("3350"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},"730f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buy_package=e.get_package_list=e.get_account_and_card_info=e.send_card_directive=e.send_by_buy=e.get_company_auth_status=e.get_personal_auth_status=e.cancel_hare_card=e.share_card=e.get_wx_pay_params=e.buy_card_by_account=e.get_card_list=e.get_balance_list=e.get_accout_info=e.get_gift_card_status=e.get_gift_card_from_wx=void 0;var n=a("3b7d"),i=n.host+"/v1/expense/receiveShareGiftCard/";e.get_gift_card_from_wx=i;var s=n.host+"/v1/expense/transferGiftCardTimeout/";e.get_gift_card_status=s;var o=n.host+"/v1/account/getCurrentUserOrCompanyInfo";e.get_accout_info=o;var r=n.host+"/v1/expense/consumptionDetailsList";e.get_balance_list=r;var c=n.host+"/v1/expense/couponList";e.get_card_list=c;var u=n.host+"/v1/pay/account/pay";e.buy_card_by_account=u;var l=n.host+"/v1/pay/create/order";e.get_wx_pay_params=l;var d=n.host+"/v1/expense/shareGiftCard";e.share_card=d;var h=n.host+"/v1/expense/cancelShareGiftCard/";e.cancel_hare_card=h;var f=n.host+"/v1/account/user/getAuthUserInfoByNameAndPhone";e.get_personal_auth_status=f;var p=n.host+"/v1/account/company/getOneAuthCompanyByName";e.get_company_auth_status=p;var g=n.host+"/v1/expense/batchTransfer";e.send_by_buy=g;var v=n.host+"/v1/expense/transfer";e.send_card_directive=v;var _=n.host+"/v1/expense/accountBalance";e.get_account_and_card_info=_;var y=n.host+"/v1/contractExpense/listContractSetMeals";e.get_package_list=y;var b=n.host+"/v1/contractExpense/purchaseContractSetMeal";e.buy_package=b},d847:function(t,e,a){var n=a("3379");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("ab5ac9ba",n,!0,{sourceMap:!1,shadowMode:!1})},dc6e:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"give-way--page"},[a("v-uni-view",{staticClass:"way-list"},t._l(t.ways,(function(e,n){return a("v-uni-view",{key:n,staticClass:"list-item",attrs:{"data-type":e.type},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSelectShareWayFun.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"l-part"},[a("v-uni-view",{staticClass:"icon"},[a("v-uni-image",{attrs:{src:e.icon}})],1),a("v-uni-view",{staticClass:"desc"},[t._v(t._s(e.label))])],1),a("v-uni-view",{staticClass:"r-part one one-apparrow-right"}),0==n?a("v-uni-button",{staticClass:"share-btn",attrs:{"open-type":"share"}},[t._v("分享")]):t._e()],1)})),1)],1)},s=[]}}]);