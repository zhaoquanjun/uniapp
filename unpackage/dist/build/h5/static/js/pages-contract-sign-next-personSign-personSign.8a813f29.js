(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-contract-sign-next-personSign-personSign"],{"0ad2":function(t,e,n){"use strict";var i=n("72ba"),a=n.n(i);a.a},"185a":function(t,e,n){"use strict";n.r(e);var i=n("fae5"),a=n("b0bb");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("0ad2");var o,c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"56d5bde8",null,!1,i["a"],o);e["default"]=r.exports},5746:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get_signal_sign_person_list=e.get_contract_launch=e.get_contract_detail=e.deleteContractEvidenceRel=e.getChainsList=e.saveContractEvidenceRel=e.findNoRelatedContractEvidence=e.saveEvidenceContractRel=e.findNoRelatedContractSubject=e.previewChainImg=e.get_all_contract_list=e.get_contract_list=void 0;var i=n("3b7d"),a=i.host+"/v2/contract/list";e.get_contract_list=a;var s=i.host+"/v2/contract/count";e.get_all_contract_list=s;var o=i.host+"/v1/blockchain/contractCert/preview/";e.previewChainImg=o;var c=i.host+"/v1/contractEvidence/findNoRelatedContractSubject";e.findNoRelatedContractSubject=c;var r=i.host+"/v1/contractEvidence/saveEvidenceContractRel";e.saveEvidenceContractRel=r;var d=i.host+"/v1/contractEvidence/findNoRelatedContractEvidence";e.findNoRelatedContractEvidence=d;var l=i.host+"/v1/contractEvidence/saveContractEvidenceRel";e.saveContractEvidenceRel=l;var u=i.host+"/v1/contractEvidence/findContractEvidence";e.getChainsList=u;var h=i.host+"/v1/contractEvidence/deleteContractEvidenceRel";e.deleteContractEvidenceRel=h;var v=i.host+"/v2/contract/detail";e.get_contract_detail=v;var f=i.host+"/v2/contract/launch";e.get_contract_launch=f;var p=i.host+"/v1/contacts/findContacts";e.get_signal_sign_person_list=p},"65e2":function(t,e,n){"use strict";(function(t){n("a15b"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("3b7d"),a=n("5746"),s=n("aa5f"),o={data:function(){return{ishighLight:!1,checked1:!0,checked2:!0,chapter:[],userName:"",userPhone:"",searchResultList:[],timer:null}},props:{},onLoad:function(t){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{checkedTap1:function(){var t=this.checked1;this.setData({checked1:!t})},checkedTap2:function(){var t=this.checked2;this.setData({checked2:!t})},back:function(){uni.navigateBack({})},hasRepeatPserson:function(){var t=uni.getStorageSync("signMans"),e=!0;if(t.length>0)for(var n=0;n<t.length;n++){var i=t[n];this.userName!=i.userName||i.userPhone!=this.userPhone||i.companyName||(e=!1)}return e},next:function(){var t=this;if(!this.hasRepeatPserson())return setTimeout((function(){uni.showToast({title:"你已添加该签署方信息",icon:"none"})}),50),!1;if(!/^1[345789]\d{9}$/.test(this.userPhone))return setTimeout((function(){uni.showToast({title:"请输入正确的账号",icon:"none"})}),50),!1;var e=this,n=new Promise((function(t,n){(0,i.get)({url:s.person_message,params:{name:e.userName,phone:e.userPhone},success:function(e){t(e)}})}));Promise.all([n]).then((function(e){var n=!1,i=[],a="";"1"==e[0]&&(n=!0),1==t.checked1&&(i.push(1),a+="手绘章，"),1==t.checked2&&(i.push(4),a+="个人模版章");var s={userName:t.userName,userPhone:t.userPhone,processType:2,sealName:a,sealType:i.join(),relationType:1,status:1,isPersonAuth:n},o=uni.getStorageSync("signMans");o.push(s),uni.setStorageSync("signMans",o),uni.redirectTo({url:"/pages/contract/sign/next/next"})}))},bindKeyInput:function(t){"userName"==t.target.dataset.field?(this.setData({userName:t.detail.value}),t.detail.value?this.getContactList(t.detail.value):this.setData({searchResultList:[]})):this.setData({userPhone:t.detail.value.replace(/[^\d.]/g,"")}),this.setData({ishighLight:this.setCanNextFun()})},getContactList:function(e){var n=this;this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){(0,i.get)({url:a.get_signal_sign_person_list+"?contactType=1&name="+e,success:function(t){n.setData({searchResultList:t})},fail:function(e){t.log(e)}})}),500)})},handleSelectDataFun:function(t){var e=this,n=t.target.dataset.name,i=t.target.dataset.phone;setTimeout((function(){e.setData({userName:n,userPhone:i,searchResultList:[]})}),200),setTimeout((function(){e.setData({ishighLight:e.setCanNextFun()})}),300)},handleBlurFun:function(){var t=this;setTimeout((function(){t.setData({searchResultList:[]})}),200)},setCanNextFun:function(){var t=!1;return""!=this.userPhone&&""!=this.userName&&(t=!0),t}}};e.default=o}).call(this,n("5a52")["default"])},"72ba":function(t,e,n){var i=n("ec5c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("72baca6d",i,!0,{sourceMap:!1,shadowMode:!1})},b0bb:function(t,e,n){"use strict";n.r(e);var i=n("65e2"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},ec5c:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"\n.item-title[data-v-56d5bde8]{padding:%?0?% %?48?%;font-size:%?32?%;color:#333;font-weight:500;height:%?110?%;line-height:%?110?%}.item-Content[data-v-56d5bde8]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;height:%?106?%;background-color:#fff}.item-Content .message[data-v-56d5bde8]{margin:0 %?48?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:%?2?% solid #f5f5f5;font-size:%?30?%;font-weight:400;box-sizing:border-box}.item-Content .search-result--list[data-v-56d5bde8]{position:absolute;top:100%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);margin-top:%?4?%;padding:%?16?% 0;width:100%;opacity:0;border:%?2?% solid #d7d8d9;background-color:#fff;\n  /* box-shadow: 0 8rpx 8rpx #666; */z-index:-11;box-sizing:border-box;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.item-Content .search-result--list .list-item[data-v-56d5bde8]{padding:%?24?% %?48?%;font-size:%?32?%;line-height:%?40?%;color:#666;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-Content .search-result--list.show[data-v-56d5bde8]{-webkit-transform:translateY(0);transform:translateY(0);z-index:11;opacity:1}.item-Content .othermessage[data-v-56d5bde8]{display:-webkit-box;display:-webkit-flex;display:flex;margin:0 %?48?%;width:100%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:%?2?% solid #f5f5f5;font-size:%?30?%;font-weight:400;box-sizing:border-box}.item-Content .message uni-input[data-v-56d5bde8]{text-align:right}.bottom-btn-container[data-v-56d5bde8]{position:fixed;height:%?100?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;bottom:%?40?%;margin-top:%?40?%}.bottom-btn-container .back[data-v-56d5bde8]{width:%?160?%;height:%?100?%;font-size:%?32?%;font-weight:400;color:#666;display:inline-block;text-align:center;line-height:%?100?%;margin-left:%?32?%}.bottom-btn-container .next[data-v-56d5bde8]{width:%?478?%;text-align:center;display:inline-block;height:%?100?%;line-height:%?100?%;background:#464646;border-radius:%?8?%;color:#fff;margin-left:%?40?%;font-size:%?32?%}  \n/*  重写 radio 样式  */  \n/* 未选中的 背景样式 */uni-radio .wx-radio-input[data-v-56d5bde8]{border-radius:50%;width:%?30?%;height:%?30?%;border:%?2?% solid #ccc;background:#f7f8f9}  \n/* 选中后的 背景样式 （红色背景 无边框 可根据UI需求自己修改） */uni-radio .wx-radio-input.wx-radio-input-checked[data-v-56d5bde8]{border:%?2?% solid #ee7005;background:#ee7005}  \n/* 选中后的 对勾样式 （白色对勾 可根据UI需求自己修改） */uni-radio .wx-radio-input.wx-radio-input-checked[data-v-56d5bde8]::before{width:3orpx;\n  /* 选中后对勾大小，不要超过背景的尺寸 */height:%?30?%;\n  /* 选中后对勾大小，不要超过背景的尺寸 */line-height:%?30?%;text-align:center;font-size:%?20?%;\n  /* 对勾大小 30rpx */color:#fff;\n  /* 对勾颜色*/transform:translate(-50%,-50%) scale(1);-webkit-transform:translate(-50%,-50%) scale(1)}body.?%PAGE?%[data-v-56d5bde8]{background-color:#f7f8f9}",""]),t.exports=e},fae5:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"pageContent"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"item-title"},[t._v("输入信息")]),n("v-uni-view",{staticClass:"item-Content"},[n("v-uni-view",{staticClass:"message"},[n("v-uni-text",[t._v("姓名")]),n("v-uni-input",{attrs:{type:"text",value:t.userName,placeholder:"请输入","data-field":"userName"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindKeyInput.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBlurFun.apply(void 0,arguments)}}})],1),n("v-uni-view",{class:"search-result--list "+(t.searchResultList.length>0?"show":"")},t._l(t.searchResultList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"list-item",attrs:{"data-name":e.name,"data-phone":e.phone},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSelectDataFun.apply(void 0,arguments)}}},[t._v(t._s(e.name)+" - "+t._s(e.phone))])})),1)],1),n("v-uni-view",{staticClass:"item-Content"},[n("v-uni-view",{staticClass:"message"},[n("v-uni-text",[t._v("手机号")]),n("v-uni-input",{attrs:{type:"text",value:t.userPhone,maxlength:"11",placeholder:"请输入","data-field":"userPhone"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindKeyInput.apply(void 0,arguments)}}})],1)],1)],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"item-title"},[t._v("签署要求")]),n("v-uni-view",{staticClass:"item-Content"},[n("v-uni-view",{staticClass:"othermessage",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.checkedTap1.apply(void 0,arguments)}}},[n("v-uni-radio",{attrs:{value:"r1",checked:t.checked1}}),n("v-uni-view",{staticStyle:{"margin-left":"8rpx","padding-top":"8rpx"}},[t._v("手绘章")])],1)],1),n("v-uni-view",{staticClass:"item-Content"},[n("v-uni-view",{staticClass:"othermessage",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.checkedTap2.apply(void 0,arguments)}}},[n("v-uni-radio",{attrs:{value:"r2",checked:t.checked2}}),n("v-uni-view",{staticStyle:{"margin-left":"8rpx","padding-top":"8rpx"}},[t._v("个人模版章")])],1)],1)],1),n("v-uni-view",{staticClass:"bottom-btn-container"},[n("v-uni-text",{staticClass:"back",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[t._v("返回")]),t.ishighLight?t._e():n("v-uni-text",{staticClass:"next",staticStyle:{background:"#999999"}},[t._v("确定")]),t.ishighLight?n("v-uni-text",{staticClass:"next",staticStyle:{background:"#464646"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.next.apply(void 0,arguments)}}},[t._v("确定")]):t._e()],1)],1)},s=[]}}]);