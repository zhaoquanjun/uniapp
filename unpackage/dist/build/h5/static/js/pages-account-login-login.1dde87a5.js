(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-account-login-login"],{"06fb":function(n,t,o){"use strict";o.r(t);var i=o("fc42"),e=o("bf7a");for(var a in e)"default"!==a&&function(n){o.d(t,n,(function(){return e[n]}))}(a);o("cb64");var u,s=o("f0c5"),r=Object(s["a"])(e["default"],i["b"],i["c"],!1,null,"37f54bda",null,!1,i["a"],u);t["default"]=r.exports},"090b":function(n,t,o){var i=o("ffa7");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var e=o("4f06").default;e("fb3f9c9c",i,!0,{sourceMap:!1,shadowMode:!1})},"1c01":function(n,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("3b7d"),e=o("aa5f"),a={data:function(){return{wxCode:"",openId:"",unionId:"",loginPhone:"",isShowMark:!1,isBindOpenId:!1,bandPhone:""}},components:{},props:{},onLoad:function(n){},onShow:function(){this.getRegisterStatusFun()},onShareAppMessage:function(){},methods:{omerror:function(n){console.log(n,"error111")},onAuthError:function(n){console.log(n,"error")},loginWxFun:function(n){var t=this;uni.login({success:function(o){o.code?(t.setData({wxCode:o.code}),"function"==typeof n&&n()):setTimeout((function(){uni.showToast({icon:"none",title:"请先授权微信登陆"})}),50)},fail:function(){setTimeout((function(){uni.showToast({icon:"none",title:"请先授权微信登陆"})}),50)}})},getRegisterStatusFun:function(){var n=this,t=!1;this.loginWxFun((function(){n.getUserRegisterInfoFun(t)}))},handleLoginByPhoneFun:function(){var n=this,t=!0;this.loginWxFun((function(){n.getUserRegisterInfoFun(t)}))},getUserRegisterInfoFun:function(n){var t=this;this.isBindOpenId?n&&uni.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.bandPhone+"&unionId="+this.unionId+"&openId="+this.openId+"&originType="+this.originType}):(0,i.get)({url:e.get_phone_wx_code+"/"+this.wxCode,success:function(o){o.isRegister?(t.setData({bandPhone:o.phone,openId:o.openId,unionId:o.unionId,isBindOpenId:!0}),n&&uni.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+t.bandPhone+"&unionId="+t.unionId+"&openId="+t.openId+"&originType="+t.originType})):t.setData({isBindOpenId:!1})},fail:function(n){setTimeout((function(){uni.showToast({icon:"none",title:"登陆信息获取失败："+n})}),50),t.setData({isBindOpenId:!1})}})},getPhoneFun:function(n){var t=this;(0,i.post)({url:e.decode_phone,params:{encrypted:n.detail.encryptedData,iv:n.detail.iv,code:this.wxCode,wxAppType:2},success:function(n){t.setData({bandPhone:n.phone,loginPhone:n.phone,openId:n.openId,unionId:n.unionId,isBindOpenId:!0}),uni.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+n.phone+"&unionId="+n.unionId+"&openId="+n.openId})},fail:function(n){setTimeout((function(){uni.showToast({icon:"none",title:n})}),50)}})},getPhoneNumber:function(n){var t=this;console.log(n,9999),"getPhoneNumber:ok"==n.detail.errMsg?this.loginWxFun((function(){t.getPhoneFun(n)})):setTimeout((function(){uni.showToast({icon:"none",title:"快捷登陆失败"})}),50)},bindKeyInput:function(n){var t=n.detail.value;if(console.log(t.length),t.length>11)return t.substr(0,11);this.setData({loginPhone:n.detail.value})},bindPhoneAction:function(){uni.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.loginPhone+"&unionId="+this.unionId+"&openId="+this.openId})}}};t.default=a},bf7a:function(n,t,o){"use strict";o.r(t);var i=o("1c01"),e=o.n(i);for(var a in i)"default"!==a&&function(n){o.d(t,n,(function(){return i[n]}))}(a);t["default"]=e.a},cb64:function(n,t,o){"use strict";var i=o("090b"),e=o.n(i);e.a},fc42:function(n,t,o){"use strict";var i;o.d(t,"b",(function(){return e})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return i}));var e=function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("v-uni-view",[o("v-uni-view",{staticClass:"mark-view",attrs:{hidden:!n.isShowMark}},[o("v-uni-view",{staticClass:"mark-content-view global-shadow"},[o("v-uni-input",{staticClass:"mark-phone-input",attrs:{placeholder:"请输入手机号码",value:n.loginPhone,type:"number"},on:{input:function(t){arguments[0]=t=n.$handleEvent(t),n.bindKeyInput.apply(void 0,arguments)}}}),o("v-uni-view",{staticClass:"mark-btn",on:{click:function(t){t.stopPropagation(),arguments[0]=t=n.$handleEvent(t),n.bindPhoneAction.apply(void 0,arguments)}}},[n._v("确认绑定此号码")])],1)],1)],1)},a=[]},ffa7:function(n,t,o){var i=o("24fb");t=i(!1),t.push([n.i,"/* pages/account/login/login.wxss */.btn[data-v-37f54bda]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:%?556?%;width:%?534?%;height:%?88?%;line-height:%?88?%;color:#fff;font-size:%?32?%;font-weight:200;border-radius:%?8?%;background:#464646}.login-title[data-v-37f54bda]{position:absolute;top:%?128?%;width:100%;text-align:center;font-size:%?46?%;line-height:%?46?%;height:%?46?%;color:#fff}\n\n\n/* .login-bg{\n  position: fixed;\n  width: 100%;\n  height: 100%;\n} */.mark-view[data-v-37f54bda]{position:fixed;width:100%;height:100%;background-color:rgba(0,0,0,.6)}.mark-content-view[data-v-37f54bda]{position:fixed;width:%?590?%;height:%?300?%;left:%?80?%;top:%?350?%;background-color:#fff;border-radius:%?10?%}.mark-phone-input[data-v-37f54bda]{float:left;width:%?526?%;margin-left:%?32?%;height:%?80?%;margin-top:%?64?%;line-height:%?80?%;border-bottom:%?1?% #e5e5e5 solid;text-align:center;font-size:%?30?%;font-weight:200;color:#404040}.mark-btn[data-v-37f54bda]{float:left;width:%?430?%;margin-left:%?80?%;height:%?80?%;line-height:%?80?%;margin-top:%?40?%;background:#464646;border-radius:8px;color:#fff;text-align:center;font-size:%?30?%;font-weight:200}",""]),n.exports=t}}]);