(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-contract-contractList-contractList"],{"118d":function(t,e,a){"use strict";a.r(e);var i=a("f84b"),n=a("1378");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("6e01");var c,s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"0c32fb2c",null,!1,i["a"],c);e["default"]=r.exports},1378:function(t,e,a){"use strict";a.r(e);var i=a("fa6d"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"17a8":function(t,e,a){"use strict";var i=a("93c2"),n=a.n(i);n.a},"22a8":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"search-box"},[a("v-uni-view",{staticClass:"search"},[a("v-uni-image",{staticClass:"icon-search",attrs:{src:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/component/search_icon.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchClicked.apply(void 0,arguments)}}}),a("v-uni-input",{staticClass:"search-input",attrs:{"placeholder-style":"color:#B2B2B2",placeholder:"请输入文件名称",disabled:t.isDisableInput,focus:t.isAutoFocus,value:t.inputValue},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChanged.apply(void 0,arguments)}}}),t.isShowCancel&&t.inputValue?a("v-uni-text",{staticClass:"iconfont iconbaseline-close-px cancel-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelClicked.apply(void 0,arguments)}}}):t._e()],1)],1)},o=[]},2501:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"\n.pl-search[data-v-0c32fb2c]{padding:%?0?% %?48?%;width:100%;border-bottom:1px solid #f5f5f5}.list-wrapper[data-v-0c32fb2c]{position:absolute;width:100%;top:%?80?%;left:0;height:calc(100% - %?80?%)}.bottom-loading[data-v-0c32fb2c]{width:100%;text-align:center;font-size:%?26?%;color:#999;height:%?80?%;line-height:%?80?%;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.contract[data-v-0c32fb2c]{padding:0 %?48?%;width:100%;height:%?204?%;border-bottom:%?2?% solid #f5f5f5;box-sizing:border-box;position:relative}.contract-introduce[data-v-0c32fb2c]{height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:100%}.contract-introduce .contract-title[data-v-0c32fb2c]{width:%?464?%;margin-top:%?32?%;font-size:%?30?%;font-weight:500;color:#333;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.contract-introduce .contract-right[data-v-0c32fb2c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;height:%?52?%;width:%?126?%;margin-top:%?24?%}.contract-introduce .contract-right .status-icon[data-v-0c32fb2c]{width:%?12?%;height:%?12?%;border-radius:50%}.contract-introduce .contract-right .contract-state[data-v-0c32fb2c]{margin-left:%?12?%;font-size:%?24?%;color:#999}.contract-related[data-v-0c32fb2c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:%?62?%;width:%?456?%;font-size:%?24?%;font-weight:400;color:#666}.contract-other[data-v-0c32fb2c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-shrink:1;flex-shrink:1;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;margin-top:%?6?%}.contract-sponsor[data-v-0c32fb2c]{max-width:%?180?%;height:%?34?%;margin-top:%?16?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.contract-signatory[data-v-0c32fb2c]{width:%?244?%;height:%?34?%;margin-left:%?32?%;margin-top:%?16?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.contract-updatetime[data-v-0c32fb2c]{height:%?22?%;font-size:%?22?%;color:#999}.contract-updatetime-middle[data-v-0c32fb2c]{height:%?16?%;width:%?18?%;border-left:%?1?% solid #d8d8d8;margin-left:%?16?%;margin-top:%?8?%}.time[data-v-0c32fb2c]{height:%?22?%;font-size:%?22?%;color:#999}.empty-data[data-v-0c32fb2c]{width:calc(100% - %?96?%)}.contract-operate[data-v-0c32fb2c]{position:absolute;right:%?48?%;top:%?64?%;padding:%?12?% 0 %?24?% %?24?%}.contract-operate>.contract-operate_item[data-v-0c32fb2c]{display:inline-block;width:4px;height:4px;border-radius:50%;background:#333;margin:0 2px}.slide-menu_list[data-v-0c32fb2c]{width:100%;background:#fff}.slide-menu_list>.slide-menu_item[data-v-0c32fb2c]{height:%?104?%;margin:0 %?48?%;line-height:%?104?%;text-align:center;border-bottom:1px solid #efefef;font-size:%?32?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#212121}.chain-wrap[data-v-0c32fb2c]{position:fixed;width:100%;height:100%;top:0;left:0}.chain-mask[data-v-0c32fb2c]{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.1);top:0;left:0}.chain-img[data-v-0c32fb2c]{width:60%;padding:%?20?%;border-radius:%?20?%;position:absolute;left:0;right:0;top:20%;margin:auto\n  /* background: #fff; */}.chain-img > .chainImgItem[data-v-0c32fb2c]{width:100%}.noUseSlide[data-v-0c32fb2c]{color:#ccc!important}body.?%PAGE?%[data-v-0c32fb2c]{background-color:#fff}",""]),t.exports=e},2882:function(t,e,a){var i=a("2501");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("5ec7e4d1",i,!0,{sourceMap:!1,shadowMode:!1})},"2ed9":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[t.wrapperShow?a("v-uni-view",{staticClass:"page-container"},[a("v-uni-view",{staticClass:"weui-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),a("v-uni-view",{class:"weui-half-screen-dialog "+(t.contentShow?"show":"")},[a("v-uni-view",{staticClass:"weui-half-screen-dialog__bd"},[t._t("default")],2),a("v-uni-view",{staticClass:"weui-half-screen-dialog__hd__side",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v("取消")])],1)],1):t._e()],1)},o=[]},"39ad":function(t,e,a){var i=a("5264");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0cea6f4a",i,!0,{sourceMap:!1,shadowMode:!1})},"3dd4":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".page-container[data-v-efa2a51c]{width:100%;height:100%;position:fixed;left:0;top:0}.page-container>.weui-mask[data-v-efa2a51c]{width:100%;height:100%;background:rgba(0,0,0,.1);position:absolute;left:0;top:0}\n.weui-half-screen-dialog[data-v-efa2a51c]{border-radius:0;padding:0;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:-webkit-transform .25s ease-in-out;transition:-webkit-transform .25s ease-in-out;transition:transform .25s ease-in-out;transition:transform .25s ease-in-out,-webkit-transform .25s ease-in-out;position:absolute;bottom:50px;left:0;padding:0 %?28?%;right:0}\n.weui-half-screen-dialog.show[data-v-efa2a51c]{-webkit-transform:translateY(0);transform:translateY(0)}.weui-half-screen-dialog__bd[data-v-efa2a51c]{width:100%;min-height:%?200?%;padding:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around}.weui-half-screen-dialog__hd__side[data-v-efa2a51c]{left:0;width:100%;height:%?100?%;background:#fff;line-height:%?100?%;text-align:center;font-size:%?32?%;color:#999;margin-bottom:10px;margin-top:%?20?%;border-radius:%?16?%}.meun-list__item[data-v-efa2a51c]{text-align:center}.meun-list__item uni-image[data-v-efa2a51c]{width:%?84?%;height:%?84?%}.meun-list__item uni-text[data-v-efa2a51c]{display:block;height:%?34?%;font-size:%?24?%;font-weight:400;color:#999;line-height:%?34?%;margin-top:%?34?%}",""]),t.exports=e},"45e8":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",t._l(t.textArr,(function(e,i){return a("v-uni-text",{key:i,class:e==t.skeyword?"highlight":"normal"},[t._v(t._s(e))])})),1)},o=[]},5264:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".search[data-v-fb08f2a4]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?84?%;background:#f7f8f9;border-radius:%?4?%;width:calc(100% - %?48?%);padding:0 %?24?%}.search .icon-search[data-v-fb08f2a4]{width:%?32?%;height:%?32?%}.search .search-input[data-v-fb08f2a4]{width:calc(100% - 30px);height:%?84?%;line-height:%?84?%;box-sizing:border-box;font-size:%?28?%;color:#999;font-weight:400;background:transparent}.search-box[data-v-fb08f2a4]{width:100%}.search-box .cancel-button[data-v-fb08f2a4]{position:absolute;right:%?16?%;top:0;font-size:%?28?%;line-height:%?84?%;color:#606060;z-index:10}",""]),t.exports=e},"537e":function(t,e,a){function i(t){return t=t.toString(),t[1]?t:"0"+t}function n(t,e){var a=new Date(t);return o(a,e)}function o(t,e){var a=["Y","M","D","h","m","s"],n=[];for(var o in n.push(t.getFullYear()),n.push(i(t.getMonth()+1)),n.push(i(t.getDate())),n.push(i(t.getHours())),n.push(i(t.getMinutes())),n.push(i(t.getSeconds())),n)e=e.replace(a[o],n[o]);return e}function c(t){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return e.test(t)}function s(t){var e="出错了";"string"===typeof t?e=t:t.errMsg&&(e=t.errMsg),setTimeout((function(){uni.showToast({duration:2e3,icon:"none",title:e})}),50)}function r(t){setTimeout((function(){uni.showToast({title:t})}),50)}function l(t){var e=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"];return t.replace(new RegExp(e.join("|"),"g"),"")}function u(t){return d(t,"分","秒")}function d(t,e,a){if(t=t%6e4/1e3,t>-1){var i=Math.floor(t/60),n=Math.floor(t%60);return i<=0?n+a:i+e+n+a}return 0+a}function f(){var t=getCurrentPages(),e=(t[t.length-1],t[t.length-2]);return e}function h(t){return t.replace(/(^\s*)|(\s*$)/g,"")}a("a15b"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("498a"),t.exports.formatTimeSecond=u,t.exports.formatTimeSecondWithSign=d,t.exports.formatTime=n,t.exports.formatDate=o,t.exports.isTelCode=c,t.exports.showError=s,t.exports.showSuccess=r,t.exports.filterEmoji=l,t.exports.getPreviousPage=f,t.exports.trim=h},5746:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get_signal_sign_person_list=e.get_contract_launch=e.get_contract_detail=e.deleteContractEvidenceRel=e.getChainsList=e.saveContractEvidenceRel=e.findNoRelatedContractEvidence=e.saveEvidenceContractRel=e.findNoRelatedContractSubject=e.previewChainImg=e.get_all_contract_list=e.get_contract_list=void 0;var i=a("3b7d"),n=i.host+"/v2/contract/list";e.get_contract_list=n;var o=i.host+"/v2/contract/count";e.get_all_contract_list=o;var c=i.host+"/v1/blockchain/contractCert/preview/";e.previewChainImg=c;var s=i.host+"/v1/contractEvidence/findNoRelatedContractSubject";e.findNoRelatedContractSubject=s;var r=i.host+"/v1/contractEvidence/saveEvidenceContractRel";e.saveEvidenceContractRel=r;var l=i.host+"/v1/contractEvidence/findNoRelatedContractEvidence";e.findNoRelatedContractEvidence=l;var u=i.host+"/v1/contractEvidence/saveContractEvidenceRel";e.saveContractEvidenceRel=u;var d=i.host+"/v1/contractEvidence/findContractEvidence";e.getChainsList=d;var f=i.host+"/v1/contractEvidence/deleteContractEvidenceRel";e.deleteContractEvidenceRel=f;var h=i.host+"/v2/contract/detail";e.get_contract_detail=h;var v=i.host+"/v2/contract/launch";e.get_contract_launch=v;var p=i.host+"/v1/contacts/findContacts";e.get_signal_sign_person_list=p},"5fea":function(t,e,a){"use strict";a.r(e);var i=a("22a8"),n=a("8461");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("e5e1");var c,s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"fb08f2a4",null,!1,i["a"],c);e["default"]=r.exports},6751:function(t,e,a){"use strict";var i=a("9fda"),n=a.n(i);n.a},"679b":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{timer:null,inputValue:""}},components:{},props:{isShowCancel:{type:Boolean,default:!1},isAutoFocus:{type:Boolean,default:!1},isDisableInput:{type:Boolean,default:!1},timeSearch:{type:Boolean,default:!0}},methods:{searchClicked:function(){this.$emit("searchClicked",{detail:this.data.inputValue})},inputChanged:function(e){var a=this;this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){var i=e.detail.value;t.log(i),a.setData({inputValue:i}),t.log(a.timeSearch,a.isShowCancel),a.timeSearch&&a.$emit("inputChanged",{detail:i})}),300)})},cancelClicked:function(t){this.setData({inputValue:""}),this.$emit("cancelClicked")}}};e.default=a}).call(this,a("5a52")["default"])},"6e01":function(t,e,a){"use strict";var i=a("2882"),n=a.n(i);n.a},8461:function(t,e,a){"use strict";a.r(e);var i=a("679b"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},8717:function(t,e,a){"use strict";a.r(e);var i=a("c184"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"933a":function(t,e,a){"use strict";a.r(e);var i=a("2ed9"),n=a("d3f2");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("17a8");var c,s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"efa2a51c",null,!1,i["a"],c);e["default"]=r.exports},"93c2":function(t,e,a){var i=a("3dd4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("c419668a",i,!0,{sourceMap:!1,shadowMode:!1})},"9fda":function(t,e,a){var i=a("d910");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("eb63c134",i,!0,{sourceMap:!1,shadowMode:!1})},b969:function(t,e,a){"use strict";a.r(e);var i=a("45e8"),n=a("8717");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("6751");var c,s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"26033abc",null,!1,i["a"],c);e["default"]=r.exports},c184:function(t,e,a){"use strict";a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{textArr:[],skeyword:"",stext:""}},components:{},props:{keyword:{type:String},text:{type:String}},watch:{keyword:{handler:"keywordChanged",immediate:!0},text:{handler:"textChanged",immediate:!0}},options:{addGlobalClass:!0},externalClasses:["highlight"],methods:{keywordChanged:function(t){this.setData({skeyword:t}),this.skeyword=t,this.manage()},textChanged:function(t){this.stext=t,this.manage()},manage:function(){this.stext&&this.manageText(this.stext,this.skeyword||"")},manageText:function(t,e){e?this.setData({textArr:t.replace(new RegExp("".concat(e),"g"),"%%".concat(e,"%%")).split("%%")}):this.setData({textArr:[t]})}}};e.default=i},d3f2:function(t,e,a){"use strict";a.r(e);var i=a("e1b9"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},d910:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"/* components/searchHighlightTextView/searchHighlightTextView.wxss */.highlight[data-v-26033abc]{color:red}.normal[data-v-26033abc]{color:#484848}",""]),t.exports=e},e1b9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{wrapperShow:!1,contentShow:!1}},components:{},methods:{close:function(){var t=this;this.setData({contentShow:!1}),setTimeout((function(){t.setData({wrapperShow:!1})}),250)},open:function(){var t=this;this.setData({wrapperShow:!0}),setTimeout((function(){t.setData({contentShow:!0})}),250)}}};e.default=i},e5e1:function(t,e,a){"use strict";var i=a("39ad"),n=a.n(i);n.a},f84b:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={search:a("5fea").default,searchHighlightTextView:a("b969").default,halfSlideItem:a("933a").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"pl-search"},[a("search",{attrs:{timeSearch:!0,isShowCancel:!0},on:{inputChanged:function(e){arguments[0]=e=t.$handleEvent(e),t.inputSearchFun.apply(void 0,arguments)},cancelClicked:function(e){arguments[0]=e=t.$handleEvent(e),t.cancleSearchFun.apply(void 0,arguments)}}})],1),a("v-uni-scroll-view",{staticClass:"list-wrapper",attrs:{"scroll-y":"true","scroll-anchoring":"true","refresher-enabled":"true","refresher-triggered":t.topShow,"scroll-with-animation":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollToBottom.apply(void 0,arguments)},refresherrefresh:function(e){arguments[0]=e=t.$handleEvent(e),t.pullingDownRefresh.apply(void 0,arguments)},refresherrestore:function(e){arguments[0]=e=t.$handleEvent(e),t.pullingDownRefreshStore.apply(void 0,arguments)},refresherabort:function(e){arguments[0]=e=t.$handleEvent(e),t.pullingDownRefreshStore.apply(void 0,arguments)}}},[t._l(t.contracts,(function(e,i){return a("v-uni-view",{key:i,staticClass:"contract",attrs:{"data-index":i,"data-item":e},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pushToDetail.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"contract-introduce"},[a("v-uni-view",{staticClass:"contract-title"},[a("searchHighlightTextView",{attrs:{highlight:"highlight",text:e.contractTitle,keyword:t.searchParams}})],1),a("v-uni-view",{staticClass:"contract-right"},[a("v-uni-view",{staticClass:"status-icon",style:"background: "+e.bgStyle+";"}),a("v-uni-view",{staticClass:"contract-state"},[t._v(t._s(e.statusText))])],1)],1),a("v-uni-view",{staticClass:"contract-related"},[a("v-uni-view",{staticClass:"contract-sponsor"},[t._v("发起方："+t._s(e.initiatorName))]),a("v-uni-view",{staticClass:"contract-signatory"},[t._v("签署方："+t._s(e.signNames))])],1),t.searchType<8?a("v-uni-view",{staticClass:"contract-operate",attrs:{"data-activeitem":e},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showChainsMenu.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"contract-operate_item"}),a("v-uni-view",{staticClass:"contract-operate_item"}),a("v-uni-view",{staticClass:"contract-operate_item"})],1):t._e(),a("v-uni-view",{staticClass:"contract-other"},[a("v-uni-view",{staticClass:"contract-updatetime"},[t._v("更新时间")]),a("v-uni-view",{staticClass:"contract-updatetime-middle"}),a("v-uni-view",{staticClass:"time"},[t._v(t._s(e.gmtModified))])],1)],1)})),t.bottomShow?a("v-uni-view",{class:"bottom-loading "+(t.bottomShow?"bottom-show":"")},[t._v("加载中...")]):t._e()],2),t.contracts.length<=0?a("v-uni-view",{staticClass:"empty-data placeholder-color"},[t._v("暂无相关合同")]):t._e(),a("halfSlideItem",{ref:"operate"},[a("v-uni-view",{staticClass:"slide-menu_list"},[t.applyInvoice?a("v-uni-view",{staticClass:"slide-menu_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleApplyInvoiceFun.apply(void 0,arguments)}}},[t._v("申请开票")]):t._e(),t.payDetail?a("v-uni-view",{staticClass:"slide-menu_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleViewPayDetailFun.apply(void 0,arguments)}}},[t._v("付款详情")]):t._e(),a("v-uni-view",{staticClass:"slide-menu_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goChainListPage.apply(void 0,arguments)}}},[t._v("查看证据链")]),a("v-uni-view",{staticClass:"slide-menu_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showAddEvidenceMenuShow.apply(void 0,arguments)}}},[t._v("添加证据")])],1)],1),a("halfSlideItem",{ref:"evidence"},[a("v-uni-view",{staticClass:"slide-menu_list"},[a("v-uni-view",{staticClass:"slide-menu_item",attrs:{"data-totype":"image"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPicChain.apply(void 0,arguments)}}},[t._v("图片存证")]),a("v-uni-view",{staticClass:"slide-menu_item",attrs:{"data-totype":"file"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPicChain.apply(void 0,arguments)}}},[t._v("文件存证")]),a("v-uni-view",{staticClass:"slide-menu_item",attrs:{"data-totype":"voice"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPicChain.apply(void 0,arguments)}}},[t._v("语音存证")]),a("v-uni-view",{staticClass:"slide-menu_item",attrs:{"data-totype":"video"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPicChain.apply(void 0,arguments)}}},[t._v("视频存证")]),a("v-uni-view",{staticClass:"slide-menu_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addChainFromList.apply(void 0,arguments)}}},[t._v("从证据列表添加")])],1)],1),t.showChainImg?a("v-uni-view",{staticClass:"chain-wrap"},[a("v-uni-view",{staticClass:"chain-mask"}),a("v-uni-view",{staticClass:"chain-img"},[a("v-uni-web-view",{staticClass:"chainImgItem",attrs:{src:t.chainImg}})],1)],1):t._e()],1)},o=[]},fa6d:function(t,e,a){"use strict";(function(t){var i=a("4ea4");a("99af"),a("d81d"),a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909")),o=a("3b7d"),c=a("5746"),s=i(a("5fea")),r=i(a("b969")),l=i(a("933a")),u=a("537e"),d={data:function(){return{searchType:0,title:"",pageIndex:0,pageSize:10,searchParams:"",contracts:[],timer:null,canScroll:!0,payDetail:!1,payContract:!1,applyInvoice:!1,activeItme:{},chainImg:null,showChainImg:!1,topShow:!1,bottomShow:!1}},components:{search:s.default,searchHighlightTextView:r.default,halfSlideItem:l.default},props:{},onLoad:function(t){uni.setNavigationBarTitle({title:t.pageTitle}),this.setData({searchType:t.searchType,title:t.pageTitle})},onShow:function(){this.getContractsFun(0)},onPullDownRefresh:function(){this.getContractsFun(1)},onShareAppMessage:function(){},methods:{scrollToBottom:function(){this.canScroll&&(this.setData({bottomShow:!0,pageIndex:this.pageIndex+1}),this.getContractsFun(2))},pullingDownRefresh:function(){this.setData({topShow:!0,pageIndex:0}),this.getContractsFun(1)},pullingDownRefreshStore:function(){this.setData({topShow:!1})},getContractsFun:function(t){var e=this,a={searchType:this.searchType,contractTitle:this.searchParams?this.searchParams:"",pageIndex:this.pageIndex,pageSize:this.pageSize};(0,o.get)({url:c.get_contract_list,params:a,success:function(a){var i=a.data;a.data.length>0?e.setData({canScroll:!0}):e.setData({canScroll:!1}),i.map((function(t){var a=e.getCurrentContractStatusFun(t.status);t.statusText=a.name,t.bgStyle=a.bg,t.gmtModified=e.formatTimeConvert(t.gmtModified,1)}));var o=[];switch(t){case 0:e.setData({contracts:i});break;case 1:e.setData({topShow:!1,contracts:i});break;case 2:o=i,e.setData({bottomShow:!1,contracts:[].concat((0,n.default)(e.contracts),(0,n.default)(o))});break;case 3:e.setData({contracts:i});break}},fail:function(t){u.showError(t)}})},getCurrentContractStatusFun:function(t){switch(t){case 1:return{name:"签署中",bg:"#66B5ED"};case 2:return{name:"已完成",bg:"#78B03B"};case 3:return{name:"已拒绝",bg:"#E27777"};case 4:return{name:"已撤销",bg:"#999999"};case 5:return{name:"草稿",bg:""};case 6:return{name:"已失效",bg:"#C7C7C7"};case 7:return{name:"填写中",bg:"#66B5ED"};default:break}},inputSearchFun:function(e){var a=this;t.log(e),this.timer&&clearTimeout(this.timer),this.setData({searchParams:e.detail,pageIndex:0,timer:setTimeout((function(){a.getContractsFun(3)}),300)})},cancleSearchFun:function(){this.setData({searchParams:""}),this.getContractsFun(0)},formatTimeConvert:function(t,e){t+="",t=10==t.length?1e3*t:t;var a=new Date(Number(t)),i=a.getFullYear(),n=a.getMonth()+1;n=n<10?"0"+n:n;var o=a.getDate();o=o<10?"0"+o:o;var c=a.getHours();c=c<10?"0"+c:c;var s=a.getMinutes(),r=a.getSeconds();return s=s<10?"0"+s:s,r=r<10?"0"+r:r,0==e?i+"-"+n+"-"+o:i+"-"+n+"-"+o+" "+c+":"+s+":"+r},pushToDetail:function(t){var e=t.currentTarget.dataset.item.id,a=t.currentTarget.dataset.item.status,i="";i=8==this.searchType?"/pages/contract/sign/next/next?isdraft=1&contractId="+e:7==a?"/pages/contract/fill/fill?contractId="+e:"/pages/contract/sign/next/signConfirm/signConfirm?contractId="+e,uni.navigateTo({url:i})},statusByIndexFun:function(t){var e=1;switch(t){case 0:e=1;break;case 1:e=3;break;case 2:e=4;break;case 3:e=5;break;case 4:e=8;break;default:break}return e},showChainsMenu:function(e){var a=e.currentTarget.dataset.activeitem;a.id&&(this.$refs.operate.open(),this.setData({activeItme:a,payDetail:a.hasPay,payContract:a.needPay,applyInvoice:a.isOpenInvoice}),t.log(this.applyInvoice,a,222))},showAddEvidenceMenuShow:function(){this.activeItme.id&&(this.$refs.operate.close(),this.$refs.evidence.open())},goPicChain:function(t){var e=t.currentTarget.dataset.totype;if(this.$refs.operate.close(),this.$refs.evidence.close(),"video"==e){var a="&searchType="+this.searchType+"&pageTitle="+this.title;uni.navigateTo({url:"/pages/evidence/videoRecord/videoRecord?type="+e+"&fromId="+this.activeItme.id+a})}else uni.navigateTo({url:"/pages/evidence/addCertificate/addCertificate?type="+e+"&fromId="+this.activeItme.id})},addChainFromList:function(){this.$refs.operate.close(),this.$refs.evidence.close(),uni.navigateTo({url:"/pages/contract/contractList/chainList/chainList?id="+this.activeItme.id})},previewContractChain:function(){var t=this;(0,o.get)({url:c.previewChainImg+this.activeItme.id,success:function(e){t.setData({chainImg:e,showChainImg:!0})},fail:function(e){t.setData({chainImg:null})}})},goChainListPage:function(){this.$refs.operate.close(),uni.navigateTo({url:"/pages/contract/contractList/chains/chains?id="+this.activeItme.id})},handlePayContractFun:function(){this.$refs.operate.close(),uni.navigateTo({url:"/pages/invvoice/payContract/payContract?id="+this.activeItme.id+"&receiveName="+this.activeItme.initiatorName})},handleApplyInvoiceFun:function(){this.$refs.operate.close();var e="/pages/invvoice/applyInvoice/applyInvoice?id="+this.activeItme.id+"&title="+this.activeItme.contractTitle+"&searchType="+this.searchType+"&pageTitle="+this.title,a=uni.getStorageSync("currentUser").companyId;t.log(a),a&&(e+="&initiatorName="+this.activeItme.initiatorName+"&"),uni.navigateTo({url:e})},handleViewPayDetailFun:function(){this.$refs.operate.close(),uni.navigateTo({url:"/pages/invvoice/payDetail/payDetail?id="+this.activeItme.id})}}};e.default=d}).call(this,a("5a52")["default"])}}]);