(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-template-addPerson-index"],{"0663":function(t,e,n){"use strict";var i=n("0936"),a=n.n(i);a.a},"0936":function(t,e,n){var i=n("9f54");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("05ea04a4",i,!0,{sourceMap:!1,shadowMode:!1})},"0fe3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.confirm_contract_launch_by_template=e.get_template_detail=e.get_templateList=e.get_signal_sign_person_list=void 0;var i=n("3b7d"),a=i.host+"/v1/contacts/findContacts";e.get_signal_sign_person_list=a;var o=i.host+"/v1/contract/template/templateList";e.get_templateList=o;var s=i.host+"/v1/contract/template/detail";e.get_template_detail=s;var u=i.host+"/v1/contract/template/launch";e.confirm_contract_launch_by_template=u},"1f32":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"add-person--page"},[n("v-uni-view",{staticClass:"title"},[t._v("输入信息")]),n("v-uni-view",{staticClass:"value-list"},[n("v-uni-view",{staticClass:"list-item"},[n("v-uni-text",{staticClass:"sub-tit"},[t._v("姓名")]),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入",value:t.name},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleInputUserNameFun.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBlurUserNameFun.apply(void 0,arguments)}}}),n("v-uni-view",{class:"suggest-list "+(t.suggests?"show":"")},t._l(t.suggests,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item",attrs:{"data-item":e},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleSelectSuggestFun.apply(void 0,arguments)}}},[t._v(t._s(e.name)+" - "+t._s(e.phone))])})),1)],1),n("v-uni-view",{staticClass:"list-item"},[n("v-uni-text",{staticClass:"sub-tit"},[t._v("账号")]),n("v-uni-input",{attrs:{type:"number",maxlength:"11",value:t.phone,placeholder:"请输入"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleInputUserPhoneFun.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"btn-group"},[n("v-uni-view",{staticClass:"cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBackFun.apply(void 0,arguments)}}},[t._v("撤回")]),n("v-uni-view",{class:"confirm "+(t.canNext?"canNext":""),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleConfirmFun.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)},o=[]},"4b07":function(t,e,n){"use strict";n.r(e);var i=n("1f32"),a=n("aed3");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("0663");var s,u=n("f0c5"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"3532706d",null,!1,i["a"],s);e["default"]=r.exports},"537e":function(t,e,n){function i(t){return t=t.toString(),t[1]?t:"0"+t}function a(t,e){var n=new Date(t);return o(n,e)}function o(t,e){var n=["Y","M","D","h","m","s"],a=[];for(var o in a.push(t.getFullYear()),a.push(i(t.getMonth()+1)),a.push(i(t.getDate())),a.push(i(t.getHours())),a.push(i(t.getMinutes())),a.push(i(t.getSeconds())),a)e=e.replace(n[o],a[o]);return e}function s(t){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return e.test(t)}function u(t){var e="出错了";"string"===typeof t?e=t:t.errMsg&&(e=t.errMsg),setTimeout((function(){uni.showToast({duration:2e3,icon:"none",title:e})}),50)}function r(t){setTimeout((function(){uni.showToast({title:t})}),50)}function l(t){var e=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"];return t.replace(new RegExp(e.join("|"),"g"),"")}function c(t){return d(t,"分","秒")}function d(t,e,n){if(t=t%6e4/1e3,t>-1){var i=Math.floor(t/60),a=Math.floor(t%60);return i<=0?a+n:i+e+a+n}return 0+n}function f(){var t=getCurrentPages(),e=(t[t.length-1],t[t.length-2]);return e}function h(t){return t.replace(/(^\s*)|(\s*$)/g,"")}n("a15b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("498a"),t.exports.formatTimeSecond=c,t.exports.formatTimeSecondWithSign=d,t.exports.formatTime=a,t.exports.formatDate=o,t.exports.isTelCode=s,t.exports.showError=u,t.exports.showSuccess=r,t.exports.filterEmoji=l,t.exports.getPreviousPage=f,t.exports.trim=h},"9f54":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"\nuni-view[data-v-3532706d]{box-sizing:border-box}.title[data-v-3532706d]{padding:0 %?48?%;height:%?110?%;line-height:%?110?%;font-size:%?32?%;font-family:PingFangSC-Medium\\, PingFang SC;font-weight:500;color:#333}.value-list[data-v-3532706d]{background-color:#fff}.suggest-list[data-v-3532706d]{position:absolute;top:%?112?%;left:%?-48?%;-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:0;padding:0 %?48?%;width:calc(100% + %?96?%);background-color:#fff;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;box-shadow:%?4?% 0 %?4?% #eee;z-index:11}.suggest-list.show[data-v-3532706d]{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.suggest-list .item[data-v-3532706d]{height:%?110?%;line-height:%?110?%;font-size:%?32?%;color:#666}.list-item[data-v-3532706d]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 %?48?%;height:%?110?%;border-bottom:%?2?% solid #f5f5f5}.list-item[data-v-3532706d]:last-of-type{border-bottom:none}.list-item .sub-tit[data-v-3532706d]{font-size:%?30?%;font-family:PingFangSC-Regular\\, PingFang SC;font-weight:400;color:#212121;line-height:%?30?%}.list-item uni-input[data-v-3532706d]{width:70%;font-size:%?30?%;font-family:PingFangSC-Regular\\, PingFang SC;font-weight:400;color:#212121;line-height:%?30?%;text-align:right}.btn-group[data-v-3532706d]{position:absolute;bottom:%?100?%;left:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.btn-group .cancel[data-v-3532706d]{width:%?220?%;height:%?100?%;line-height:%?100?%;text-align:center;font-size:%?32?%;font-family:PingFangSC-Regular\\, PingFang SC;font-weight:400;color:#666}.btn-group .confirm[data-v-3532706d]{width:%?460?%;height:%?100?%;line-height:%?100?%;background:#999;border-radius:%?8?%;text-align:center;font-size:%?32?%;font-family:PingFangSC-Medium\\, PingFang SC;font-weight:500;color:#fff}.canNext[data-v-3532706d]{background-color:#464646!important}body.?%PAGE?%[data-v-3532706d]{background-color:#f7f8f9}",""]),t.exports=e},aed3:function(t,e,n){"use strict";n.r(e);var i=n("e3fd"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},e3fd:function(t,e,n){"use strict";(function(t){n("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("3b7d"),a=n("0fe3"),o=n("aa5f"),s=n("537e"),u={data:function(){return{suggests:[],timer:null,name:"",phone:"",id:"",canNext:!1,index:-1}},components:{},props:{},onLoad:function(t){this.setData({id:t.id,index:t.index,name:t.name||"",phone:t.phone||"",canNext:t.name&&t.phone})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{handleInputUserNameFun:function(e){var n=this,i=e.detail.value.trim();i&&(this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){n.setData({name:i,canNext:!(!i||!n.phone)}),n.getContactList(i),t.log(n.name,n.phone,n.canNext,1111)}),250)}))},handleInputUserPhoneFun:function(e){var n=this,i=e.detail.value;i&&(this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){n.setData({phone:i,canNext:!(!n.name||!i)}),t.log(n.name,n.phone,n.canNext,222)}),250)}))},handleBlurUserNameFun:function(){var t=this;setTimeout((function(){t.setData({suggests:[]})}),250)},getContactList:function(e,n){var o=this;this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){(0,i.get)({url:a.get_signal_sign_person_list+"?contactType=1&name="+e+"&contactType="+n,success:function(t){o.setData({suggests:t})},fail:function(e){t.log(e)}})}),500)})},handleSelectSuggestFun:function(t){var e=t.currentTarget.dataset.item;this.setData({name:e.name,phone:e.phone,suggests:[],canNext:!(!e.name||!e.phone)})},handleBackFun:function(){uni.navigateBack(-1)},handleConfirmFun:function(){var e=this;return this.name?this.phone?s.isTelCode(this.phone)?void(this.index>-1?(uni.showLoading({title:"获取认证信息中"}),(0,i.get)({url:o.person_message+"?name="+this.name+"&phone="+this.phone,success:function(n){t.log(n),uni.redirectTo({url:"/pages/template/useTemplate/index?origin=person&operate=edit&index="+e.index+"&name="+e.name+"&phone="+e.phone+"&id="+e.id+"&personAuthStatus="+n})},fail:function(t){setTimeout((function(){uni.showToast({icon:"none",title:t})}),50)},complete:function(){uni.hideLoading()}})):uni.redirectTo({url:"/pages/template/useTemplate/index?origin=person&operate=add&index="+this.index+"&name="+this.name+"&phone="+this.phone+"&id="+this.id})):(setTimeout((function(){uni.showToast({icon:"none",title:"请填写正确手机号"})}),50),!1):(setTimeout((function(){uni.showToast({icon:"none",title:"请填写账号"})}),50),!1):(setTimeout((function(){uni.showToast({icon:"none",title:"请填写姓名"})}),50),!1)}}};e.default=u}).call(this,n("5a52")["default"])}}]);