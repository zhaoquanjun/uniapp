(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/account/login/login"],{"03da":function(n,o,e){"use strict";var t;e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return u})),e.d(o,"a",(function(){return t}));var i=function(){var n=this,o=n.$createElement;n._self._c},u=[]},"06fb":function(n,o,e){"use strict";e.r(o);var t=e("03da"),i=e("bf7a");for(var u in i)"default"!==u&&function(n){e.d(o,n,(function(){return i[n]}))}(u);e("1612");var a,s=e("f0c5"),c=Object(s["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],a);o["default"]=c.exports},"104e":function(n,o,e){},1612:function(n,o,e){"use strict";var t=e("104e"),i=e.n(t);i.a},"249d":function(n,o,e){"use strict";(function(n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t=e("3b7d"),i=e("aa5f"),u={data:function(){return{wxCode:"",openId:"",unionId:"",loginPhone:"",isShowMark:!1,isBindOpenId:!1,bandPhone:""}},components:{},props:{},onLoad:function(n){},onShow:function(){this.getRegisterStatusFun()},onShareAppMessage:function(){},methods:{onAuthError:function(n){console.log(n,"error")},loginWxFun:function(o){var e=this;n.login({success:function(t){t.code?(e.setData({wxCode:t.code}),"function"==typeof o&&o()):setTimeout((function(){n.showToast({icon:"none",title:"请先授权微信登陆"})}),50)},fail:function(){setTimeout((function(){n.showToast({icon:"none",title:"请先授权微信登陆"})}),50)}})},getRegisterStatusFun:function(){var n=this,o=!1;this.loginWxFun((function(){n.getUserRegisterInfoFun(o)}))},handleLoginByPhoneFun:function(){var n=this,o=!0;this.loginWxFun((function(){n.getUserRegisterInfoFun(o)}))},getUserRegisterInfoFun:function(o){var e=this;this.isBindOpenId?o&&n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.bandPhone+"&unionId="+this.unionId+"&openId="+this.openId+"&originType="+this.originType}):(0,t.get)({url:i.get_phone_wx_code+"/"+this.wxCode,success:function(t){t.isRegister?(e.setData({bandPhone:t.phone,openId:t.openId,unionId:t.unionId,isBindOpenId:!0}),o&&n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+e.bandPhone+"&unionId="+e.unionId+"&openId="+e.openId+"&originType="+e.originType})):e.setData({isBindOpenId:!1})},fail:function(o){setTimeout((function(){n.showToast({icon:"none",title:"登陆信息获取失败："+o})}),50),e.setData({isBindOpenId:!1})}})},getWxPhoneFun:function(o){var e=this;(0,t.post)({url:i.decode_phone,params:{encrypted:o.detail.encryptedData,iv:o.detail.iv,code:this.wxCode,wxAppType:2},success:function(o){e.setData({bandPhone:o.phone,loginPhone:o.phone,openId:o.openId,unionId:o.unionId,isBindOpenId:!0}),n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+o.phone+"&unionId="+o.unionId+"&openId="+o.openId})},fail:function(o){setTimeout((function(){n.showToast({icon:"none",title:o})}),50)}})},_getZfbPhone:function(){var o=this;(0,t.post)({url:i.get_phone_zfb_code,success:function(e){o.setData({bandPhone:e.phone,loginPhone:e.phone,openId:e.openId,unionId:e.unionId,isBindOpenId:!0}),n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+e.phone+"&unionId="+e.unionId+"&openId="+e.openId})},fail:function(o){setTimeout((function(){n.showToast({icon:"none",title:o})}),50)}})},getPhoneNumber:function(o){var e=this;"getPhoneNumber:ok"==o.detail.errMsg?this.loginWxFun((function(){e.getWxPhoneFun(o)})):setTimeout((function(){n.showToast({icon:"none",title:"快捷登陆失败"})}),50)},bindKeyInput:function(n){var o=n.detail.value;if(console.log(o.length),o.length>11)return o.substr(0,11);this.setData({loginPhone:n.detail.value})},bindPhoneAction:function(){n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.loginPhone+"&unionId="+this.unionId+"&openId="+this.openId})}}};o.default=u}).call(this,e("543d")["default"])},"89f7":function(n,o,e){"use strict";(function(n){e("e09c");t(e("66fd"));var o=t(e("06fb"));function t(n){return n&&n.__esModule?n:{default:n}}n(o.default)}).call(this,e("543d")["createPage"])},bf7a:function(n,o,e){"use strict";e.r(o);var t=e("249d"),i=e.n(t);for(var u in t)"default"!==u&&function(n){e.d(o,n,(function(){return t[n]}))}(u);o["default"]=i.a}},[["89f7","common/runtime","common/vendor"]]]);