(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/costManage/giveWay/giveWay"],{"080d":function(n,o,e){"use strict";var t=e("630c"),a=e.n(t);a.a},"0d8a":function(n,o,e){"use strict";e.r(o);var t=e("b4f0"),a=e("3acd");for(var i in a)"default"!==i&&function(n){e.d(o,n,(function(){return a[n]}))}(i);e("080d");var c,s=e("f0c5"),r=Object(s["a"])(a["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],c);o["default"]=r.exports},"3acd":function(n,o,e){"use strict";e.r(o);var t=e("99d5"),a=e.n(t);for(var i in t)"default"!==i&&function(n){e.d(o,n,(function(){return t[n]}))}(i);o["default"]=a.a},"630c":function(n,o,e){},"99d5":function(n,o,e){"use strict";(function(n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t=e("3b7d"),a=e("730f"),i={data:function(){return{ways:[{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/friends.png",label:"微信好友",type:1},{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/shanqian_icon.png",label:"闪签用户",type:2}],origin:"card",id:"",wxShareId:"",money:0,count:0,shareIcon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/share_icon.png",isWxShare:!1}},components:{},props:{},onLoad:function(n){console.log(n),n.origin&&this.setData({origin:n.origin}),n.id&&this.setData({id:n.id}),n.money&&this.setData({money:n.money}),n.count&&this.setData({count:n.count}),this.shareCardFun()},onReady:function(){},onShow:function(){console.log("show")},onHide:function(){console.log("hide")},onUnload:function(){this.isWxShare||this.cancelShareFun()},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){var o=this,e={title:"".concat(this.money,"元礼品卡，点击即可领取"),path:"/pages/costManage/receiveCard/receiveCard?gifCardId=".concat(this.wxShareId),imageUrl:this.shareIcon,success:function(o){console.error("分享成功",o),setTimeout((function(){n.showToast({icon:"none",title:"分享成功"})}),50)},fail:function(e){console.error("分享失败",e),setTimeout((function(){n.showToast({icon:"none",title:"分享失败"})}),50),o.cancelShareFun()}};return console.log(e,9999),e},methods:{handleSelectShareWayFun:function(o){var e=this;switch(console.log(o.currentTarget.dataset.type),o.currentTarget.dataset.type){case 1:console.log("分享到好友"),this.setData({isWxShare:!0});break;case 2:this.cancelShareFun((function(){n.navigateTo({url:"/pages/costManage/giving/giving?origin="+e.origin+"&id="+e.id+"&money="+e.money})}));break;default:break}},shareCardFun:function(){var o=this;n.showLoading({icon:"none",title:"加载中"});var e={shareId:this.id,mode:"give"==this.origin?"buy":"rechargeCard",shareNum:this.count,shareMoney:this.money};(0,t.postBody)({url:a.share_card,params:e,success:function(n){console.log(n),o.setData({wxShareId:n})},fail:function(n){console.log(n)},complete:function(){console.log("完成了"),n.hideLoading()}})},cancelShareFun:function(n){(0,t.get)({url:a.cancel_hare_card+this.wxShareId,success:function(n){console.log(n)},fail:function(n){console.log(n)},complete:function(){console.log("complete")}}),"function"==typeof n&&n()}}};o.default=i}).call(this,e("543d")["default"])},b4f0:function(n,o,e){"use strict";var t;e.d(o,"b",(function(){return a})),e.d(o,"c",(function(){return i})),e.d(o,"a",(function(){return t}));var a=function(){var n=this,o=n.$createElement;n._self._c},i=[]},dd4f:function(n,o,e){"use strict";(function(n){e("e09c");t(e("66fd"));var o=t(e("0d8a"));function t(n){return n&&n.__esModule?n:{default:n}}n(o.default)}).call(this,e("543d")["createPage"])}},[["dd4f","common/runtime","common/vendor"]]]);