(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/template/addCompany/index"],{"0bde":function(t,e,n){"use strict";var a=n("57c4"),i=n.n(a);i.a},"1b33":function(t,e,n){"use strict";n.r(e);var a=n("dc95"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"53db":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},o=[]},"57c4":function(t,e,n){},"9b34":function(t,e,n){"use strict";(function(t){n("e09c");a(n("66fd"));var e=a(n("9ea7"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("c11b")["createPage"])},"9ea7":function(t,e,n){"use strict";n.r(e);var a=n("53db"),i=n("1b33");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("0bde");var s,u=n("f0c5"),c=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=c.exports},dc95:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("3b7d"),i=n("0fe3"),o=n("aa5f"),s=n("537e"),u={data:function(){return{companySuggests:[],suggests:[],timer:null,companyName:"",name:"",phone:"",id:"",canNext:!1,index:-1}},components:{},props:{},onLoad:function(t){this.setData({id:t.id,index:t.index,companyName:t.companyName||"",name:t.name||"",phone:t.phone||""})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{handleInputCompanyNameFun:function(t){var e=this,n=t.detail.value.trim();n&&(this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){e.setData({companyName:n,canNext:!!(e.name&&e.phone&&n)}),e.getContactList(n,2)}),250)}))},handleInputUserNameFun:function(t){var e=this,n=t.detail.value.trim();n&&(this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){e.setData({name:n,canNext:!(!n||!e.phone)}),e.getContactList(n,1)}),250)}))},handleInputUserPhoneFun:function(t){var e=this,n=t.detail.value;n&&(this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){e.setData({phone:n,canNext:!(!e.name||!n)})}),250)}))},handleBlurUserNameFun:function(){var t=this;setTimeout((function(){t.setData({suggests:[]})}),250)},handleBlurCompanyNameFun:function(){var t=this;setTimeout((function(){t.setData({companySuggests:[]})}),250)},getContactList:function(t,e){var n=this;this.timer&&clearTimeout(this.timer),this.setData({timer:setTimeout((function(){(0,a.get)({url:i.get_signal_sign_person_list+"?contactType=1&name="+t+"&contactType="+e,success:function(t){1==e&&n.setData({suggests:t}),2==e&&n.setData({companySuggests:t})},fail:function(t){console.log(t)}})}),500)})},handleSelectPersonSuggestFun:function(t){var e=t.currentTarget.dataset.item;this.setData({name:e.name,phone:e.phone,suggests:[],canNext:!!(e.name&&e.phone&&this.companyName)})},handleSelectCompanySuggestFun:function(t){var e=t.currentTarget.dataset.item;this.setData({companyName:e.name,companySuggests:[],canNext:!!(this.name&&this.phone&&e.companyName)})},handleBackFun:function(){t.navigateBack(-1)},handleConfirmFun:function(){var e=this;if(!this.companyName)return setTimeout((function(){t.showToast({icon:"none",title:"请填写公司名称"})}),50),!1;if(!this.name)return setTimeout((function(){t.showToast({icon:"none",title:"请填写经办人姓名"})}),50),!1;if(!this.phone)return setTimeout((function(){t.showToast({icon:"none",title:"请填写经办人账号"})}),50),!1;if(!s.isTelCode(this.phone))return setTimeout((function(){t.showToast({icon:"none",title:"请填写正确手机号"})}),50),!1;if(this.index>-1){t.showLoading({title:"获取认证信息中"});var n=-1,i=-1;(0,a.get)({url:o.company_message+"?companyName="+this.companyName,success:function(s){console.log(s),n=s,(0,a.get)({url:o.person_message+"?name="+e.name+"&phone="+e.phone,success:function(a){i=a,t.redirectTo({url:"/pages/template/useTemplate/index?origin=company&operate=edit&index="+e.index+"&companyName="+e.companyName+"&name="+e.name+"&phone="+e.phone+"&id="+e.id+"&personAuthStatus="+i+"&companyAuthStatus="+n})},fail:function(e){setTimeout((function(){t.showToast({icon:"none",title:e})}),50)},complete:function(){t.hideLoading()}})},fail:function(e){setTimeout((function(){t.showToast({title:e})}),50)},complete:function(){t.hideLoading()}})}else t.redirectTo({url:"/pages/template/useTemplate/index?origin=company&operate=add&index="+this.index+"&companyName="+this.companyName+"&name="+this.name+"&phone="+this.phone+"&id="+this.id})}}};e.default=u}).call(this,n("c11b")["default"])}},[["9b34","common/runtime","common/vendor"]]]);