(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/account/loginVerify/loginVerify"],{"255a":function(n,e,t){},"307d":function(n,e,t){"use strict";(function(n){t("e09c");o(t("66fd"));var e=o(t("eb10"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("c11b")["createPage"])},"4dfc":function(n,e,t){"use strict";var o=t("255a"),i=t.n(o);i.a},"6a24":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("3b7d"),i=t("aa5f"),u=t("730f"),c={data:function(){return{openId:"",unionId:"",originType:null,isCard:!1,cardId:"",mode:""}},components:{},props:{},onLoad:function(n){var e=n.phone;console.log(n),null!=n.originType&&this.setData({originType:n.originType}),n.isCard&&this.setData({isCard:!0}),n.cardId&&this.setData({cardId:n.cardId}),this.setData({openId:n.openId,unionId:n.unionId}),this.verifycode=this.$refs.verifycode,this.sendPhoneCodeFun(e);var t=this;this.verifycode.showView({userPhone:e,inputSuccess:function(n){t.loginFun(e,n),t.verifycode.clearCode()},againSend:function(){t.sendPhoneCodeFun(e)}})},onShareAppMessage:function(){},methods:{loginFun:function(e,t){var u=this;n.hideLoading(),n.showLoading({title:"登陆中..."});var c=this;(0,o.post)({url:i.login_url,params:{phone:e,phoneCode:t,openId:c.openId,unionId:c.unionId},success:function(e){console.log(e);var t=getApp();t.globalData.loginSuccess(e.token,e.userId,e.name,e.userType,e.auth,e.phone,e.icon,e.joinCompany,e.userCompanyType),n.hideLoading();var o=c.originType;console.log(u.isCard),u.isCard?u.getGiftCardStatusFun(u.getGiftCardFun):"auth"==o?n.navigateBack({delta:3}):n.reLaunch({url:"/pages/home/home"})},fail:function(e){n.hideLoading(),setTimeout((function(){n.showToast({title:e,icon:"none",duration:2e3})}),50)}})},sendPhoneCodeFun:function(e){var t=this;n.showLoading({title:"验证码发送中"}),(0,o.get)({url:i.get_register_sms_code_url+"/"+e,success:function(e){n.hideLoading(),setTimeout((function(){n.showToast({icon:"none",title:"发送成功,请注意查收"})}),50),t.verifycode.clearCode(),t.verifycode.sendSuccess()},fail:function(e){n.hideLoading(),setTimeout((function(){n.showToast({title:e,icon:"none"})}),50)}})},getGiftCardFun:function(){n.showLoading({title:"领取中"}),(0,o.get)({url:u.get_gift_card_from_wx+this.cardId,success:function(){setTimeout((function(){n.showToast({icon:"none",title:"礼品卡领取成功"})}),50),setTimeout((function(){n.redirectTo({url:"/pages/costManage/accountCard/accountCard?type=1"})}),1500)},fail:function(e){setTimeout((function(){n.showToast({icon:"none",title:e})}),50),setTimeout((function(){n.redirectTo({url:"/pages/home/home"})}),21500)},complete:function(){n.hideLoading()}})},getGiftCardStatusFun:function(e){(0,o.get)({url:u.get_gift_card_status+this.cardId,success:function(t){console.log(t),t?"function"==typeof e&&e():(setTimeout((function(){n.showToast({icon:"none",title:"礼品卡已被领取"})}),50),setTimeout((function(){n.switchTab({url:"/pages/home/home"})}),1500))},fail:function(e){setTimeout((function(){n.showToast({icon:"none",title:e})}),50),setTimeout((function(){n.switchTab({url:"/pages/home/home"})}),1500)}})}}};e.default=c}).call(this,t("c11b")["default"])},"7c46":function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return u})),t.d(e,"a",(function(){return o}));var o={verifycode:function(){return t.e("components/verifycode/verifycode").then(t.bind(null,"df35"))}},i=function(){var n=this,e=n.$createElement;n._self._c},u=[]},b57b:function(n,e,t){"use strict";t.r(e);var o=t("6a24"),i=t.n(o);for(var u in o)"default"!==u&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=i.a},eb10:function(n,e,t){"use strict";t.r(e);var o=t("7c46"),i=t("b57b");for(var u in i)"default"!==u&&function(n){t.d(e,n,(function(){return i[n]}))}(u);t("4dfc");var c,a=t("f0c5"),s=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);e["default"]=s.exports}},[["307d","common/runtime","common/vendor"]]]);