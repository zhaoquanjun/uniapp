(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/account/login/login"],{"03da":function(n,e,o){"use strict";var t;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return t}));var i=function(){var n=this,e=n.$createElement;n._self._c},u=[]},"06fb":function(n,e,o){"use strict";o.r(e);var t=o("03da"),i=o("bf7a");for(var u in i)"default"!==u&&function(n){o.d(e,n,(function(){return i[n]}))}(u);o("1612");var s,a=o("f0c5"),c=Object(a["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],s);e["default"]=c.exports},"104e":function(n,e,o){},1612:function(n,e,o){"use strict";var t=o("104e"),i=o.n(t);i.a},"249d":function(n,e,o){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o("3b7d"),i=o("aa5f"),u={data:function(){return{wxCode:"",openId:"",unionId:"",loginPhone:"",isShowMark:!1,isBindOpenId:!1,bandPhone:""}},components:{},props:{},onLoad:function(n){},onShow:function(){this.getRegisterStatusFun()},onShareAppMessage:function(){},methods:{onAuthError:function(n){console.log(n,"error")},loginWxFun:function(e){var o=this;n.login({success:function(t){t.code?(o.setData({wxCode:t.code}),"function"==typeof e&&e()):setTimeout((function(){n.showToast({icon:"none",title:"请先授权支付宝登陆"})}),50)},fail:function(){setTimeout((function(){n.showToast({icon:"none",title:"请先授权支付宝登陆"})}),50)}})},getRegisterStatusFun:function(){var n=this,e=!1;this.loginWxFun((function(){n.getUserRegisterInfoFun(e)}))},handleLoginByPhoneFun:function(){var n=this,e=!0;this.loginWxFun((function(){n.getUserRegisterInfoFun(e)}))},getUserRegisterInfoFun:function(e){var o=this;this.isBindOpenId?e&&n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.bandPhone+"&unionId="+this.unionId+"&openId="+this.openId+"&originType="+this.originType}):(0,t.get)({url:i.get_phone_wx_code+"/"+this.wxCode,success:function(t){t.isRegister?(o.setData({bandPhone:t.phone,openId:t.openId,unionId:t.unionId,isBindOpenId:!0}),e&&n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+o.bandPhone+"&unionId="+o.unionId+"&openId="+o.openId+"&originType="+o.originType})):o.setData({isBindOpenId:!1})},fail:function(e){setTimeout((function(){n.showToast({icon:"none",title:"登陆信息获取失败："+e})}),50),o.setData({isBindOpenId:!1})}})},getWxPhoneFun:function(e){var o=this;(0,t.post)({url:i.decode_phone,params:{encrypted:e.detail.encryptedData,iv:e.detail.iv,code:this.wxCode,wxAppType:2},success:function(e){o.setData({bandPhone:e.phone,loginPhone:e.phone,openId:e.openId,unionId:e.unionId,isBindOpenId:!0}),n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+e.phone+"&unionId="+e.unionId+"&openId="+e.openId})},fail:function(e){setTimeout((function(){n.showToast({icon:"none",title:e})}),50)}})},_getZfbPhone:function(){var e=this;(0,t.post)({url:i.get_phone_zfb_code,success:function(o){e.setData({bandPhone:o.phone,loginPhone:o.phone,openId:o.openId,unionId:o.unionId,isBindOpenId:!0}),n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+o.phone+"&unionId="+o.unionId+"&openId="+o.openId})},fail:function(e){setTimeout((function(){n.showToast({icon:"none",title:e})}),50)}})},getPhoneNumber:function(n){return new Promise((function(n,e){my.getPhoneNumber({scopes:"auth_user",success:function(e){var o=JSON.parse(e.response);console.log(o,3333);o.response;n(e)},fail:function(n){e(n)}})}))},bindKeyInput:function(n){var e=n.detail.value;if(console.log(e.length),e.length>11)return e.substr(0,11);this.setData({loginPhone:n.detail.value})},bindPhoneAction:function(){n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.loginPhone+"&unionId="+this.unionId+"&openId="+this.openId})}}};e.default=u}).call(this,o("c11b")["default"])},"89f7":function(n,e,o){"use strict";(function(n){o("e09c");t(o("66fd"));var e=t(o("06fb"));function t(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,o("c11b")["createPage"])},bf7a:function(n,e,o){"use strict";o.r(e);var t=o("249d"),i=o.n(t);for(var u in t)"default"!==u&&function(n){o.d(e,n,(function(){return t[n]}))}(u);e["default"]=i.a}},[["89f7","common/runtime","common/vendor"]]]);