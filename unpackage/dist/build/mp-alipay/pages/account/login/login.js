(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/account/login/login"],{"06fb":function(n,e,o){"use strict";o.r(e);var t=o("ad03"),i=o("bf7a");for(var u in i)"default"!==u&&function(n){o.d(e,n,(function(){return i[n]}))}(u);o("1612");var a,s=o("f0c5"),c=Object(s["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],a);e["default"]=c.exports},"104e":function(n,e,o){},1612:function(n,e,o){"use strict";var t=o("104e"),i=o.n(t);i.a},"249d":function(n,e,o){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,i=o("3b7d"),u=o("aa5f");function a(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}var s={data:function(){return{wxCode:"",openId:"",unionId:"",loginPhone:"",quickLoginTitle:"微信账号快速登陆",loginTitle:"闪签快捷登陆",isShowMark:!1,isBindOpenId:!1,bandPhone:""}},components:{},props:{},onLoad:function(n){},onShow:function(){this.getRegisterStatusFun()},onShareAppMessage:function(){},methods:(t={loginWxFun:function(e){var o=this;n.login({success:function(t){t.code?(o.setData({wxCode:t.code}),"function"==typeof e&&e()):setTimeout((function(){n.showToast({icon:"none",title:"请先授权微信登陆"})}),50)},fail:function(){setTimeout((function(){n.showToast({icon:"none",title:"请先授权微信登陆"})}),50)}})},getRegisterStatusFun:function(){var n=this,e=!1;this.loginWxFun((function(){n.getUserRegisterInfoFun(e)}))},handleLoginByPhoneFun:function(){var n=this,e=!0;this.loginWxFun((function(){n.getUserRegisterInfoFun(e)}))},getUserRegisterInfoFun:function(e){var o=this;this.isBindOpenId?e&&n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.bandPhone+"&unionId="+this.unionId+"&openId="+this.openId+"&originType="+this.originType}):(0,i.get)({url:u.get_phone_wx_code+"/"+this.wxCode,success:function(t){t.isRegister?(o.setData({bandPhone:t.phone,openId:t.openId,unionId:t.unionId,isBindOpenId:!0}),e&&n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+o.bandPhone+"&unionId="+o.unionId+"&openId="+o.openId+"&originType="+o.originType})):o.setData({isBindOpenId:!1})},fail:function(e){setTimeout((function(){n.showToast({icon:"none",title:"登陆信息获取失败："+e})}),50),o.setData({isBindOpenId:!1})}})},getPhoneNumber:function(e){var o=this;"getPhoneNumber:ok"==e.detail.errMsg?this.loginWxFun((function(){o.getPhoneFun(e)})):setTimeout((function(){n.showToast({icon:"none",title:"快捷登陆失败"})}),50)},getPhoneFun:function(e){var o=this;(0,i.post)({url:u.decode_phone,params:{encrypted:e.detail.encryptedData,iv:e.detail.iv,code:this.wxCode,wxAppType:2},success:function(e){o.setData({bandPhone:e.phone,loginPhone:e.phone,openId:e.openId,unionId:e.unionId,isBindOpenId:!0}),n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+e.phone+"&unionId="+e.unionId+"&openId="+e.openId})},fail:function(e){setTimeout((function(){n.showToast({icon:"none",title:e})}),50)}})}},a(t,"getPhoneNumber",(function(e){var o=this;"getPhoneNumber:ok"==e.detail.errMsg?this.loginWxFun((function(){o.getPhoneFun(e)})):setTimeout((function(){n.showToast({icon:"none",title:"快捷登陆失败"})}),50)})),a(t,"bindKeyInput",(function(n){var e=n.detail.value;if(console.log(e.length),e.length>11)return e.substr(0,11);this.setData({loginPhone:n.detail.value})})),a(t,"bindPhoneAction",(function(){n.navigateTo({url:"/pages/account/loginVerify/loginVerify?phone="+this.loginPhone+"&unionId="+this.unionId+"&openId="+this.openId})})),t)};e.default=s}).call(this,o("c11b")["default"])},"89f7":function(n,e,o){"use strict";(function(n){o("e09c");t(o("66fd"));var e=t(o("06fb"));function t(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,o("c11b")["createPage"])},ad03:function(n,e,o){"use strict";var t;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return t}));var i=function(){var n=this,e=n.$createElement;n._self._c},u=[]},bf7a:function(n,e,o){"use strict";o.r(e);var t=o("249d"),i=o.n(t);for(var u in t)"default"!==u&&function(n){o.d(e,n,(function(){return t[n]}))}(u);e["default"]=i.a}},[["89f7","common/runtime","common/vendor"]]]);