(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/costManage/giveWay/giveWay"],{"080d":function(n,e,t){"use strict";var o=t("630c"),c=t.n(o);c.a},"0d8a":function(n,e,t){"use strict";t.r(e);var o=t("cbf5"),c=t("3acd");for(var i in c)"default"!==i&&function(n){t.d(e,n,(function(){return c[n]}))}(i);t("080d");var r,a=t("f0c5"),s=Object(a["a"])(c["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=s.exports},"3acd":function(n,e,t){"use strict";t.r(e);var o=t("99d5"),c=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=c.a},"630c":function(n,e,t){},"99d5":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("3b7d"),c=t("730f");function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function r(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var s={data:function(){return{ways:[{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/friends.png",label:"微信好友",type:1},{icon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/shanqian_icon.png",label:"闪签用户",type:2}],origin:"card",id:"",wxShareId:"",money:0,count:0,shareIcon:"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/cost/share_icon.png",isWxShare:!1}},components:{},props:{},onLoad:function(n){console.log(n),n.origin&&this.setData({origin:n.origin}),n.id&&this.setData({id:n.id}),n.money&&this.setData({money:n.money}),n.count&&this.setData({count:n.count}),this.shareCardFun()},onReady:function(){},onShow:function(){console.log("show")},onHide:function(){console.log("hide")},onUnload:function(){this.isWxShare||this.cancelShareFun()},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){var e=this,t={};this.origin;return t={title:"".concat(this.money,"元礼品卡，点击即可领取"),path:"/pages/costManage/receiveCard/receiveCard?gifCardId=".concat(this.wxShareId),imageUrl:this.shareIcon},t=r(r({},t),{},{success:function(e){console.error("分享成功",e),setTimeout((function(){n.showToast({icon:"none",title:"分享成功"})}),50)},fail:function(t){console.error("分享失败",t),setTimeout((function(){n.showToast({icon:"none",title:"分享失败"})}),50),e.cancelShareFun()}}),console.error("shareObj",t,this.id,this.wxShareId),t},methods:{handleSelectShareWayFun:function(e){var t=this;switch(console.log(e.currentTarget.dataset.type),e.currentTarget.dataset.type){case 1:console.log("分享到好友"),this.setData({isWxShare:!0});break;case 2:this.cancelShareFun((function(){n.navigateTo({url:"/pages/costManage/giving/giving?origin="+t.origin+"&id="+t.id+"&money="+t.money})}));break;default:break}},shareCardFun:function(){var e=this;n.showLoading({icon:"none",title:"加载中"});var t={shareId:this.id,mode:"give"==this.origin?"buy":"rechargeCard",shareNum:this.count,shareMoney:this.money};(0,o.postBody)({url:c.share_card,params:t,success:function(n){console.log(n),e.setData({wxShareId:n})},fail:function(n){console.log(n)},complete:function(){console.log("完成了"),n.hideLoading()}})},cancelShareFun:function(n){(0,o.get)({url:c.cancel_hare_card+this.wxShareId,success:function(n){console.log(n)},fail:function(n){console.log(n)},complete:function(){console.log("complete")}}),"function"==typeof n&&n()}}};e.default=s}).call(this,t("c11b")["default"])},cbf5:function(n,e,t){"use strict";var o;t.d(e,"b",(function(){return c})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var c=function(){var n=this,e=n.$createElement;n._self._c},i=[]},dd4f:function(n,e,t){"use strict";(function(n){t("e09c");o(t("66fd"));var e=o(t("0d8a"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("c11b")["createPage"])}},[["dd4f","common/runtime","common/vendor"]]]);