{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/icourt/Desktop/mycode/uni/pages/contract/sign/next/contractDetail/contractDetail.vue?3e01","webpack:////Users/icourt/Desktop/mycode/uni/pages/contract/sign/next/contractDetail/contractDetail.vue?99ef","webpack:////Users/icourt/Desktop/mycode/uni/pages/contract/sign/next/contractDetail/contractDetail.vue?326d","uni-app:///pages/contract/sign/next/contractDetail/contractDetail.vue","webpack:////Users/icourt/Desktop/mycode/uni/pages/contract/sign/next/contractDetail/contractDetail.vue?a072","webpack:////Users/icourt/Desktop/mycode/uni/pages/contract/sign/next/contractDetail/contractDetail.vue?0af2"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2I;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAy3B,CAAgB,4yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8D74B;AACA,+E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iUAGA,EACA,IADA,kBACA,CACA,SACA,kBADA,GAGA,CALA,EAOA,cACA,cADA,EAPA,EAUA,SAVA,EAYA;;2RAGA,kCACA,qBACA,0CACA,CAlBA,EAoBA;;kYAGA,8BAvBA,EAyBA;;qaAGA,4BA5BA,EA8BA;;scAGA,4BAjCA,EAmCA;;ueAGA,gCAtCA,EAwCA;;4gBAGA,kDA3CA,EA6CA;;mkBAGA,0CAhDA,EAkDA;;knBAGA,kDArDA,EAsDA,WACA,gBADA,4BACA,EADA,EACA,CACA,iBAEA,oBACA,kCADA,EAEA,UACA,MADA,EAFA,EAKA,gCACA,iBACA,uDACA,2BACA,CAFA,EAGA,6BACA,0CAEA,gCACA,sFACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAFA;;AAIA;AACA,6BADA;;AAGA,SAhCA;AAiCA;AACA;AACA,SAnCA;;AAqCA,KAzCA;;AA2CA,eA3CA,uBA2CA,CA3CA,EA2CA;AACA;AACA;AACA;AACA,qBADA;AAEA,uBAFA;AAGA,0BAHA;AAIA,yBAJA;;AAMA,KApDA;;AAsDA;;;;;AAKA,qBA3DA,6BA2DA,SA3DA,EA2DA,GA3DA,EA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAhFA;;AAkFA,QAlFA,kBAkFA;AACA;AACA,KApFA,EAtDA,E;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAAwvC,CAAgB,ymCAAG,EAAC,C;;;;;;;;;;;ACA5wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/contract/sign/next/contractDetail/contractDetail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/contract/sign/next/contractDetail/contractDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./contractDetail.vue?vue&type=template&id=539950fe&\"\nvar renderjs\nimport script from \"./contractDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./contractDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contractDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/contract/sign/next/contractDetail/contractDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=template&id=539950fe&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=script&lang=js&\"","<template>\r\n<!--pages/contract/sign/next/signConfirm/signConfirm.wxml-->\r\n<view class=\"contract-page--section\" v-if=\"contractData != null\">\r\n\t<view class=\"contract-subject--area\">\r\n\t\t<view class=\"subject-title title\">合同主题</view>\r\n\t\t<view class=\"subject-desc\">{{contractData.contractSubject.contractTitle}}</view>\r\n\t</view>\r\n\t<view class=\"contract-info--area\">\r\n\t\t<view class=\"info-title title\">合同信息</view>\r\n\t\t<view class=\"info-list\">\r\n\t\t\t<view class=\"info-list-item\">\r\n\t\t\t\t<text class=\"item-title\">发起方</text>\r\n\t\t\t\t<text class=\"item-content\">{{contractData.initiatorName}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-list-item\">\r\n\t\t\t\t<text class=\"item-title\">发起时间</text>\r\n\t\t\t\t<text class=\"item-content\">{{contractData.contractSubject.gmtCreate ? contractData.contractSubject.gmtCreate : ''}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-list-item\" v-if=\"contractData.contractSubject.signingDeadline\">\r\n\t\t\t\t<text class=\"item-title\">签署截止时间</text>\r\n\t\t\t\t<text class=\"item-content\">{{contractData.contractSubject.signingDeadline}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-list-item\" v-if=\"contractData.contractSubject.fileTermination\">\r\n\t\t\t\t<text class=\"item-title\">文件有效签署时间</text>\r\n\t\t\t\t<text class=\"item-content\">{{contractData.contractSubject.fileTermination}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\t<view class=\"contract-status\">\r\n\t\t<view class=\"base-title title\">合同状态</view>\r\n\t\t<view class=\"status-wrapper\">\r\n\t\t\t<view class=\"base-list-item\">\r\n\t\t\t\t<text class=\"item-title\">{{(contractData.type == 1 && contractData.secondType == 2 && contractData.myselfSigned == 0) ? '等待签署方完成签署' : (contractData.type == 1 && contractData.secondType == 0) ? '待自己签署' : (contractData.type == 1 && contractData.secondType == 2 && contractData.myselfSigned == 1) ? '未轮到自己签署，等待他人签署' : (contractData.type == 1 && contractData.secondType == 2 && contractData.myselfSigned == 2) ? '你已完成本文件签署，等待他人签署' : (contractData.type == 1 && contractData.secondType == 1) ? '等待用印审批通过' : (contractData.type == 1 && contractData.secondType == 4) ? '你已撤回本合同文件' : (contractData.type == 1 && contractData.secondType == 5) ? '合同被拒签，无法继续签署' : (contractData.type == 1 && contractData.secondType == 3) ? '已完成' : (contractData.type == 1 && contractData.secondType == 5 && contractData.secondType == 6) ? '已超过签署截止日期，无法继续签署' : (contractData.type == 1 && contractData.secondType == 5 && contractData.secondType != 6 && contractData.secondType < 8) ? '合同文件已失效' : (contractData.type == 1 && contractData.secondType == 8) ? '等待用印审批通过' : (contractData.type == 2 && contractData.secondType == 0) ? '待自己签署' : (contractData.type == 2 && contractData.secondType == 1) ? contractData.approvalSponsor + '签署了文件，等待你的用印审批' : (contractData.type == 2 && contractData.secondType == 2 && contractData.myselfSigned == 2) ? '你已完成本文件签署，等待他人签署' : (contractData.type == 2 && contractData.secondType == 8) ? '你已完成文件签署，等待用印审批通过' : (contractData.type == 2 && contractData.secondType == 3) ? '已完成' : (contractData.type == 2 && contractData.secondType == 4) ? '被发起方撤回' : (contractData.type == 2 && contractData.secondType == 5) ? (contractData.myselfRejected ? '本文件你已拒签' : '合同被拒签，无法继续签署') : (ontractData.type == 2 && contractData.secondType > 5 && contractData.secondType < 8 && contractData.secondType != 6) ? '合同文件已失效' : (contractData.secondType > 5 && contractData.secondType < 8) ? '已超过签署截止日期，无法继续签署' : ''}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\t<view class=\"contract-base--area\">\r\n\t\t<view class=\"base-title title\">合同签署方</view>\r\n\t\t<view class=\"base-list\">\r\n\t\t\t<view v-for=\"(item, index) in contractData.contractFlowTasks\" :key=\"index\" class=\"base-list-item\">\r\n\t\t\t\t<text class=\"item-title\">{{item.relationType === 1 ? item.userName : item.relationType === 2 ? item.companyName + '（' + item.userName + '）' : ''}} - {{ item.userPhone }}</text>\r\n\t\t\t\t<text class=\"item-content\">{{item.status === 1 ? '未签署' : item.status === 2 ? '已签署' : item.status === 3 ? '审批中' : item.status === 4 ? '已拒签' : item.status === 5 ? '抄送方' : ''}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\t<view class=\"contract-sign-flow\">\r\n\t\t<view class=\"flow-title title\">合同签署时间流</view>\r\n\t\t<view class=\"flow-content--area\">\r\n\t\t\t<view v-for=\"(item, index) in contractData.timeProcessVOS\" :key=\"index\" class=\"flow-content-item\">\r\n\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t<text class=\"item-result\">{{item.name}}{{item.actionName}}</text>\r\n\t\t\t\t\t<text class=\"item-time\">{{item.time}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item-reason\" :data-item=\"item\" @tap=\"watchSeason\" v-if=\"item.reason\">查看原因</view>\r\n\t\t\t\t<view :class=\"'item-flag ' + (item.status == 2 ? 'success' : item.status == 3 ? 'active' : item.status == 4 ? 'fail' : fail)\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</view>\r\n</template>\r\n\r\n<script>\r\nimport { get } from '../../../../../api/request.js'\nimport { get_contract_detail } from '../../../../../api/contract.js'\r\nimport avatar from \"../../../../../components/avatar/avatar\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      contractData: null\r\n    };\r\n  },\r\n\r\n  components: {\r\n    avatar\r\n  },\r\n  props: {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    console.log(options);\r\n    this.getDetailDataFun(options.contractId);\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {},\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {},\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {},\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {},\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {},\r\n  methods: {\r\n    getDetailDataFun(id) {\r\n      var _this = this;\r\n\r\n      get({\r\n        url: get_contract_detail,\r\n        params: {\r\n          id: id\r\n        },\r\n        success: res => {\r\n          console.log(res);\r\n          const copy = res.contractFlowTasks.filter(it => {\r\n            return it.processType == 2;\r\n          });\r\n          res.contractFlowTasks = copy;\r\n          const contractSubject = res.contractSubject;\r\n\r\n          if (contractSubject.gmtCreate) {\r\n            res.contractSubject.gmtCreate = _this.formatTimeConvert(contractSubject.gmtCreate, 1);\r\n          }\r\n\r\n          if (contractSubject.signingDeadline) {\r\n            res.contractSubject.signingDeadline = _this.formatTimeConvert(contractSubject.signingDeadline, 1);\r\n          }\r\n\r\n          if (contractSubject.fileTermination) {\r\n            res.contractSubject.fileTermination = _this.formatTimeConvert(contractSubject.fileTermination, 1);\r\n          }\r\n\r\n          res.timeProcessVOS.forEach(item => {\r\n            item.time = _this.formatTimeConvert(item.relationTime, 1);\r\n          });\r\n\r\n          _this.setData({\r\n            contractData: res\r\n          });\r\n        },\r\n        fail: function (err) {\r\n          console.log(err);\r\n        }\r\n      });\r\n    },\r\n\r\n    watchSeason(e) {\r\n      console.log(e);\r\n      var reason = e.currentTarget.dataset.item.reason || ' ';\r\n      uni.showModal({\r\n        title: \"查看原因\",\r\n        content: reason,\r\n        confirmText: \"知道了\",\r\n        showCancel: false\r\n      });\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {*} timestamp 时间戳\r\n     * @param {*} num 格式化类型\r\n     */\r\n    formatTimeConvert(timestamp, num) {\r\n      timestamp = timestamp + '';\r\n      timestamp = timestamp.length == 10 ? timestamp * 1000 : timestamp;\r\n      var date = new Date(Number(timestamp));\r\n      var y = date.getFullYear();\r\n      var m = date.getMonth() + 1;\r\n      m = m < 10 ? '0' + m : m;\r\n      var d = date.getDate();\r\n      d = d < 10 ? '0' + d : d;\r\n      var h = date.getHours();\r\n      h = h < 10 ? '0' + h : h;\r\n      var minute = date.getMinutes();\r\n      var second = date.getSeconds();\r\n      minute = minute < 10 ? '0' + minute : minute;\r\n      second = second < 10 ? '0' + second : second;\r\n\r\n      if (num == 0) {\r\n        return y + '-' + m + '-' + d;\r\n      } else {\r\n        return y + '-' + m + '-' + d + ' ' + h + ':' + minute + ':' + second;\r\n      }\r\n    },\r\n\r\n    back() {\r\n      uni.navigateBack();\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n<style>\r\n@import \"./contractDetail.css\";\r\n</style>","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608878728970\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}