{"version":3,"sources":["uni-app:///main.js","webpack:////Users/icourt/Desktop/mycode/uni/pages/evidence/addCertificate/addCertificate.vue?5b2a","webpack:////Users/icourt/Desktop/mycode/uni/pages/evidence/addCertificate/addCertificate.vue?2ec8","webpack:////Users/icourt/Desktop/mycode/uni/pages/evidence/addCertificate/addCertificate.vue?d193","webpack:////Users/icourt/Desktop/mycode/uni/pages/evidence/addCertificate/addCertificate.vue?3ffd","uni-app:///pages/evidence/addCertificate/addCertificate.vue","webpack:////Users/icourt/Desktop/mycode/uni/pages/evidence/addCertificate/addCertificate.vue?20d2","webpack:////Users/icourt/Desktop/mycode/uni/pages/evidence/addCertificate/addCertificate.vue?57ab","webpack:////Users/icourt/Desktop/mycode/uni/utils/tools.wxs?99f3","webpack:////Users/icourt/Desktop/mycode/uni/utils/tools.wxs?3f05"],"names":["createPage","Page"],"mappings":"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","file":"pages/evidence/addCertificate/addCertificate.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/evidence/addCertificate/addCertificate.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addCertificate.vue?vue&type=template&id=37de17b0&filter-modules=eyJ0b29scyI6eyJ0eXBlIjoic2NyaXB0IiwiY29udGVudCI6IiIsInN0YXJ0Ijo0NTQ0LCJhdHRycyI6eyJtb2R1bGUiOiJ0b29scyIsImxhbmciOiJ3eHMiLCJzcmMiOiIuLi8uLi8uLi91dGlscy90b29scy53eHMifSwiZW5kIjo0NTQ0fX0%3D&\"\nvar renderjs\nimport script from \"./addCertificate.vue?vue&type=script&lang=js&\"\nexport * from \"./addCertificate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addCertificate.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"../../../utils/tools.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Ficourt%2FDesktop%2Fmycode%2Funi%2Fpages%2Fevidence%2FaddCertificate%2FaddCertificate.vue&module=tools&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"pages/evidence/addCertificate/addCertificate.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCertificate.vue?vue&type=template&id=37de17b0&filter-modules=eyJ0b29scyI6eyJ0eXBlIjoic2NyaXB0IiwiY29udGVudCI6IiIsInN0YXJ0Ijo0NTQ0LCJhdHRycyI6eyJtb2R1bGUiOiJ0b29scyIsImxhbmciOiJ3eHMiLCJzcmMiOiIuLi8uLi8uLi91dGlscy90b29scy53eHMifSwiZW5kIjo0NTQ0fX0%3D&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCertificate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCertificate.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 添加存证页面 start -->\r\n\t\t<view class=\"add-certificate-box\" v-if=\"!isVoiceRecord\">\r\n\t\t\t<form @submit=\"addCertificateSubmit\">\r\n\t\t\t\t<view class=\"certificate-content-item\">\r\n\t\t\t\t\t<!-- 上传图片 start -->\r\n\t\t\t\t\t<view class=\"certificate-content-item--image\" v-if=\"type==='image'\">\r\n\t\t\t\t\t\t<view class=\"h1\">上传图片</view>\r\n\t\t\t\t\t\t<view class=\"add-certificate-image\">\r\n\t\t\t\t\t\t\t<view class=\"add-certificate-image--item\">\r\n\t\t\t\t\t\t\t\t<image class=\"image-add\" mode=\"aspectFit\" :src=\"addCertificateImageUrl || 'https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/certificate/add.png'\"\r\n\t\t\t\t\t\t\t\t @tap.stop=\"tapAddImage\"></image>\r\n\t\t\t\t\t\t\t\t<view v-if=\"addCertificateImageUrl\" class=\"image-delete one-close\" @tap.stop=\"tapDeleteImage\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 上传图片 end -->\r\n\r\n\t\t\t\t\t<!-- 上传音频 start -->\r\n\t\t\t\t\t<view class=\"certificate-content-item--voice\" v-if=\"type==='voice'\">\r\n\t\t\t\t\t\t<view class=\"h1\">{{addCertificateVoice ?'语音文件' : '上传语音'}} </view>\r\n\t\t\t\t\t\t<view @tap.stop=\"openVoiceRecord\" v-if=\"!addCertificateVoice\" class=\"input-name\">录制语音\r\n\t\t\t\t\t\t\t<view class=\"icon-right one-arrow-right\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"addCertificateVoice\" class=\"add-certificate-voice\">\r\n\t\t\t\t\t\t\t<view class=\"add-certificate-voice-progress\">\r\n\t\t\t\t\t\t\t\t<text :class=\"'add-certificate-voice-progress--btn iconfont ' + (isPlay ? 'iconicon_bofang' : 'iconbofang' )\"\r\n\t\t\t\t\t\t\t\t @tap.stop=\"playVoice\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"add-certificate-voice-progress--start\">{{showVideoPlayTime}}</text>\r\n\t\t\t\t\t\t\t\t<view class=\"add-certificate-voice-progress--loading\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"add-certificate-voice-progress--width\" :style=\"'width:' + ((videoPlayTime * 100000 / duration) + '%')\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"add-certificate-voice-progress--end\">{{showDurationTime}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!--  #ifndef  MP-ALIPAY -->\r\n\t\t\t\t\t\t\t<view class=\"size\">音频大小：{{addFileInfo.size}}<text v-if=\"addFileInfo.size\">M</text></view>\r\n\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t\t<view class=\"add-certificate-voice-delete one-close\" @tap.stop=\"tapDeleteVoice\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 上传音频 end -->\r\n\r\n\t\t\t\t\t<!-- 上传文件 start -->\r\n\t\t\t\t\t<view class=\"certificate-content-item--file\" v-if=\"type==='file'\">\r\n\t\t\t\t\t\t<view class=\"h1\" style=\"margin-top:32rpx\">选择文件</view>\r\n\t\t\t\t\t\t<view class=\"file-size\" v-if=\"addFileInfo.size\">文件大小：{{addFileInfo.size}}<text>M</text></view>\r\n\t\t\t\t\t\t<view class=\"upload-btn\" @tap=\"handleChooseFileFun\">选择上传文件</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 上传文件 start -->\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 命名文件 start -->\r\n\t\t\t\t<view class=\"certificate-content-item\">\r\n\t\t\t\t\t<view class=\"h1\">命名文件</view>\r\n\t\t\t\t\t<input class=\"input-name\" :value=\"nameValue\" @input=\"nameInput\" name=\"name\" maxLength=\"20\" placeholder=\"最多20个字符，命名不能出现字符有：/：*？#”<>|。\"></input>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 命名文件 end -->\r\n\t\t\t\t<!-- 存证类型 start -->\r\n\t\t\t\t<view class=\"certificate-content-item\">\r\n\t\t\t\t\t<view class=\"h1\">存证类型</view>\r\n\t\t\t\t\t<view class=\"sign-certificate-type\">\r\n\t\t\t\t\t\t<radio-group name=\"type\">\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<radio value=\"2\" checked></radio>\r\n\t\t\t\t\t\t\t\t<text class=\"label-text\">司法存证</text>\r\n\t\t\t\t\t\t\t\t<view class=\"label-detail\">安全可信存证、国家授权时间、数据直连司法、司法效力</view>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</radio-group>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 存证类型 end -->\r\n\t\t\t\t<!-- 说明 start -->\r\n\t\t\t\t<view class=\"certificate-content-item\">\r\n\t\t\t\t\t<view class=\"add-certificate-description\">\r\n\t\t\t\t\t\t<view class=\"title\"> 说明</view>\r\n\t\t\t\t\t\t<view> 1. 一次仅支持上传一个文件；</view>\r\n\t\t\t\t\t\t<view> 2. 所选文件将按照国密SM3算法计算Hash；</view>\r\n\t\t\t\t\t\t<view> 3. 链上不存储原文件，仅存储Hash。</view>\r\n\t\t\t\t\t\t<view v-if=\"type==='file'\"> 4. 建议上传文件大小不超过1G。</view>\r\n\t\t\t\t\t\t<view v-if=\"type==='voice'\"> 4. 建议上传音频时长不超过两个小时，录制时长最长支持十分钟。</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 说明 end -->\r\n\t\t\t\t<!-- 提交按钮 -->\r\n\t\t\t\t<button class=\"certificate-submit\" form-type=\"submit\">{{ formId ? '保存' : '立即出证' }}</button>\r\n\t\t\t</form>\r\n\t\t</view>\r\n\t\t<!-- 添加存证页面 end -->\r\n\r\n\t\t<!-- 声音录制页面 start -->\r\n\t\t<view class=\"voice-record-box\" v-if=\"type==='voice' && isVoiceRecord\">\r\n\t\t\t<view class=\"voice-record-content\">\r\n\t\t\t\t<view class=\"voice-record-time\">{{showTime||'00:00:00'}}</view>\r\n\t\t\t\t<view class=\"voice-record-time-text\">{{time ? '正在录音… 点击按钮暂停录音自动保存':'点击按钮开始录音'}}</view>\r\n\t\t\t\t<view :class=\"' ' + (recording? 'voice-record-btn voice-record-btn-loading':'voice-record-btn')\">\r\n\t\t\t\t\t<view class=\"voice-record-btn-center\" @tap.stop=\"longPressBtn\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 声音录制页面 end -->\r\n\t</view>\r\n</template>\r\n\r\n<script module=\"tools\" lang=\"wxs\" src=\"../../../utils/tools.wxs\"></script>\r\n\r\n<script>\r\n\timport {\r\n\t\tget,\r\n\t\tpost,\r\n\t\tupload\r\n\t} from '../../../api/request.js'\r\n\timport {\r\n\t\tget_upload_policy,\r\n\t\tadd_certificate_file,\r\n\t\tsaveChainToContract\r\n\t} from '../../../api/evidence.js'\r\n\tlet utils = require(\"../../../utils/utils.js\");\r\n\tconst recorderManager = uni.getRecorderManager();\r\n\tconst innerAudioContext = uni.createInnerAudioContext();\r\n\tlet timer = null;\r\n\tconst titleMap = {\r\n\t\ttext: {\r\n\t\t\ttitle: '文字存证',\r\n\t\t\tvalue: 1\r\n\t\t},\r\n\t\timage: {\r\n\t\t\ttitle: '图片存证',\r\n\t\t\tvalue: 2\r\n\t\t},\r\n\t\tvoice: {\r\n\t\t\ttitle: '语音存证',\r\n\t\t\tvalue: 3\r\n\t\t},\r\n\t\tvideo: {\r\n\t\t\ttitle: '视频存证',\r\n\t\t\tvalue: 4\r\n\t\t},\r\n\t\tfile: {\r\n\t\t\ttitle: '文件存证',\r\n\t\t\tvalue: 5\r\n\t\t}\r\n\t}; // 类型map\r\n\t// 类型map\r\n\tconst typeMap = {\r\n\t\timage: 'addCertificateImageUrl',\r\n\t\tvideo: 'addCertificateVideo',\r\n\t\tvoice: 'addCertificateVoice',\r\n\t\tfile: 'addCertificateFile'\r\n\t};\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tishighLight: false,\r\n\t\t\t\t//\r\n\t\t\t\ttype: '',\r\n\t\t\t\t//页面存证\r\n\t\t\t\tfileType: '',\r\n\t\t\t\t// 文件类型\r\n\t\t\t\tnameValue: '',\r\n\t\t\t\t// 存证名称\r\n\t\t\t\ttypeValue: 2,\r\n\t\t\t\t//存证类型\r\n\t\t\t\taddCertificateImageUrl: '',\r\n\t\t\t\t// 图片存证url\r\n\t\t\t\taddCertificateText: '',\r\n\t\t\t\t// 文字存证文本\r\n\t\t\t\taddCertificateVoice: '',\r\n\t\t\t\t// 语音存证url\r\n\t\t\t\taddCertificateVideo: '',\r\n\t\t\t\t//视频存证url\r\n\t\t\t\taddCertificateFile: '',\r\n\t\t\t\t//新增文件url\r\n\t\t\t\tisVoiceRecord: false,\r\n\t\t\t\t// 是否是录制音频页面\r\n\t\t\t\ttime: 0,\r\n\t\t\t\t// 录音时长\r\n\t\t\t\tshowTime: 0,\r\n\t\t\t\t//录制音频的显示时间\r\n\t\t\t\trecording: false,\r\n\t\t\t\t// 音频是否正在录制\r\n\t\t\t\tduration: 0,\r\n\t\t\t\t// 音频录制时长\r\n\t\t\t\tisPlay: false,\r\n\t\t\t\t// 音频是否在播放\r\n\t\t\t\tvideoPlayTime: 0,\r\n\t\t\t\t// 音频播放时间 number\r\n\t\t\t\tshowVideoPlayTime: '00:00:00',\r\n\t\t\t\t// 音频播放显示时间\r\n\t\t\t\tshowDurationTime: '00:00:00',\r\n\t\t\t\t// 音频总时长显示\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\t// loading\r\n\t\t\t\tuploadMethod: 2,\r\n\t\t\t\t//上传方式\r\n\t\t\t\taddFileInfo: null,\r\n\t\t\t\tformId: null // 添加数据链的id,如果存证，则是添加数据链\r\n\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomponents: {},\r\n\t\tprops: {},\r\n\t\t//页面加载函数\r\n\t\tonLoad: function(options) {\r\n\t\t\tlet type = options.type;\r\n\t\t\tlet formId = options.fromId;\r\n\t\t\tthis.setData({\r\n\t\t\t\ttype: type,\r\n\t\t\t\tfileType: titleMap[type].value,\r\n\t\t\t\tformId: formId\r\n\t\t\t});\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: titleMap[type].title\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonReady() {},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 名称输入函数\r\n\t\t\tnameInput: function(event) {\r\n\t\t\t\tlet value = event.detail.value;\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tnameValue: value\r\n\t\t\t\t});\r\n\t\t\t\tthis.getHighLight();\r\n\t\t\t},\r\n\t\t\t//添加图片\r\n\t\t\ttapAddImage: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['拍照', '从相册选择'],\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(res.tapIndex); // if(this)\r\n\r\n\t\t\t\t\t\tthat.chooseImage(res.tapIndex == 0 ? 'camera' : 'album');\r\n\r\n\t\t\t\t\t\tif (res.tapIndex == 0) {\r\n\t\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\t\tuploadMethod: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\t\tuploadMethod: 1\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 选择图片\r\n\t\t\t * sourceType camera album\r\n\t\t\t */\r\n\t\t\tchooseImage: function(sourceType) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: 'compressed',\r\n\t\t\t\t\tmaxDuration: 10,\r\n\t\t\t\t\tsourceType: [sourceType],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconst nameArr = res.tempFilePaths[0].slice(res.tempFilePaths[0].lastIndexOf('/') + 1).split('.');\r\n\t\t\t\t\t\tconst nameStr = this.random_string() + '.' + nameArr[nameArr.length - 1];\r\n\r\n\t\t\t\t\t\tconsole.log(nameArr);\r\n\t\t\t\t\t\tlet o = {\r\n\t\t\t\t\t\t\tpath: res.tempFilePaths[0],\r\n\t\t\t\t\t\t\tname: nameStr,\r\n\t\t\t\t\t\t\toriginName: res.tempFilePaths[0].slice(res.tempFilePaths[0].lastIndexOf('/') + 1)\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\to.size = (res.tempFiles[0].size / 1024 / 1000).toFixed(2)\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\taddFileInfo: o\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\taddCertificateImageUrl: tempFilePaths[0]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.getHighLight();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//删除图片\r\n\t\t\ttapDeleteImage: function(e) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.setData({\r\n\t\t\t\t\taddCertificateImageUrl: ''\r\n\t\t\t\t});\r\n\t\t\t\tthat.getHighLight();\r\n\t\t\t},\r\n\r\n\t\t\t// 校验文件是否支持上传\r\n\t\t\tcheckAllowUploadFun(fileName) {\r\n\t\t\t\tconst allowFileTypes = ['.doc', '.docx', '.pdf', '.bpm'];\r\n\t\t\t\tlet flag = false;\r\n\t\t\t\tallowFileTypes.map(it => {\r\n\t\t\t\t\tif (fileName.indexOf(it) > -1) {\r\n\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn flag;\r\n\t\t\t},\r\n\r\n\t\t\t// 选择文件\r\n\t\t\thandleChooseFileFun() {\r\n\t\t\t\tuni.chooseMessageFile({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\ttype: 'file',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tconst nameArr = res.tempFiles[0].path.slice(res.tempFiles[0].path.lastIndexOf('/') + 1).split('.');\r\n\t\t\t\t\t\tconst nameStr = this.random_string() + '.' + nameArr[nameArr.length - 1];\r\n\t\t\t\t\t\tlet o = {\r\n\t\t\t\t\t\t\tsize: (res.tempFiles[0].size / 1024 / 1000).toFixed(2),\r\n\t\t\t\t\t\t\tpath: res.tempFiles[0].path,\r\n\t\t\t\t\t\t\tname: nameStr,\r\n\t\t\t\t\t\t\toriginName: res.tempFiles[0].path.slice(res.tempFiles[0].path.lastIndexOf('/') + 1)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\taddFileInfo: o\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (this.checkAllowUploadFun(res.tempFiles[0].name)) {\r\n\t\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\t\taddCertificateFile: res.tempFiles[0].path\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.getHighLight();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '文件格式必须为pdf、doc、docx或者bpm',\r\n\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, 50);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 50);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//打开声音录制页面\r\n\t\t\topenVoiceRecord: function() {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tisVoiceRecord: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 点击录音 、点击录音保存\r\n\t\t\tlongPressBtn() {\r\n\t\t\t\tclearInterval(timer);\r\n\r\n\t\t\t\tif (this.recording) {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\trecording: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.stop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\trecording: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.start();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @name 开始录音\r\n\t\t\t */\r\n\t\t\tstart() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\tduration: 60000,\r\n\t\t\t\t\tsampleRate: 16000,\r\n\t\t\t\t\t//采样率\r\n\t\t\t\t\tnumberOfChannels: 1,\r\n\t\t\t\t\t//录音通道数\r\n\t\t\t\t\tencodeBitRate: 96000,\r\n\t\t\t\t\t//编码码率\r\n\t\t\t\t\tformat: 'mp3',\r\n\t\t\t\t\t//音频格式，有效值 aac/mp3\r\n\t\t\t\t\tframeSize: 50 //指定帧大小，单位 KB\r\n\r\n\t\t\t\t}; //开始录音\r\n\r\n\t\t\t\tthat.openInterval();\r\n\t\t\t\trecorderManager.start(options);\r\n\t\t\t\trecorderManager.onStart(function() {\r\n\t\t\t\t\tconsole.log('recorder start');\r\n\t\t\t\t}); //错误回调\r\n\r\n\t\t\t\trecorderManager.onError(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 停止录音\r\n\t\t\t */\r\n\t\t\tstop() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\trecorderManager.stop();\r\n\t\t\t\trecorderManager.onStop(res => {\r\n\t\t\t\t\tthat.tempFilePath = res.tempFilePath;\r\n\t\t\t\t\tconsole.log('停止录音', res);\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\ttempFilePath,\r\n\t\t\t\t\t\tduration,\r\n\t\t\t\t\t\tfileSize\r\n\t\t\t\t\t} = res;\r\n\t\t\t\t\tconst nameArr = res.tempFilePath.slice(res.tempFilePath.lastIndexOf('/') + 1).split('.');\r\n\t\t\t\t\tconst nameStr = this.random_string() + '.' + nameArr[nameArr.length - 1];\r\n\t\t\t\t\tlet o = {\r\n\t\t\t\t\t\tsize: (res.fileSize / 1024 / 1000).toFixed(2),\r\n\t\t\t\t\t\tpath: res.tempFilePath,\r\n\t\t\t\t\t\tname: nameStr,\r\n\t\t\t\t\t\toriginName: res.tempFilePath.slice(res.tempFilePath.lastIndexOf('/') + 1)\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\taddCertificateVoice: tempFilePath,\r\n\t\t\t\t\t\tisVoiceRecord: false,\r\n\t\t\t\t\t\taddFileInfo: o\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// #ifdef  MP-ALIPAY\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tduration: duration * 1000,\r\n\t\t\t\t\t\tshowDurationTime: this.showTimeFun(duration),\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t// #ifndef  MP-ALIPAY\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tduration: duration,\r\n\t\t\t\t\t\tshowDurationTime: this.showTimeFun(duration / 1000),\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tinnerAudioContext.src = tempFilePath;\r\n\t\t\t\t\tinnerAudioContext.onError(res => {\r\n\t\t\t\t\t\tconsole.log(res.errMsg);\r\n\t\t\t\t\t\tconsole.log(res.errCode);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tinnerAudioContext.onEnded(res => {\r\n\t\t\t\t\t\tinnerAudioContext.stop();\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tisPlay: false,\r\n\t\t\t\t\t\t\tvideoPlayTime: 0,\r\n\t\t\t\t\t\t\tshowVideoPlayTime: '00:00:00'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tinnerAudioContext.onTimeUpdate(() => { // console.log(innerAudioContext)\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 设置循环显示播放时长\r\n\t\t\t */\r\n\t\t\topenInterval: function() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\ttimer = setInterval(function() {\r\n\t\t\t\t\tlet _time = that.time + 1;\r\n\r\n\t\t\t\t\tvar sec = parseInt(_time % 60);\r\n\r\n\t\t\t\t\tvar _min = parseInt(_time / 60);\r\n\r\n\t\t\t\t\tvar min = parseInt(_min % 24);\r\n\t\t\t\t\tvar hour = parseInt(_min / 24);\r\n\t\t\t\t\thour = formatShow(hour);\r\n\t\t\t\t\tmin = formatShow(min);\r\n\t\t\t\t\tsec = formatShow(sec);\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\ttime: _time,\r\n\t\t\t\t\t\tshowTime: hour + ':' + min + ':' + sec\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\r\n\t\t\t\tfunction formatShow(value) {\r\n\t\t\t\t\treturn value < 10 ? '0' + value : value;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 格式化时间 00:00:00\r\n\t\t\t * @param {Object} time 事件\r\n\t\t\t */\r\n\t\t\tshowTimeFun: function(time) {\r\n\t\t\t\tconsole.log(time, 'shijianchangdu')\r\n\r\n\t\t\t\tfunction formatShow(value) {\r\n\t\t\t\t\treturn value < 10 ? '0' + value : value;\r\n\t\t\t\t}\r\n\t\t\t\tvar sec = parseInt(time % 60);\r\n\t\t\t\tvar _min = parseInt(time / 60);\r\n\t\t\t\tvar min = parseInt(_min % 24);\r\n\t\t\t\tvar hour = parseInt(_min / 24);\r\n\t\t\t\thour = formatShow(hour);\r\n\t\t\t\tmin = formatShow(min);\r\n\t\t\t\tsec = formatShow(sec);\r\n\t\t\t\treturn hour + ':' + min + ':' + sec;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 设置音频显示时间\r\n\t\t\t */\r\n\t\t\tsetTime() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\ttimer = setInterval(function() {\r\n\t\t\t\t\tlet _time = that.videoPlayTime + 1;\r\n\r\n\t\t\t\t\tvar sec = parseInt(_time % 60);\r\n\r\n\t\t\t\t\tvar _min = parseInt(_time / 60);\r\n\r\n\t\t\t\t\tvar min = parseInt(_min % 24);\r\n\t\t\t\t\tvar hour = parseInt(_min / 24);\r\n\t\t\t\t\thour = formatShow(hour);\r\n\t\t\t\t\tmin = formatShow(min);\r\n\t\t\t\t\tsec = formatShow(sec);\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tvideoPlayTime: _time,\r\n\t\t\t\t\t\tshowVideoPlayTime: hour + ':' + min + ':' + sec\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\r\n\t\t\t\tfunction formatShow(value) {\r\n\t\t\t\t\treturn value < 10 ? '0' + value : value;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 播放声音\r\n\t\t\t */\r\n\t\t\tplayVoice() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(this.isPlay, innerAudioContext);\r\n\r\n\t\t\t\tif (this.isPlay) {\r\n\t\t\t\t\tinnerAudioContext.pause();\r\n\t\t\t\t\tinnerAudioContext.onPause(() => {\r\n\t\t\t\t\t\tconsole.log('暂停播放');\r\n\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tisPlay: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinnerAudioContext.play(); // this.setTime()\r\n\r\n\t\t\t\t\tinnerAudioContext.onPlay(() => {\r\n\t\t\t\t\t\tconsole.log('开始播放');\r\n\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\t\tisPlay: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.setTime();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 获取随机串\r\n\t\t\t * @param {Object} len 长度\r\n\t\t\t */\r\n\t\t\trandom_string(len) {\r\n\t\t\t\tlen = len || 32;\r\n\t\t\t\tvar chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\r\n\t\t\t\tvar maxPos = chars.length;\r\n\t\t\t\tvar pwd = '';\r\n\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tpwd += chars.charAt(Math.floor(Math.random() * maxPos));\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn pwd;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 删除录制声音\r\n\t\t\t */\r\n\t\t\ttapDeleteVoice() {\r\n\t\t\t\tinnerAudioContext.stop();\r\n\t\t\t\tinnerAudioContext.destroy();\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\taddCertificateVoice: '',\r\n\t\t\t\t\ttime: 0,\r\n\t\t\t\t\tshowTime: 0,\r\n\t\t\t\t\trecording: false,\r\n\t\t\t\t\tduration: 0,\r\n\t\t\t\t\tisPlay: false,\r\n\t\t\t\t\tvideoPlayTime: 0,\r\n\t\t\t\t\tshowVideoPlayTime: '00:00:00',\r\n\t\t\t\t\tshowDurationTime: '00:00:00'\r\n\t\t\t\t});\r\n\t\t\t\tthis.getHighLight();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 提交存证\r\n\t\t\t * @param {Object} event 按钮事件源\r\n\t\t\t */\r\n\t\t\taddCertificateSubmit(event) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (that.isLoading) return;\r\n\t\t\t\tlet values = event.detail.value; //验证\r\n\r\n\t\t\t\tlet typeMapName = typeMap[this.type];\r\n\r\n\t\t\t\tif (!utils.trim(values.name) || !values.type || !utils.trim(this[typeMapName])) {\r\n\t\t\t\t\tutils.showError('请完善信息后再上传');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar reg = /[/：\\*\\？#”<>|。]/;\r\n\r\n\t\t\t\tif (reg.test(values.name)) {\r\n\t\t\t\t\tutils.showError('含有特殊字符，请输入正确文件名称后再上传');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet filePath = this[typeMapName] || '';\r\n\r\n\t\t\t\tget({\r\n\t\t\t\t\turl: get_upload_policy + '?ossPrefixKey=' + \"blockchain/\",\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '上传中'\r\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN  \r\n\t\t\t\t\t\tupload({\r\n\t\t\t\t\t\t\turl: res.host,\r\n\t\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t\tkey: 'file', //filename\n\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t'key': res.dir + this.addFileInfo.name,\r\n\t\t\t\t\t\t\t\t'policy': res.policy,\r\n\t\t\t\t\t\t\t\t'OSSAccessKeyId': res.accessid,\r\n\t\t\t\t\t\t\t\t'signature': res.signature,\r\n\t\t\t\t\t\t\t\t'success_action_status': '200'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t// success\r\n\t\t\t\t\t\t\t\tlet certificateType = values.type;\r\n\t\t\t\t\t\t\t\tlet certificateName = values.name;\r\n\t\t\t\t\t\t\t\tlet formDataParmas = {\r\n\t\t\t\t\t\t\t\t\t'filePath': res.ossUrl + res.dir + this.addFileInfo.name,\r\n\t\t\t\t\t\t\t\t\t'fileName': this.addFileInfo.originName,\r\n\t\t\t\t\t\t\t\t\t'name': certificateName,\r\n\t\t\t\t\t\t\t\t\t'type': certificateType,\r\n\t\t\t\t\t\t\t\t\t'fileType': this.fileType,\r\n\t\t\t\t\t\t\t\t\t'uploadMethod': this.uploadMethod,\r\n\t\t\t\t\t\t\t\t\t'uploadChannel': 2\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tconsole.log(formDataParmas);\r\n\r\n\t\t\t\t\t\t\t\tif (that.formId) {\r\n\t\t\t\t\t\t\t\t\tthat.saveChain(formDataParmas);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tupload({\r\n\t\t\t\t\t\t\t\t\t\turl: add_certificate_file,\r\n\t\t\t\t\t\t\t\t\t\t//url\r\n\t\t\t\t\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t\t\t\t\t// filePath\r\n\t\t\t\t\t\t\t\t\t\tkey: 'file',\r\n\t\t\t\t\t\t\t\t\t\t//filename\r\n\t\t\t\t\t\t\t\t\t\tformData: formDataParmas,\r\n\t\t\t\t\t\t\t\t\t\t// formDate\r\n\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t// success\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提交成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: data => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (data.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 此处对普通存证和数据链存证进行区分\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.switchTabBarFun();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提交失败',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcancelText: '关闭',\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfirmText: '继续提交',\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.addCertificateSubmit();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.switchTabBarFun();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t\t\tmy.uploadFile({\r\n\t\t\t\t\t\t\turl: res.host,\r\n\t\t\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\t\t\tfileName: 'file',\r\n\t\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\tkey: res.dir + this.addFileInfo.name,\r\n\t\t\t\t\t\t\t\tpolicy: res.policy,\r\n\t\t\t\t\t\t\t\tOSSAccessKeyId: res.accessid,\r\n\t\t\t\t\t\t\t\tsignature: res.signature,\r\n\t\t\t\t\t\t\t\tsuccess_action_status: 200\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\"token\": my.getStorageSync('userToken'),\r\n\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t\t\t\t\t\"wx_app_type\": 1\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t// success\r\n\t\t\t\t\t\t\t\tlet certificateType = values.type;\r\n\t\t\t\t\t\t\t\tlet certificateName = values.name;\r\n\t\t\t\t\t\t\t\tlet formDataParmas = {\r\n\t\t\t\t\t\t\t\t\t'filePath': res.ossUrl + res.dir + this.addFileInfo.name,\r\n\t\t\t\t\t\t\t\t\t'fileName': this.addFileInfo.originName,\r\n\t\t\t\t\t\t\t\t\t'name': certificateName,\r\n\t\t\t\t\t\t\t\t\t'type': certificateType,\r\n\t\t\t\t\t\t\t\t\t'fileType': this.fileType,\r\n\t\t\t\t\t\t\t\t\t'uploadMethod': this.uploadMethod,\r\n\t\t\t\t\t\t\t\t\t'uploadChannel': 2\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tconsole.log(formDataParmas);\r\n\r\n\t\t\t\t\t\t\t\tif (that.formId) {\r\n\t\t\t\t\t\t\t\t\tthat.saveChain(formDataParmas);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tmy.uploadFile({\r\n\t\t\t\t\t\t\t\t\t\turl: add_certificate_file,\r\n\t\t\t\t\t\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\t\t\t\t\t\tfileName: 'file',\r\n\t\t\t\t\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t\t\t\t\tformData: formDataParmas,\r\n\t\t\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t\t\t\"token\": my.getStorageSync('userToken'),\r\n\t\t\t\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"wx_app_type\": 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提交成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: data => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (data.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 此处对普通存证和数据链存证进行区分\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.switchTabBarFun();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提交失败',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcancelText: '关闭',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmText: '继续提交',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.addCertificateSubmit();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.switchTabBarFun();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tupload({\r\n\t\t\t\t\t\t\turl: res.host + '/',\r\n\t\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\t'key': res.dir + this.addFileInfo.name,\r\n\t\t\t\t\t\t\t\t'policy': res.policy,\r\n\t\t\t\t\t\t\t\t'OSSAccessKeyId': res.accessid,\r\n\t\t\t\t\t\t\t\t'signature': res.signature,\r\n\t\t\t\t\t\t\t\t'success_action_status': '200'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t// success\r\n\t\t\t\t\t\t\t\tlet certificateType = values.type;\r\n\t\t\t\t\t\t\t\tlet certificateName = values.name;\r\n\t\t\t\t\t\t\t\tlet formDataParmas = {\r\n\t\t\t\t\t\t\t\t\t'filePath': res.ossUrl + res.dir + this.addFileInfo.name,\r\n\t\t\t\t\t\t\t\t\t'fileName': this.addFileInfo.originName,\r\n\t\t\t\t\t\t\t\t\t'name': certificateName,\r\n\t\t\t\t\t\t\t\t\t'type': certificateType,\r\n\t\t\t\t\t\t\t\t\t'fileType': this.fileType,\r\n\t\t\t\t\t\t\t\t\t'uploadMethod': this.uploadMethod,\r\n\t\t\t\t\t\t\t\t\t'uploadChannel': 2\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tconsole.log(formDataParmas);\r\n\r\n\t\t\t\t\t\t\t\tif (that.formId) {\r\n\t\t\t\t\t\t\t\t\tthat.saveChain(formDataParmas);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tupload({\r\n\t\t\t\t\t\t\t\t\t\turl: add_certificate_file,\r\n\t\t\t\t\t\t\t\t\t\t//url\r\n\t\t\t\t\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t\t\t\t\t// filePath\r\n\t\t\t\t\t\t\t\t\t\tkey: 'file',\r\n\t\t\t\t\t\t\t\t\t\t//filename\r\n\t\t\t\t\t\t\t\t\t\tformData: formDataParmas,\r\n\t\t\t\t\t\t\t\t\t\t// formDate\r\n\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t// success\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提交成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: data => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (data.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 此处对普通存证和数据链存证进行区分\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.switchTabBarFun();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提交失败',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcancelText: '关闭',\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfirmText: '继续提交',\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.addCertificateSubmit();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.switchTabBarFun();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 50);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 返回存证列表页\r\n\t\t\t */\r\n\t\t\tswitchTabBarFun() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/evidence/index'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * @name 提交存证是否高亮函数\r\n\t\t\t */\r\n\t\t\tgetHighLight: function() {\r\n\t\t\t\tlet typeMapName = typeMap[this.type];\r\n\t\t\t\tlet value = this[typeMapName];\r\n\r\n\t\t\t\tif (value && this.nameValue) {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tishighLight: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tishighLight: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @desc 数据链存证保存\r\n\t\t\t */\r\n\t\t\tsaveChain(params) {\r\n\t\t\t\tpost({\r\n\t\t\t\t\turl: saveChainToContract + '?contractSubjectId=' + this.formId + '&fileName=' + params.name + '&filePath=' +\r\n\t\t\t\t\t\tparams.filePath + '&uploadMethod=' + params.uploadMethod + '&type=2&uploadChannel=2',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.navigateBack({});\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 50);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n</script>\r\n<style>\r\n\t@import \"./addCertificate.css\";\r\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCertificate.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCertificate.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611304967390\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./tools.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Ficourt%2FDesktop%2Fmycode%2Funi%2Fpages%2Fevidence%2FaddCertificate%2FaddCertificate.vue&module=tools&lang=wxs\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./tools.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Ficourt%2FDesktop%2Fmycode%2Funi%2Fpages%2Fevidence%2FaddCertificate%2FaddCertificate.vue&module=tools&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}