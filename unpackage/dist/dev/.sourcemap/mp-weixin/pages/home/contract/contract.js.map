{"version":3,"sources":["uni-app:///main.js","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/contract/contract.vue?a0c4","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/contract/contract.vue?f2dd","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/contract/contract.vue?fafb","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/contract/contract.vue?a160","uni-app:///pages/home/contract/contract.vue","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/contract/contract.vue?2b4e","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/contract/contract.vue?3622"],"names":["createPage","Page"],"mappings":"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","file":"pages/home/contract/contract.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/contract/contract.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./contract.vue?vue&type=template&id=f91da710&\"\nvar renderjs\nimport script from \"./contract.vue?vue&type=script&lang=js&\"\nexport * from \"./contract.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contract.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/contract/contract.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contract.vue?vue&type=template&id=f91da710&\"","var components = {\n  search: function() {\n    return import(\n      /* webpackChunkName: \"components/search/search\" */ \"@/components/search/search.vue\"\n    )\n  },\n  searchHighlightTextView: function() {\n    return import(\n      /* webpackChunkName: \"components/searchHighlightTextView/searchHighlightTextView\" */ \"@/components/searchHighlightTextView/searchHighlightTextView.vue\"\n    )\n  },\n  halfSlideItem: function() {\n    return import(\n      /* webpackChunkName: \"components/halfSlideItem/halfSlideItem\" */ \"@/components/halfSlideItem/halfSlideItem.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contract.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contract.vue?vue&type=script&lang=js&\"","<template>\r\n<view>\r\n<view class=\"pl-search\">\n\t<search @inputChanged=\"inputSearchFun\" @cancelClicked=\"cancleSearchFun\" onTimeSearch=\"true\" isShowCancel=\"true\"></search>\n</view>\n<scroll-view class=\"list-wrapper\" scroll-y=\"true\" scroll-anchoring=\"true\" refresher-enabled=\"true\" :refresher-triggered=\"topShow\" scroll-with-animation=\"true\" @scrolltolower=\"scrollToBottom\" @refresherrefresh=\"pullingDownRefresh\" @refresherrestore=\"pullingDownRefreshStore\" @refresherabort=\"pullingDownRefreshStore\">\n\t<view v-for=\"(item, index) in contracts\" :key=\"index\" class=\"contract\" @tap=\"pushToDetail\" :data-index=\"index\" :data-item=\"item\">\n\t\t<view class=\"contract-introduce\">\n\t\t\t<view class=\"contract-title\">\n\t\t\t\t<searchHighlightTextView highlight=\"highlight\" :text=\"item.contractTitle\" :keyword=\"searchParams\"></searchHighlightTextView>\n\t\t\t</view>\n\t\t\t<view class=\"contract-right\">\n\t\t\t\t<view class=\"status-icon\" :style=\"'background: ' + item.bgStyle + ';'\"></view>\n\t\t\t\t<view class=\"contract-state\">{{item.statusText}}</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"contract-related\">\n\t\t\t<view class=\"contract-sponsor\">发起方：{{item.initiatorName}}\n\t\t\t</view>\n\t\t\t<view class=\"contract-signatory\">签署方：{{item.signNames}}\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"contract-operate\" v-if=\"searchType < 8\" @tap.stop=\"showChainsMenu\" :data-activeitem=\"item\">\n\t\t\t<view class=\"contract-operate_item\"></view>\n\t\t\t<view class=\"contract-operate_item\"></view>\n\t\t\t<view class=\"contract-operate_item\"></view>\n\t\t</view>\n\t\t<view class=\"contract-other\">\n\t\t\t<view class=\"contract-updatetime\">更新时间\n\t\t\t</view>\n\t\t\t<view class=\"contract-updatetime-middle\"></view>\n\t\t\t<view class=\"time\">{{item.gmtModified}}\n\t\t\t</view>\n\t\t</view>\n\t</view>\n\t<view :class=\"'bottom-loading ' + (bottomShow ? 'bottom-show' : '')\" v-if=\"bottomShow\">加载中...</view>\n</scroll-view>\n<view class=\"empty-data placeholder-color\" v-if=\"contracts.length <= 0\">暂无相关合同</view>\n\n<!-- 证据链菜单 -->\n<halfSlideItem :isShow=\"evidenceMenuShow\">\n\t<view class=\"slide-menu_list\">\n\t\t<!-- <view class='slide-menu_item' bindtap=\"_handlePayContract\" wx:if=\"{{payContract}}\">支付合同</view> -->\n\t\t<view class=\"slide-menu_item\" @tap=\"handleApplyInvoiceFun\" v-if=\"applyInvoice\">申请开票</view>\n\t\t<view class=\"slide-menu_item\" @tap=\"handleViewPayDetailFun\" v-if=\"payDetail\">付款详情</view>\n\t\t<view class=\"slide-menu_item\" @tap=\"goChainListPage\">查看证据链</view>\n\t\t<view class=\"slide-menu_item\" @tap=\"showAddEvidenceMenuShow\">添加证据</view>\n\t</view>\n</halfSlideItem>\n<!-- 添加证据链菜单 -->\n<halfSlideItem :isShow=\"addEvidenceMenuShow\">\n\t<view class=\"slide-menu_list\">\n\t\t<view class=\"slide-menu_item\" @tap=\"goPicChain\" data-totype=\"image\">图片存证</view>\n\t\t<view class=\"slide-menu_item\" @tap=\"goPicChain\" data-totype=\"file\">文件存证</view>\n\t\t<view class=\"slide-menu_item\" @tap=\"goPicChain\" data-totype=\"voice\">语音存证</view>\n\t\t<view class=\"slide-menu_item\" @tap=\"goPicChain\" data-totype=\"video\">视频存证</view>\n\t\t<view class=\"slide-menu_item\" @tap=\"addChainFromList\">从证据列表添加</view>\n\t</view>\n</halfSlideItem>\n<!-- 存证证书预览 -->\n<view class=\"chain-wrap\" v-if=\"showChainImg\">\n\t<view class=\"chain-mask\"></view>\n\t<view class=\"chain-img\">\n\t\t<web-view :src=\"chainImg\" class=\"chainImgItem\"></web-view>\n\t</view>\n</view>\r\n</view>\r\n</template>\r\n\r\n<script>\r\n// pages/home/contract/contract.js\nvar api = require(\"../../../api/request.js\");\r\nvar utils = require(\"../../../utils/utils.js\");\r\nimport search from \"../../../components/search/search\";\r\nimport searchHighlightTextView from \"../../../components/searchHighlightTextView/searchHighlightTextView\";\r\nimport halfSlideItem from \"../../../components/halfSlideItem/halfSlideItem\";\r\n\r\nexport default {\n  data() {\n    return {\n      searchType: 0,\n      title: '',\n      pageIndex: 0,\n      pageSize: 10,\n      searchParams: '',\n      contracts: [],\n      timer: null,\n      canScroll: true,\n      // 是否已经拿到了全部数据\n      evidenceMenuShow: false,\n      // 更多操作\n      addEvidenceMenuShow: false,\n      // 添加证据链\n      payDetail: false,\n      // 付款详情\n      payContract: false,\n      // 支付合同\n      applyInvoice: false,\n      // 申请开票\n      activeItme: {},\n      chainImg: null,\n      showChainImg: false,\n      topShow: false,\n      // top loading show flag\n      bottomShow: false // bottom loading show flag\n\n    };\n  },\n\n  components: {\n    search,\n    searchHighlightTextView,\n    halfSlideItem\n  },\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n    uni.setNavigationBarTitle({\n      title: options.pageTitle\n    });\n    this.setData({\n      searchType: options.searchType,\n      title: options.pageTitle\n    });\n  },\n  onShow: function () {\n    this.getContractsFun(0);\n  },\n  onPullDownRefresh: function () {\n    this.getContractsFun(1);\n  },\n\n  onShareAppMessage() {},\n\n  methods: {\n    /**\n     * @name 滑动触底\n     */\n    scrollToBottom() {\n      if (this.canScroll) {\n        this.setData({\n          bottomShow: true,\n          pageIndex: this.pageIndex + 1\n        });\n        this.getContractsFun(2);\n      }\n    },\n\n    /**\n     * @name 下拉刷新\n     */\n    pullingDownRefresh() {\n      this.setData({\n        topShow: true,\n        pageIndex: 0\n      });\n      this.getContractsFun(1);\n    },\n\n    /**\n     * @name 下拉刷新停止\n     */\n    pullingDownRefreshStore() {\n      this.setData({\n        topShow: false\n      });\n    },\n\n    /**\n     * 获取文件列表\n     * 状态（ 0:全部合同,1:我发起的,2:待自己处理,3:待他人处理,4:已完成,5:已失效,6:已拒签,7:抄送我的,8:草稿箱）\n     * @params {operateType} 操作类型 0-初次请求 1-下拉刷新 2-触底加载更多 3-搜索\n     */\n    getContractsFun(operateType) {\n      var url = api.get_contract_list;\n      var params = {\n        searchType: this.searchType,\n        contractTitle: this.searchParams ? this.searchParams : '',\n        pageIndex: this.pageIndex,\n        pageSize: this.pageSize\n      };\n      api.sendGet({\n        url: url,\n        params: params,\n        success: res => {\n          var contracts = res.data;\n\n          if (res.data.length > 0) {\n            this.setData({\n              canScroll: true\n            });\n          } else {\n            this.setData({\n              canScroll: false\n            });\n          }\n\n          contracts.map(it => {\n            let result = this.getCurrentContractStatusFun(it.status);\n            it.statusText = result.name;\n            it.bgStyle = result.bg;\n            it.gmtModified = this.formatTimeConvert(it.gmtModified, 1);\n          });\n          let arr = [];\n\n          switch (operateType) {\n            case 0:\n              this.setData({\n                contracts: contracts\n              });\n              break;\n\n            case 1:\n              this.setData({\n                topShow: false,\n                contracts: contracts\n              });\n              break;\n\n            case 2:\n              arr = contracts;\n              this.setData({\n                bottomShow: false,\n                contracts: [...this.contracts, ...arr]\n              });\n              break;\n\n            case 3:\n              this.setData({\n                contracts: contracts\n              });\n              break;\n          }\n        },\n        fail: function (err) {\n          utils.showError(err);\n        }\n      });\n    },\n\n    /**\n     * @name 获取当前合同状态值\n     * @param {status} 当前状态 \n     */\n    getCurrentContractStatusFun(status) {\n      switch (status) {\n        case 1:\n          return {\n            name: '签署中',\n            bg: '#66B5ED'\n          };\n          break;\n\n        case 2:\n          return {\n            name: '已完成',\n            bg: '#78B03B'\n          };\n          break;\n\n        case 3:\n          return {\n            name: '已拒绝',\n            bg: '#E27777'\n          };\n          break;\n\n        case 4:\n          return {\n            name: '已撤销',\n            bg: '#999999'\n          };\n          break;\n\n        case 5:\n          return {\n            name: '草稿',\n            bg: ''\n          };\n          break;\n\n        case 6:\n          return {\n            name: '已失效',\n            bg: '#C7C7C7'\n          };\n          break;\n\n        case 7:\n          return {\n            name: '填写中',\n            bg: '#66B5ED'\n          };\n          break;\n\n        default:\n          break;\n      }\n    },\n\n    /**\n     * @name 搜索\n     * @param {*} e 事件源 \n     */\n    inputSearchFun: function (e) {\n      console.log(e);\n      if (this.timer) clearTimeout(this.timer);\n      this.setData({\n        searchParams: e.detail,\n        pageIndex: 1,\n        timer: setTimeout(() => {\n          this.getContractsFun(3);\n        }, 300)\n      });\n    },\n\n    /**\n     * @name 取消搜索\n     */\n    cancleSearchFun() {\n      this.setData({\n        searchParams: ''\n      });\n      this.getContractsFun(0);\n    },\n\n    /**\n     * @name 时间格式化\n     * @param {*} timestamp \n     * @param {*} num \n     */\n    formatTimeConvert(timestamp, num) {\n      timestamp = timestamp + '';\n      timestamp = timestamp.length == 10 ? timestamp * 1000 : timestamp;\n      var date = new Date(Number(timestamp));\n      var y = date.getFullYear();\n      var m = date.getMonth() + 1;\n      m = m < 10 ? '0' + m : m;\n      var d = date.getDate();\n      d = d < 10 ? '0' + d : d;\n      var h = date.getHours();\n      h = h < 10 ? '0' + h : h;\n      var minute = date.getMinutes();\n      var second = date.getSeconds();\n      minute = minute < 10 ? '0' + minute : minute;\n      second = second < 10 ? '0' + second : second;\n\n      if (num == 0) {\n        return y + '-' + m + '-' + d;\n      } else {\n        return y + '-' + m + '-' + d + ' ' + h + ':' + minute + ':' + second;\n      }\n    },\n\n    /**\n     * 跳转到详情\n     */\n    pushToDetail: function (e) {\n      const contractId = e.currentTarget.dataset.item.id;\n      const status = e.currentTarget.dataset.item.status;\n      let url = '';\n\n      if (this.searchType == 8) {\n        url = '/pages/home/sign/next/next?isdraft=1&contractId=' + contractId;\n      } else if (status == 7) {\n        url = '/pages/home/fill/fill?contractId=' + contractId;\n      } else {\n        url = '/pages/home/sign/next/signConfirm/signConfirm?contractId=' + contractId;\n      }\n\n      uni.navigateTo({\n        url: url\n      });\n    },\n    //---------------Util-----------------\n\n    /**\n     * 状态 与 index 之间的关系\n     * 状态（1：所有合同 2：我发起的 3：待签署 4：等别人签署合同（我已签署完成）5:已完成 6:已撤销 7:已拒签 8:已作废）\n     * index (0 1 2 3 4)\n     */\n    statusByIndexFun: function (index) {\n      var status = 1;\n\n      switch (index) {\n        case 0:\n          status = 1;\n          break;\n\n        case 1:\n          status = 3;\n          break;\n\n        case 2:\n          status = 4;\n          break;\n\n        case 3:\n          status = 5;\n          break;\n\n        case 4:\n          status = 8;\n          break;\n\n        default:\n          break;\n      }\n\n      return status;\n    },\n\n    /**\n     * @desc 显示证据链弹窗\n     */\n    showChainsMenu(arg) {\n      let itemInfo = arg.currentTarget.dataset.activeitem;\n\n      if (!itemInfo.id) {\n        return;\n      }\n\n      this.setData({\n        evidenceMenuShow: true,\n        activeItme: itemInfo,\n        payDetail: itemInfo.hasPay,\n        payContract: itemInfo.needPay,\n        applyInvoice: itemInfo.isOpenInvoice\n      });\n      console.log(this.applyInvoice, itemInfo, 222);\n    },\n\n    /**\n     * @desc 显示添加证据弹窗\n     */\n    showAddEvidenceMenuShow() {\n      if (!this.activeItme.id) {\n        return;\n      }\n\n      this.setData({\n        evidenceMenuShow: false,\n        addEvidenceMenuShow: true\n      });\n    },\n\n    /**\n     * @desc 进行图片存证\n     */\n    goPicChain(e) {\n      var toType = e.currentTarget.dataset.totype;\n      this.setData({\n        evidenceMenuShow: false,\n        addEvidenceMenuShow: false\n      });\n\n      if (toType == 'video') {\n        const queryString = \"&searchType=\" + this.searchType + \"&pageTitle=\" + this.title;\n        uni.navigateTo({\n          url: \"/newEvidence/videoRecord/videoRecord?type=\" + toType + \"&fromId=\" + this.activeItme.id + queryString\n        });\n      } else {\n        uni.navigateTo({\n          url: \"/newEvidence/addCertificate/addCertificate?type=\" + toType + \"&fromId=\" + this.activeItme.id\n        });\n      }\n    },\n\n    /**\n     * @desc 从证据列表添加\n     */\n    addChainFromList() {\n      this.setData({\n        evidenceMenuShow: false,\n        addEvidenceMenuShow: false\n      });\n      uni.navigateTo({\n        url: \"/pages/home/contract/chainList/chainList?id=\" + this.activeItme.id\n      });\n    },\n\n    /**\n     * @desc 查看存证证书\n     */\n    previewContractChain() {\n      api.sendGet({\n        url: api.previewChainImg + this.activeItme.id,\n        success: res => {\n          this.setData({\n            chainImg: res,\n            showChainImg: true\n          });\n        },\n        fail: res => {\n          this.setData({\n            chainImg: null\n          });\n        }\n      });\n    },\n\n    /**\n     * @desc 查看证据链\n     */\n    goChainListPage() {\n      this.setData({\n        evidenceMenuShow: false\n      });\n      uni.navigateTo({\n        url: \"/pages/home/contract/chains/chains?id=\" + this.activeItme.id\n      });\n    },\n\n    /**\n     * @name 支付合同\n     */\n    handlePayContractFun() {\n      this.setData({\n        evidenceMenuShow: false\n      });\n      uni.navigateTo({\n        url: '/pages/home/invoice/payContract/payContract?id=' + this.activeItme.id + '&receiveName=' + this.activeItme.initiatorName\n      });\n    },\n\n    /**\n     * @name 申请开票\n     */\n    handleApplyInvoiceFun() {\n      this.setData({\n        evidenceMenuShow: false\n      });\n      let url = '/pages/home/invoice/applyInvoice/applyInvoice?id=' + this.activeItme.id + '&title=' + this.activeItme.contractTitle + '&searchType=' + this.searchType + '&pageTitle=' + this.title;\n      const isCompay = uni.getStorageSync('currentUser').companyId;\n      console.log(isCompay);\n\n      if (isCompay) {\n        url += '&initiatorName=' + this.activeItme.initiatorName + '&';\n      }\n\n      uni.navigateTo({\n        url: url\n      });\n    },\n\n    /**\n     * @name 支付详情\n     */\n    handleViewPayDetailFun() {\n      this.setData({\n        evidenceMenuShow: false\n      });\n      uni.navigateTo({\n        url: '/pages/home/invoice/payDetail/payDetail?id=' + this.activeItme.id\n      });\n    }\n\n  }\n};\r\n</script>\r\n<style>\r\n@import \"./contract.css\";\r\n</style>","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contract.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contract.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608793120768\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}