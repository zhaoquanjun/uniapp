{"version":3,"sources":["uni-app:///main.js","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/receipt/receipt.vue?4ca0","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/receipt/receipt.vue?c326","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/receipt/receipt.vue?588d","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/receipt/receipt.vue?8e9e","uni-app:///pages/home/receipt/receipt.vue","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/receipt/receipt.vue?989e","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/receipt/receipt.vue?ef1d"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAo1B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuCx2B;AACA;AACA;AACA,mB;;AAEA;AACA,MADA,kBACA;AACA;AACA,yBADA;AAEA,oBAFA;AAGA,oBAHA;AAIA,wBAJA;AAKA,wBALA;AAMA,qBANA;AAOA,uBAPA;AAQA,eARA;AASA,iBATA;AAUA,mBAVA;AAWA,oBAXA;AAYA,mBAZA;AAaA;AACA,gBAdA,CAcA;AAdA;;AAiBA,GAnBA;;AAqBA,gBArBA;AAsBA,WAtBA;;AAwBA;;;AAGA;AACA;AACA;AACA,sCADA;;AAGA;;AAEA;AACA;AACA,sCADA;;AAGA;;AAEA;AACA,yCADA;AAEA,0CAFA;;AAIA;AACA;AACA,GA9CA;;AAgDA;;;AAGA,gCAnDA;;AAqDA;;;AAGA;AACA;AACA,yBADA;;AAGA,GA5DA;;AA8DA;;;AAGA,8BAjEA;;AAmEA;;;AAGA,kCAtEA;;AAwEA;;;AAGA,oDA3EA;;AA6EA;;;AAGA,4CAhFA;;AAkFA;;;AAGA,oDArFA;AAsFA;AACA;AACA;AACA;AACA;AACA,6BADA;;AAGA;AACA,KARA;;AAUA,gBAVA,wBAUA,CAVA,EAUA;AACA;AACA;AACA;AACA;AACA,0BADA;;AAGA;AACA;AACA,KAnBA;;AAqBA,sBArBA,gCAqBA;AACA;AACA,wDADA;;AAGA,KAzBA;;AA2BA;;;AAGA,uBA9BA,+BA8BA,CA9BA,EA8BA;AACA;AACA,iCADA;;AAGA,KAlCA;;AAoCA;;;AAGA,wBAvCA,kCAuCA;AACA;AACA,8BADA;;AAGA,KA3CA;;AA6CA;AACA;AACA;AACA;AACA,2BADA;;AAGA,OAJA,MAIA;AACA;AACA,4BADA;;AAGA;AACA,KAxDA;;AA0DA,gBA1DA,0BA0DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BADA,IAXA;;;AAeA,iBAfA;;;AAkBA,UAlBA,CAeA,WAfA,CAgBA,cAhBA,GAkBA,IAlBA,CAgBA,cAhBA,CAiBA,UAjBA,GAkBA,IAlBA,CAiBA,UAjBA;AAmBA;AACA,4BADA;AAEA,iCAFA;AAGA,2BAHA;AAIA,iCAJA;AAKA,2BALA;;AAOA;AACA;AACA,gBADA;AAEA,sBAFA;AAGA;AACA;AACA;AACA,sNADA;;AAGA,SARA;AASA;AACA;AACA;AACA,SAZA;;AAcA,KAnGA,EAtFA,E;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAusC,CAAgB,kmCAAG,EAAC,C;;;;;;;;;;;ACA3tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/receipt/receipt.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/receipt/receipt.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./receipt.vue?vue&type=template&id=b225c0ac&\"\nvar renderjs\nimport script from \"./receipt.vue?vue&type=script&lang=js&\"\nexport * from \"./receipt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./receipt.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/receipt/receipt.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receipt.vue?vue&type=template&id=b225c0ac&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.buttonClicked ? \"codeGenerate\" : \"\"\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receipt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receipt.vue?vue&type=script&lang=js&\"","<template>\r\n<!--pages/home/receipt/receipt.wxml-->\n<view class=\"pageContent\">\n\t<view class=\"pageHeader\">\n\t\t<view class=\"title\">{{title1}}</view>\n\t\t<view class=\"amount\">\n\t\t\t<view class=\"prefix\">¥</view>\n\t\t\t<input class=\"value-input\" type=\"text\" @input=\"bindKeyInput\" @blur=\"handleBlurInputFun\" :value=\"inputAmount\" data-field=\"inputAmount\"></input>\n\t\t</view>\n\t</view>\n\n\t<view class=\"receipt-message\">\n\t\t<view class=\"title\" style=\"border-bottom:2rpx solid #F5F5F5\">{{title2}}</view>\n\t\t<view class=\"input-message-box\">\n\t\t\t<textarea name=\"content\" maxlength=\"100\" @input=\"textInput\" placeholder=\"请输入收款信息\" :value=\"receiptMessage\"></textarea>\n\t\t\t<text class=\"input-tip\">{{receiptMessage.length}}/100</text>\n\t\t</view>\n\t</view>\n\n\t<view class=\"payer-info\">\n\t\t<view class=\"title\">付款方信息</view>\n\t\t<view class=\"info-wrapper\">\n\t\t\t<input type=\"text\" maxlength=\"50\" @input=\"handleInputPayerFun\"></input>\n\t\t</view>\n\t</view>\n\n\t<view class=\"payer-info\">\n\t\t<view class=\"title\">备注</view>\n\t\t<view class=\"info-wrapper\">\n\t\t\t<input type=\"text\" maxlength=\"100\" @input=\"handleInputRemarkFun\"></input>\n\t\t</view>\n\t</view>\n\n\t<button class=\"nextButton\" style=\"background-color:#464646\" v-if=\"ishighLight\" @tap.stop=\"buttonClicked?'codeGenerate':''\">{{nextText}}</button>\n\t<button class=\"nextButton\" v-if=\"!ishighLight\" style=\"background:#B7B7B7\">{{nextText}}</button>\n</view>\r\n</template>\r\n\r\n<script>\r\n// pages/home/receipt/receipt.js\nvar api = require(\"../../../api/request.js\");\r\nvar utils = require(\"../../../utils/utils.js\");\r\nvar app = getApp();\r\n\r\nexport default {\n  data() {\n    return {\n      buttonClicked: true,\n      title1: \"收款金额\",\n      title2: \"收款信息\",\n      receiptMessage: '',\n      ishighLight: false,\n      inputAmount: '',\n      nextText: \"生成收款码\",\n      hour: \" \",\n      minute: \" \",\n      isTemplate: 0,\n      templateId: '',\n      payerName: '',\n      // 付款方名称\n      remark: '' // 备注\n\n    };\n  },\n\n  components: {},\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n    if (options.isTemplate) {\n      this.setData({\n        isTemplate: options.isTemplate\n      });\n    }\n\n    if (options.templateId) {\n      this.setData({\n        templateId: options.templateId\n      });\n    }\n\n    this.setData({\n      inputAmount: options.templateAmount,\n      receiptMessage: options.templateName\n    });\n    this.getHighLight();\n    console.log(options);\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {},\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n    this.setData({\n      buttonClicked: true\n    });\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {},\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {},\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {},\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {},\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {},\n  methods: {\n    // 文字输入函数\n    textInput: function (event) {\n      let value = event.detail.value;\n      this.setData({\n        receiptMessage: value\n      });\n      this.getHighLight();\n    },\n\n    bindKeyInput(e) {\n      console.log(e);\n      const inputValue = e.detail.value;\n      var value = inputValue.replace(/[^\\d.]/g, \"\").replace(/^\\./g, \"\").replace(/\\.{2,}/g, \".\").replace(\".\", \"$#$\").replace(/\\./g, \"\").replace(\"$#$\", \".\").replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, \"$1$2.$3\");\n      this.setData({\n        inputAmount: value\n      });\n      this.getHighLight();\n      return value;\n    },\n\n    handleBlurInputFun() {\n      this.setData({\n        inputAmount: Number(this.inputAmount).toFixed(2)\n      });\n    },\n\n    /**\n     * @name 填写付款方\n     */\n    handleInputPayerFun(e) {\n      this.setData({\n        payerName: e.detail.value\n      });\n    },\n\n    /**\n     * @name 填写备注\n     */\n    handleInputRemarkFun() {\n      this.setData({\n        remark: e.detail.value\n      });\n    },\n\n    // 提交存证是否高亮函数\n    getHighLight: function () {\n      if (this.receiptMessage && this.inputAmount) {\n        this.setData({\n          ishighLight: true\n        });\n      } else {\n        this.setData({\n          ishighLight: false\n        });\n      }\n    },\n\n    codeGenerate() {\n      if (this.inputAmount == 0) {\n        utils.showError(\"请输入收款金额\");\n        return;\n      }\n\n      if (!this.payerName) {\n        utils.showError(\"请输入付款方\");\n        return;\n      }\n\n      this.setData({\n        buttonClicked: false\n      });\n      const {\n        inputAmount,\n        receiptMessage,\n        isTemplate\n      } = this;\n      const params = {\n        name: receiptMessage,\n        amount: inputAmount * 100,\n        id: this.templateId,\n        payerName: this.payerName,\n        remark: this.remark\n      };\n      const url = isTemplate == 1 ? api.get_sell_pay_QrCode : api.get_pay_QrCode;\n      api.sendPostBody({\n        url: url,\n        params: params,\n        success: res => {\n          uni.hideLoading({});\n          uni.navigateTo({\n            url: '/pages/home/receipt/receiptLaunch/receiptLaunch?inputAmount= ' + inputAmount + '&receiptMessage=' + receiptMessage + '&qrCodeUrl=' + res.qrCodeUrl + '&isTemplate=' + isTemplate + '&url=' + res.url\n          });\n        },\n        fail: function (err) {\n          uni.hideLoading();\n          utils.showError(err);\n        }\n      });\n    }\n\n  }\n};\r\n</script>\r\n<style>\r\n@import \"./receipt.css\";\r\n</style>","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receipt.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./receipt.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608793121036\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}