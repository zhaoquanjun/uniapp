{"version":3,"sources":["uni-app:///main.js","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/contractDetail/contractDetail.vue?a8fd","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/contractDetail/contractDetail.vue?0b9c","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/contractDetail/contractDetail.vue?2d24","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/contractDetail/contractDetail.vue?1037","uni-app:///pages/home/sign/next/contractDetail/contractDetail.vue","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/contractDetail/contractDetail.vue?abea","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/contractDetail/contractDetail.vue?0c56"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,uI;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAy3B,CAAgB,4yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8D74B;AACA,sE;;;AAGA;AACA,MADA,kBACA;AACA;AACA,wBADA;;AAGA,GALA;;AAOA;AACA,kBADA,EAPA;;AAUA,WAVA;;AAYA;;;AAGA;AACA;AACA;AACA,GAlBA;;AAoBA;;;AAGA,gCAvBA;;AAyBA;;;AAGA,8BA5BA;;AA8BA;;;AAGA,8BAjCA;;AAmCA;;;AAGA,kCAtCA;;AAwCA;;;AAGA,oDA3CA;;AA6CA;;;AAGA,4CAhDA;;AAkDA;;;AAGA,oDArDA;AAsDA;AACA,oBADA,4BACA,EADA,EACA;AACA;;AAEA;AACA,oCADA;AAEA;AACA,gBADA,EAFA;;AAKA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAFA;;AAIA;AACA,6BADA;;AAGA,SAhCA;AAiCA;AACA;AACA,SAnCA;;AAqCA,KAzCA;;AA2CA,eA3CA,uBA2CA,CA3CA,EA2CA;AACA;AACA;AACA;AACA,qBADA;AAEA,uBAFA;AAGA,0BAHA;AAIA,yBAJA;;AAMA,KApDA;;AAsDA;;;;;AAKA,qBA3DA,6BA2DA,SA3DA,EA2DA,GA3DA,EA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAhFA;;AAkFA,QAlFA,kBAkFA;AACA;AACA,KApFA,EAtDA,E;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAAwvC,CAAgB,ymCAAG,EAAC,C;;;;;;;;;;;ACA5wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/sign/next/contractDetail/contractDetail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/sign/next/contractDetail/contractDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./contractDetail.vue?vue&type=template&id=730a944e&\"\nvar renderjs\nimport script from \"./contractDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./contractDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contractDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/sign/next/contractDetail/contractDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=template&id=730a944e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=script&lang=js&\"","<template>\r\n<!--pages/home/sign/next/signConfirm/signConfirm.wxml-->\n<view class=\"contract-page--section\" v-if=\"contractData != null\">\n\t<view class=\"contract-subject--area\">\n\t\t<view class=\"subject-title title\">合同主题</view>\n\t\t<view class=\"subject-desc\">{{contractData.contractSubject.contractTitle}}</view>\n\t</view>\n\t<view class=\"contract-info--area\">\n\t\t<view class=\"info-title title\">合同信息</view>\n\t\t<view class=\"info-list\">\n\t\t\t<view class=\"info-list-item\">\n\t\t\t\t<text class=\"item-title\">发起方</text>\n\t\t\t\t<text class=\"item-content\">{{contractData.initiatorName}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"info-list-item\">\n\t\t\t\t<text class=\"item-title\">发起时间</text>\n\t\t\t\t<text class=\"item-content\">{{contractData.contractSubject.gmtCreate ? contractData.contractSubject.gmtCreate : ''}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"info-list-item\" v-if=\"contractData.contractSubject.signingDeadline\">\n\t\t\t\t<text class=\"item-title\">签署截止时间</text>\n\t\t\t\t<text class=\"item-content\">{{contractData.contractSubject.signingDeadline}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"info-list-item\" v-if=\"contractData.contractSubject.fileTermination\">\n\t\t\t\t<text class=\"item-title\">文件有效签署时间</text>\n\t\t\t\t<text class=\"item-content\">{{contractData.contractSubject.fileTermination}}</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n\t<view class=\"contract-status\">\n\t\t<view class=\"base-title title\">合同状态</view>\n\t\t<view class=\"status-wrapper\">\n\t\t\t<view class=\"base-list-item\">\n\t\t\t\t<text class=\"item-title\">{{(contractData.type == 1 && contractData.secondType == 2 && contractData.myselfSigned == 0) ? '等待签署方完成签署' : (contractData.type == 1 && contractData.secondType == 0) ? '待自己签署' : (contractData.type == 1 && contractData.secondType == 2 && contractData.myselfSigned == 1) ? '未轮到自己签署，等待他人签署' : (contractData.type == 1 && contractData.secondType == 2 && contractData.myselfSigned == 2) ? '你已完成本文件签署，等待他人签署' : (contractData.type == 1 && contractData.secondType == 1) ? '等待用印审批通过' : (contractData.type == 1 && contractData.secondType == 4) ? '你已撤回本合同文件' : (contractData.type == 1 && contractData.secondType == 5) ? '合同被拒签，无法继续签署' : (contractData.type == 1 && contractData.secondType == 3) ? '已完成' : (contractData.type == 1 && contractData.secondType == 5 && contractData.secondType == 6) ? '已超过签署截止日期，无法继续签署' : (contractData.type == 1 && contractData.secondType == 5 && contractData.secondType != 6 && contractData.secondType < 8) ? '合同文件已失效' : (contractData.type == 1 && contractData.secondType == 8) ? '等待用印审批通过' : (contractData.type == 2 && contractData.secondType == 0) ? '待自己签署' : (contractData.type == 2 && contractData.secondType == 1) ? contractData.approvalSponsor + '签署了文件，等待你的用印审批' : (contractData.type == 2 && contractData.secondType == 2 && contractData.myselfSigned == 2) ? '你已完成本文件签署，等待他人签署' : (contractData.type == 2 && contractData.secondType == 8) ? '你已完成文件签署，等待用印审批通过' : (contractData.type == 2 && contractData.secondType == 3) ? '已完成' : (contractData.type == 2 && contractData.secondType == 4) ? '被发起方撤回' : (contractData.type == 2 && contractData.secondType == 5) ? (contractData.myselfRejected ? '本文件你已拒签' : '合同被拒签，无法继续签署') : (ontractData.type == 2 && contractData.secondType > 5 && contractData.secondType < 8 && contractData.secondType != 6) ? '合同文件已失效' : (contractData.secondType > 5 && contractData.secondType < 8) ? '已超过签署截止日期，无法继续签署' : ''}}</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n\t<view class=\"contract-base--area\">\n\t\t<view class=\"base-title title\">合同签署方</view>\n\t\t<view class=\"base-list\">\n\t\t\t<view v-for=\"(item, index) in contractData.contractFlowTasks\" :key=\"index\" class=\"base-list-item\">\n\t\t\t\t<text class=\"item-title\">{{item.relationType === 1 ? item.userName : item.relationType === 2 ? item.companyName + '（' + item.userName + '）' : ''}} - {{ item.userPhone }}</text>\n\t\t\t\t<text class=\"item-content\">{{item.status === 1 ? '未签署' : item.status === 2 ? '已签署' : item.status === 3 ? '审批中' : item.status === 4 ? '已拒签' : item.status === 5 ? '抄送方' : ''}}</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n\t<view class=\"contract-sign-flow\">\n\t\t<view class=\"flow-title title\">合同签署时间流</view>\n\t\t<view class=\"flow-content--area\">\n\t\t\t<view v-for=\"(item, index) in contractData.timeProcessVOS\" :key=\"index\" class=\"flow-content-item\">\n\t\t\t\t<view class=\"item-info\">\n\t\t\t\t\t<text class=\"item-result\">{{item.name}}{{item.actionName}}</text>\n\t\t\t\t\t<text class=\"item-time\">{{item.time}}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"item-reason\" :data-item=\"item\" @tap=\"watchSeason\" v-if=\"item.reason\">查看原因</view>\n\t\t\t\t<view :class=\"'item-flag ' + (item.status == 2 ? 'success' : item.status == 3 ? 'active' : item.status == 4 ? 'fail' : fail)\"></view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</view>\r\n</template>\r\n\r\n<script>\r\n// pages/home/sign/next/signConfirm/signConfirm.js\nvar api = require(\"../../../../../api/request.js\");\r\nimport avatar from \"../../../../../components/avatar/avatar\";\r\n\r\nexport default {\n  data() {\n    return {\n      contractData: null\n    };\n  },\n\n  components: {\n    avatar\n  },\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n    console.log(options);\n    this.getDetailDataFun(options.contractId);\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {},\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {},\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {},\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {},\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {},\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {},\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {},\n  methods: {\n    getDetailDataFun(id) {\n      var _this = this;\n\n      api.sendGet({\n        url: api.get_contract_detail,\n        params: {\n          id: id\n        },\n        success: res => {\n          console.log(res);\n          const copy = res.contractFlowTasks.filter(it => {\n            return it.processType == 2;\n          });\n          res.contractFlowTasks = copy;\n          const contractSubject = res.contractSubject;\n\n          if (contractSubject.gmtCreate) {\n            res.contractSubject.gmtCreate = _this.formatTimeConvert(contractSubject.gmtCreate, 1);\n          }\n\n          if (contractSubject.signingDeadline) {\n            res.contractSubject.signingDeadline = _this.formatTimeConvert(contractSubject.signingDeadline, 1);\n          }\n\n          if (contractSubject.fileTermination) {\n            res.contractSubject.fileTermination = _this.formatTimeConvert(contractSubject.fileTermination, 1);\n          }\n\n          res.timeProcessVOS.forEach(item => {\n            item.time = _this.formatTimeConvert(item.relationTime, 1);\n          });\n\n          _this.setData({\n            contractData: res\n          });\n        },\n        fail: function (err) {\n          console.log(err);\n        }\n      });\n    },\n\n    watchSeason(e) {\n      console.log(e);\n      var reason = e.currentTarget.dataset.item.reason || ' ';\n      uni.showModal({\n        title: \"查看原因\",\n        content: reason,\n        confirmText: \"知道了\",\n        showCancel: false\n      });\n    },\n\n    /**\n     * \n     * @param {*} timestamp 时间戳\n     * @param {*} num 格式化类型\n     */\n    formatTimeConvert(timestamp, num) {\n      timestamp = timestamp + '';\n      timestamp = timestamp.length == 10 ? timestamp * 1000 : timestamp;\n      var date = new Date(Number(timestamp));\n      var y = date.getFullYear();\n      var m = date.getMonth() + 1;\n      m = m < 10 ? '0' + m : m;\n      var d = date.getDate();\n      d = d < 10 ? '0' + d : d;\n      var h = date.getHours();\n      h = h < 10 ? '0' + h : h;\n      var minute = date.getMinutes();\n      var second = date.getSeconds();\n      minute = minute < 10 ? '0' + minute : minute;\n      second = second < 10 ? '0' + second : second;\n\n      if (num == 0) {\n        return y + '-' + m + '-' + d;\n      } else {\n        return y + '-' + m + '-' + d + ' ' + h + ':' + minute + ':' + second;\n      }\n    },\n\n    back() {\n      uni.navigateBack();\n    }\n\n  }\n};\r\n</script>\r\n<style>\r\n@import \"./contractDetail.css\";\r\n</style>","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./contractDetail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608793122420\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}