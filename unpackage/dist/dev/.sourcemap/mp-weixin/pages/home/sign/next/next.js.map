{"version":3,"sources":["uni-app:///main.js","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/next.vue?bee4","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/next.vue?10c4","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/next.vue?045e","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/next.vue?0b1b","uni-app:///pages/home/sign/next/next.vue","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/next.vue?15b4","webpack:////Users/icourt/Desktop/code/wxApp/pages/home/sign/next/next.vue?a0ec"],"names":["createPage","Page"],"mappings":"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A;;AAqQA,cArQA,wBAqQA;AACA;AACA,0DADA;;AAGA,KAzQA;;AA2QA,eA3QA,yBA2QA;AACA;AACA,4DADA;;AAGA,KA/QA;;AAiRA,cAjRA,wBAiRA;AACA;AACA,0DADA;;AAGA,KArRA;;AAuRA;AACA,mBAxRA,2BAwRA,CAxRA,EAwRA;AACA;AACA,uCADA;;AAGA,KA5RA;;AA8RA,mBA9RA,2BA8RA,CA9RA,EA8RA;AACA;AACA,uCADA;;AAGA,KAlSA;;AAoSA,QApSA,kBAoSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;;AAGA;AACA,oCADA;AAEA;AACA;AACA,uDADA;AAEA,mDAFA;AAGA,mDAHA;AAIA,uCAJA;AAKA,uBALA;AAMA,iCANA,EADA;;AASA;AACA,6CADA;AAEA,wCAFA;AAGA,6CAHA,GATA;;AAcA,mCAdA,EAFA;;AAkBA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,6BAFA;AAGA,4BAHA,CAGA;AAHA;;AAMA,WAPA,EAOA,EAPA;AAQA;AACA,2EADA;;AAGA,SAhCA;AAiCA;AACA;AACA;AACA;AACA,wBADA;AAEA,0BAFA;AAGA,4BAHA,CAGA;AAHA;;AAMA,WAPA,EAOA,EAPA;AAQA,SA3CA;;AA6CA,KA1VA;;AA4VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA,2CAFA;AAGA;;AAEA;AACA;AACA;AACA,4BADA;;AAGA,OALA,EAKA,IALA;AAMA,KAnXA;AAoXA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA;AACA,4BADA;AAEA,wBAFA;;AAIA,OAbA,EAaA,IAbA;AAcA,KAtYA;AAuYA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCADA;;AAGA,WA1CA,EA0CA,IA1CA;AA2CA;AACA;;AAEA;AACA;AACA,yBADA;;AAGA,OAJA,EAIA,EAJA;AAKA,KAtcA;AAucA;AACA;AACA;AACA,8BADA;;;AAIA;AACA;AACA,sBADA;;AAGA,OAJA,MAIA;AACA;AACA,sBADA;;AAGA;AACA,KAtdA;AAudA;AACA;AACA;AACA;AACA;AACA,2BADA;;;AAIA;AACA;AACA,uBADA;;AAGA;;AAEA;AACA,KAteA;AAueA;AACA;AACA;AACA;AACA;AACA,2BADA;;AAGA;AACA,KA/eA;AAgfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA;AACA;AACA,uDADA;AAEA,mDAFA;AAGA,mDAHA;AAIA,uCAJA;AAKA,uBALA,EADA;;AAQA;AACA,6CADA;AAEA,wCAFA;AAGA,6CAHA,GARA;;AAaA,mCAbA,EAFA;;AAiBA;AACA;AACA;AACA,mFADA;;AAGA,SAtBA;AAuBA;AACA;AACA;AACA,wBADA;AAEA,0BAFA;;AAIA,WALA,EAKA,EALA;AAMA,SA9BA;;AAgCA,KAvhBA;;AAyhBA,WAzhBA,mBAyhBA,KAzhBA,EAyhBA;AACA;AACA,iCADA;;AAGA,KA7hBA,EAnJA,E;;;;;;;;;;;;;AC9MA;AAAA;AAAA;AAAA;AAAytC,CAAgB,+lCAAG,EAAC,C;;;;;;;;;;;ACA7uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/sign/next/next.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/sign/next/next.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./next.vue?vue&type=template&id=5a423084&\"\nvar renderjs\nimport script from \"./next.vue?vue&type=script&lang=js&\"\nexport * from \"./next.vue?vue&type=script&lang=js&\"\nimport style0 from \"./next.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/sign/next/next.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./next.vue?vue&type=template&id=5a423084&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./next.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./next.vue?vue&type=script&lang=js&\"","<template>\r\n<!--pages/home/sign/next/next.wxml-->\n<view class=\"pageContent\">\n\t<view class=\"item\">\n\t\t<view class=\"item-title\">签署方</view>\n\t\t<view class=\"item-content\">\n\t\t\t<view class=\"addCompany\" @tap=\"companySign\">\n\t\t\t\t<image class=\"addSign\" src=\"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/contract/addsign.png\"></image>\n\t\t\t\t<view>添加企业</view>\n\t\t\t</view>\n\t\t\t<view style=\"width:2rpx;height:28rpx;background-color:#D8D8D8\"></view>\n\t\t\t<view class=\"addPerson\" @tap=\"personSign\">\n\t\t\t\t<image class=\"addSign\" src=\"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/contract/addsign.png\"></image>\n\t\t\t\t<view>添加个人</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"listbox\">\n\t\t\t<view class=\"list-copy\" :hidden=\"!showCopy\" :style=\"'top:' + copyItem.top + 'px;'\">\n\t\t\t\t<view class=\"info\" v-if=\"copyItem.relationType=='2'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"index\" v-if=\"isSort\">{{copyItem.index + 1}}</view>\n\t\t\t\t\t\t\t<view class=\"name\">{{copyItem.companyName}}</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-if=\"copyItem.isCompanyAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap.stop=\"deleteSign\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{copyItem.userName}} {{copyItem.userPhone}}\n\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"copyItem.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"chapter\">{{copyItem.sealName}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info\" v-if=\"copyItem.relationType=='1'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"index\" v-if=\"isSort\">{{copyItem.index + 1}}</view>\n\t\t\t\t\t\t\t<view class=\"name\">{{copyItem.userName}}</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"copyItem.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap.stop=\"deleteSign\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{copyItem.userPhone}}</view>\n\t\t\t\t\t<view class=\"chapter\">{{copyItem.sealName}}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<view v-for=\"(item, index) in signMans\" :key=\"index\" class=\"list\" v-if=\"isSort\" :data-index=\"index\" catchtouchstart=\"dragStart\" catchtouchmove=\"dragMove\" catchtouchend=\"dragEnd\">\n\t\t\t\t<view class=\"info\" v-if=\"item.relationType=='2'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"index\" v-if=\"isSort\">{{index+1}}</view>\n\t\t\t\t\t\t\t<view class=\"name\">{{item.companyName}}</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-if=\"item.isCompanyAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap.stop=\"deleteSign\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{item.userName}} {{item.userPhone}}\n\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"item.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"chapter\">{{item.sealName}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info\" v-if=\"item.relationType=='1'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"index\" v-if=\"isSort\">{{index+1}}</view>\n\t\t\t\t\t\t\t<view class=\"name\">{{item.userName}}</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"item.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap.stop=\"deleteSign\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{item.userPhone}}</view>\n\t\t\t\t\t<view class=\"chapter\">{{item.sealName}}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view v-for=\"(item, index) in signMans\" :key=\"index\" class=\"list\" v-if=\"!isSort\" :data-index=\"index\">\n\t\t\t\t<view class=\"info\" v-if=\"item.relationType=='2'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"name\">{{item.companyName}}</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-if=\"item.isCompanyAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap=\"deleteSign\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{item.userName}} {{item.userPhone}}\n\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"item.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"chapter\">{{item.sealName}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info\" v-if=\"item.relationType=='1'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"name\">{{item.userName}}</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"item.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap=\"deleteSign\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{item.userPhone}}</view>\n\t\t\t\t\t<view class=\"chapter\">{{item.sealName}}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view style=\"background:#ffffff; padding:0rpx 48rpx\">\n\t\t\t\t<view class=\"sort\" v-if=\"signMans.length>1\">\n\t\t\t\t\t<switch style=\"zoom:.6\" color=\"#ED6C00\" @change=\"switchChange\"></switch>\n\t\t\t\t\t<text style=\"margin-right:16rpx\">签署顺序</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n\t<view class=\"item\">\n\t\t<view class=\"item-title\">抄送方</view>\n\t\t<view class=\"item-content\">\n\t\t\t<view class=\"addCompany\" @tap=\"companyLink\">\n\t\t\t\t<image class=\"addSign\" src=\"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/contract/addsign.png\"></image>\n\t\t\t\t<view>添加企业</view>\n\t\t\t</view>\n\t\t\t<view style=\"width:2rpx;height:28rpx;background-color:#D8D8D8\"></view>\n\t\t\t<view class=\"addPerson\" @tap=\"personLink\">\n\t\t\t\t<image class=\"addSign\" src=\"https://shouyiner-prod.oss-cn-beijing.aliyuncs.com/wxapp/shanqian/contract/addsign.png\"></image>\n\t\t\t\t<view>添加个人</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"listbox\">\n\t\t\t<view v-for=\"(item, index) in linkMans\" :key=\"index\" class=\"list\" :data-index=\"index\" style=\"height:148rpx\">\n\t\t\t\t<!-- 企业 -->\n\t\t\t\t<view class=\"info\" v-if=\"item.relationType=='2'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"name\">{{item.companyName}}</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-if=\"item.isCompanyAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"companyAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap=\"deleteLink\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{item.userName}} {{item.userPhone}}\n\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"item.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 个人 -->\n\t\t\t\t<view class=\"info\" v-if=\"item.relationType=='1'\">\n\t\t\t\t\t<view style=\"display:flex; justify-content:space-between\">\n\t\t\t\t\t\t<view class=\"name-wrapper\" style=\"display:flex;\">\n\t\t\t\t\t\t\t<view class=\"name\">{{item.userName}}</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-if=\"item.isPersonAuth\" style=\"background:rgba(62,180,168,0.1); color:#3EB4A8\">已认证</view>\n\t\t\t\t\t\t\t<view class=\"personAuth\" v-else style=\"background:#F4F4F4; color:#666666\">未认证</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"one one-close\" :data-item=\"item\" data-type=\"delete\" :data-index=\"index\" @tap=\"deleteLink\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"phone\">{{item.userPhone}}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t</view>\n\t<view class=\"item\">\n\t\t<view class=\"item-title\">其他设置</view>\n\t\t<view class=\"item-otherContent\">\n\t\t\t<view class=\"item-time\" @tap=\"chooseDate\">\n\t\t\t\t<text>签署截止时间</text>\n\t\t\t\t<view style=\"display:flex; justify-content:flex-end; color:#999999; font-size:30rpx;align-items:center;\">\n\t\t\t\t\t<picker mode=\"date\" :value=\"date\" start=\"2019-10-01\" end @change=\"bindDateChange1\">\n\t\t\t\t\t\t<view class=\"pickDate\">\n\t\t\t\t\t\t\t<input type=\"date\" disabled=\"true\" name=\"addtime\" :value=\"signingDeadline\" placeholder=\"请选择\"></input>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</picker>\n\t\t\t\t\t<text class=\"one one-apparrow-right\"></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"item-otherContent\">\n\t\t\t<view class=\"item-time\" @tap=\"chooseDate\">\n\t\t\t\t<text>合同终止时间</text>\n\t\t\t\t<view style=\"display:flex; justify-content:flex-end; color:#999999; font-size:30rpx;align-items:center;\">\n\t\t\t\t\t<picker mode=\"date\" :value=\"date\" start=\"2019-10-01\" end @change=\"bindDateChange2\">\n\t\t\t\t\t\t<view class=\"pickDate\">\n\t\t\t\t\t\t\t<input type=\"date\" disabled=\"true\" name=\"addtime\" :value=\"fileTermination\" placeholder=\"请选择\"></input>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</picker>\n\t\t\t\t\t<text class=\"one one-apparrow-right\"></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n\n\t<view class=\"bottom-btn-container\">\n\t\t<text class=\"back\" @tap.stop=\"back\">保存至草稿箱</text>\n\t\t<text class=\"next\" v-if=\"!ishighLight\" style=\"background:#999999\">立即发起签署</text>\n\t\t<text class=\"next\" @tap.stop=\"next\" v-if=\"ishighLight\" style=\"background:#464646\">立即发起签署</text>\n\t</view>\n</view>\r\n</template>\r\n\r\n<script>\r\nlet api = require(\"../../../../api/request.js\"); // pages/home/sign/next/next.js\r\nimport avatar from \"../../../../components/avatar/avatar\";\r\nimport vanDatetimePicker from \"../../../../miniprogram_npm/vant-weapp/datetime-picker/index\";\r\n\r\nexport default {\n  data() {\n    return {\n      currentDate: '',\n      ishighLight: false,\n      isSign: false,\n      isLink: false,\n      isSort: false,\n      userOrder: 0,\n      signingDeadline: '',\n      //签署截止时间\n      fileTermination: '',\n      //文件终止时间\n      showCopy: false,\n      copyItem: {\n        top: 0,\n        companyName: '',\n        userName: '',\n        userPhone: '',\n        chapter: '',\n        signType: '',\n        personAuth: '',\n        companyAuth: ''\n      },\n      replace: {\n        companyName: '',\n        userName: '',\n        userPhone: '',\n        chapter: '',\n        signType: '',\n        personAuth: '',\n        companyAuth: ''\n      },\n      signMans: [],\n      linkMans: [],\n      startX: 0,\n      startY: 0,\n      contractId: ''\n    };\n  },\n\n  components: {\n    avatar,\n    vanDatetimePicker\n  },\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n    let signs = uni.getStorageSync('signMans') ? uni.getStorageSync('signMans') : [];\n    let links = uni.getStorageSync('linkMans') ? uni.getStorageSync('linkMans') : [];\n    const currentUser = uni.getStorageSync('currentUser');\n    const isdraft = options.isdraft;\n    this.setData({\n      contractId: options.contractId\n    });\n\n    if (isdraft) {\n      this.getDetailDataFun(options.contractId);\n    } else {\n      let self = {\n        userName: uni.getStorageSync('userName'),\n        userPhone: uni.getStorageSync('userAccount'),\n        isPersonAuth: true,\n        processType: 2,\n        status: 1\n      };\n\n      if (!currentUser.companyId) {\n        self.sealName = '手绘章，个人模版章';\n        self.sealType = [1, 4].join();\n        self.relationType = 1;\n      } else {\n        self.companyName = currentUser.companyName;\n        self.isCompanyAuth = true;\n        self.sealName = '企业章，法人代表章';\n        self.sealType = [2, 3].join();\n        self.relationType = 2;\n      }\n\n      let flag = true;\n\n      if (signs && signs.length > 0) {\n        for (var i = 0; i < signs.length; i++) {\n          if (signs[i].userName == self.userName || signs[i].userPhone == self.userPhone) {\n            flag = false;\n          }\n        }\n      }\n\n      if (flag) {\n        signs.push(self);\n      }\n\n      this.setData({\n        signMans: signs,\n        linkMans: links\n      });\n      uni.setStorageSync('signMans', signs);\n      this.ishighLightFun();\n    }\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {},\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {},\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n    uni.removeStorageSync('companySign');\n    uni.removeStorageSync('personSign');\n    uni.removeStorageSync('personLink');\n    uni.removeStorageSync('companyLink');\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n    uni.removeStorageSync('signMans');\n    uni.removeStorageSync('linkMans');\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {},\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {},\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {},\n  methods: {\n    checkAuthFun({\n      type,\n      companyName,\n      name,\n      phone,\n      callback\n    }) {\n      let promise1 = new Promise(function (resolve, reject) {\n        api.sendGet({\n          url: api.company_message,\n          params: {\n            \"companyName\": companyName\n          },\n          success: function (res) {\n            resolve(res);\n          }\n        });\n      });\n      let promise2 = new Promise(function (resolve, reject) {\n        api.sendGet({\n          url: api.person_message,\n          params: {\n            \"name\": name,\n            \"phone\": phone\n          },\n          success: function (res) {\n            resolve(res);\n          }\n        });\n      });\n      let arr = type == 1 ? [promise2] : [promise2, promise1];\n      Promise.all(arr).then(res => {\n        console.log(res, 222);\n\n        if (typeof callback == 'function') {\n          if (type == 1) {\n            callback(res == 1);\n          } else {\n            callback(res[0] == 1, res[1] == 1);\n          }\n        }\n      });\n    },\n\n    ishighLightFun: function (e) {\n      var that = this;\n\n      if (that.signMans.length > 0) {\n        that.setData({\n          ishighLight: true\n        });\n      } else {\n        that.setData({\n          ishighLight: false\n        });\n      }\n\n      setTimeout(function () {\n        that.ishighLightFun();\n      }, 1000);\n    },\n\n    /**\n    * \n    * @param {*} timestamp 时间戳\n    * @param {*} num 格式化类型\n    */\n    formatTimeConvert(timestamp, num) {\n      timestamp = timestamp + '';\n      timestamp = timestamp.length == 10 ? timestamp * 1000 : timestamp;\n      var date = new Date(Number(timestamp));\n      var y = date.getFullYear();\n      var m = date.getMonth() + 1;\n      m = m < 10 ? '0' + m : m;\n      var d = date.getDate();\n      d = d < 10 ? '0' + d : d;\n      var h = date.getHours();\n      h = h < 10 ? '0' + h : h;\n      var minute = date.getMinutes();\n      var second = date.getSeconds();\n      minute = minute < 10 ? '0' + minute : minute;\n      second = second < 10 ? '0' + second : second;\n\n      if (num == 0) {\n        return y + '-' + m + '-' + d;\n      } else {\n        return y + '-' + m + '-' + d + ' ' + h + ':' + minute + ':' + second;\n      }\n    },\n\n    /**\n     * @name 获取合同详情\n     */\n    getDetailDataFun(id) {\n      var _this = this;\n\n      api.sendGet({\n        url: api.get_contract_detail,\n        params: {\n          id: id\n        },\n        success: res => {\n          console.log(res);\n          let signArr = [],\n              linkArr = [];\n          console.log(this.formatTimeConvert(res.contractSubject.signingDeadline, 0), 'asdadadasdasd');\n          this.setData({\n            signingDeadline: res.contractSubject.signingDeadline ? this.formatTimeConvert(res.contractSubject.signingDeadline, 0) : '',\n            fileTermination: res.contractSubject.fileTermination ? this.formatTimeConvert(res.contractSubject.fileTermination, 0) : ''\n          });\n          res.contractFlowTasks.map(it => {\n            // 签署\n            if (it.processType == 2) {\n              // 个人\n              if (it.relationType == 1) {\n                this.checkAuthFun({\n                  type: 1,\n                  name: it.userName,\n                  phone: it.userPhone,\n                  callback: isAuth => {\n                    const signalItem = {\n                      userName: it.userName,\n                      userPhone: it.userPhone,\n                      processType: it.processType,\n                      sealName: this.getSealNameFun(it.sealType.split(',')),\n                      sealType: it.sealType,\n                      relationType: it.relationType,\n                      status: it.status,\n                      isPersonAuth: isAuth\n                    };\n                    signArr.push(signalItem);\n                  }\n                });\n              } // 公司\n\n\n              if (it.relationType == 2) {\n                this.checkAuthFun({\n                  type: 2,\n                  companyName: it.companyName,\n                  name: it.userName,\n                  phone: it.userPhone,\n                  callback: (person, company) => {\n                    console.log(company, person);\n                    const companyItem = {\n                      companyName: it.companyName,\n                      userName: it.userName,\n                      userPhone: it.userPhone,\n                      processType: it.processType,\n                      sealName: this.getSealNameFun(it.sealType.split(',')),\n                      sealType: it.sealType,\n                      relationType: it.relationType,\n                      status: it.status,\n                      isPersonAuth: person,\n                      isCompanyAuth: company\n                    };\n                    signArr.push(companyItem);\n                  }\n                });\n              }\n            } // 抄送\n\n\n            if (it.processType == 4) {\n              // 个人\n              if (it.relationType == 1) {\n                this.checkAuthFun({\n                  type: 1,\n                  name: it.userName,\n                  phone: it.userPhone,\n                  callback: isAuth => {\n                    const signalItem = {\n                      userName: it.userName,\n                      userPhone: it.userPhone,\n                      processType: it.processType,\n                      sealName: this.getSealNameFun(it.sealType.split(',')),\n                      sealType: it.sealType,\n                      relationType: it.relationType,\n                      status: it.status,\n                      isPersonAuth: isAuth\n                    };\n                    linkArr.push(signalItem);\n                  }\n                });\n              } // 公司\n\n\n              if (it.relationType == 2) {\n                this.checkAuthFun({\n                  type: 2,\n                  companyName: it.companyName,\n                  name: it.userName,\n                  phone: it.userPhone,\n                  callback: (person, company) => {\n                    console.log('company, ', person, company);\n                    const companyItem = {\n                      companyName: it.companyName,\n                      userName: it.userName,\n                      userPhone: it.userPhone,\n                      processType: it.processType,\n                      sealName: this.getSealNameFun(it.sealType.split(',')),\n                      sealType: it.sealType,\n                      relationType: it.relationType,\n                      status: it.status,\n                      isPersonAuth: person,\n                      isCompanyAuth: company\n                    };\n                    linkArr.push(companyItem);\n                  }\n                });\n              }\n            }\n          });\n          setTimeout(() => {\n            this.setData({\n              signMans: signArr,\n              linkMans: linkArr\n            });\n            this.ishighLightFun();\n          }, 300);\n        },\n        fail: function (err) {\n          console.log(err);\n        }\n      });\n    },\n\n    getSealNameFun(arr) {\n      let str = '';\n      arr.forEach(it => {\n        switch (it) {\n          case '1':\n            str += str == '' ? '手绘章' : ',手绘章';\n            break;\n\n          case '2':\n            str += str == '' ? '企业章' : ',企业章';\n            break;\n\n          case '3':\n            str += str == '' ? '法人代表章' : ',法人代表章';\n            break;\n\n          case '4':\n            str += str == '' ? '模版章' : ',模版章';\n            break;\n\n          default:\n            break;\n        }\n      });\n      return str;\n    },\n\n    companySign() {\n      uni.navigateTo({\n        url: '/pages/home/sign/next/companySign/companySign'\n      });\n    },\n\n    personSign() {\n      uni.navigateTo({\n        url: '/pages/home/sign/next/personSign/personSign'\n      });\n    },\n\n    companyLink() {\n      uni.navigateTo({\n        url: '/pages/home/sign/next/companyLink/companyLink'\n      });\n    },\n\n    personLink() {\n      uni.navigateTo({\n        url: '/pages/home/sign/next/personLink/personLink'\n      });\n    },\n\n    //日期\n    bindDateChange1(e) {\n      this.setData({\n        signingDeadline: e.detail.value\n      });\n    },\n\n    bindDateChange2(e) {\n      this.setData({\n        fileTermination: e.detail.value\n      });\n    },\n\n    back() {\n      var that = this;\n      var arr1 = this.signMans;\n      var arr2 = this.linkMans;\n      arr1 = arr1.concat(arr2);\n      const contractData = uni.getStorageSync('contractData');\n      uni.showLoading({\n        title: '加载中'\n      });\n      api.sendPostBody({\n        url: api.get_contract_launch,\n        params: {\n          \"contractSubject\": {\n            \"contractTitle\": contractData.contractTitle,\n            \"fileTermination\": that.fileTermination,\n            \"signingDeadline\": that.signingDeadline,\n            \"userOrder\": that.userOrder,\n            \"status\": 5,\n            \"id\": this.contractId\n          },\n          \"contractFiles\": [{\n            \"fileName\": contractData.fileName,\n            \"filePath\": contractData.url,\n            \"coverUrl\": contractData.coverUrl\n          }],\n          \"contractFlowTasks\": arr1\n        },\n        success: function (data) {\n          console.log(data);\n          uni.hideLoading({});\n          setTimeout(() => {\n            uni.showToast({\n              title: '保存成功',\n              icon: 'success',\n              duration: 2000 //持续的时间\n\n            });\n          }, 50);\n          uni.reLaunch({\n            url: '/pages/home/contract/contract?searchType=8&pageTitle=草稿箱'\n          });\n        },\n        fail: function (err) {\n          uni.hideLoading();\n          setTimeout(() => {\n            uni.showToast({\n              title: err,\n              icon: 'none',\n              duration: 2000 //持续的时间\n\n            });\n          }, 50);\n        }\n      });\n    },\n\n    dragStart: function (e) {\n      const that = this;\n      let copyItem = that.copyItem;\n      const i = e.currentTarget.dataset.index;\n      const query = uni.createSelectorQuery();\n      copyItem.index = e.currentTarget.dataset.index;\n      copyItem.companyName = this.signMans[i].companyName;\n      copyItem.userName = this.signMans[i].userName;\n      copyItem.userPhone = this.signMans[i].userPhone;\n      copyItem.sealName = this.signMans[i].sealName;\n      copyItem.isPersonAuth = this.signMans[i].isPersonAuth;\n      copyItem.relationType = this.signMans[i].relationType;\n      this.setData({\n        startX: e.changedTouches[0].clientX,\n        startY: e.changedTouches[0].clientY\n      }); //选择id\n\n      query.select('.listbox').boundingClientRect(function (rect) {\n        copyItem.top = e.changedTouches[0].clientY - rect.top - 30;\n        that.setData({\n          copyItem: copyItem\n        });\n      }).exec();\n    },\n    dragMove: function (e) {\n      var that = this;\n      var query = uni.createSelectorQuery();\n      var copyItem = that.copyItem;\n      query.select('.listbox').boundingClientRect(function (rect) {\n        copyItem.top = e.changedTouches[0].clientY - rect.top - 30;\n\n        if (copyItem.top < -60) {\n          copyItem.top = -60;\n        } else if (copyItem.top > rect.height) {\n          copyItem.top = -60;\n        }\n\n        that.setData({\n          copyItem: copyItem,\n          showCopy: true\n        });\n      }).exec();\n    },\n    dragEnd: function (e) {\n      var that = this;\n      var i = e.currentTarget.dataset.index;\n      var query = uni.createSelectorQuery();\n      var copyItem = that.copyItem;\n      var signMans = that.signMans;\n      console.log(signMans);\n\n      if (e.target.dataset.type == 'delete') {\n        this.deleteSign(e);\n      } else {\n        if ((Math.abs(e.changedTouches[0].clientY - this.startY) > 10 || Math.abs(e.changedTouches[0].clientX - this.startX) > 10) && e.target.dataset.type != 'delete') {\n          query.select('.listbox').boundingClientRect(function (rect) {\n            copyItem.top = e.changedTouches[0].clientY - rect.top - 30;\n\n            if (copyItem.top < -60) {\n              copyItem.top = -60;\n            } else if (e.changedTouches[0].clientY > rect.height) {\n              copyItem.top = -60;\n            }\n\n            var target = parseInt(copyItem.top / 60);\n            var replace = that.replace;\n\n            if (target >= 0) {\n              replace.companyName = signMans[target].companyName;\n              replace.userPhone = signMans[target].userPhone;\n              replace.userName = signMans[target].userName;\n              replace.chapter = signMans[target].chapter;\n              replace.personAuth = signMans[target].personAuth;\n              replace.companyAuth = signMans[target].companyAuth;\n              replace.signType = signMans[target].signType;\n              replace.relationType = signMans[target].relationType;\n              signMans[target].companyName = signMans[i].companyName;\n              signMans[target].userPhone = signMans[i].userPhone;\n              signMans[target].userName = signMans[i].userName;\n              signMans[target].personAuth = signMans[i].personAuth;\n              signMans[target].chapter = signMans[i].chapter;\n              signMans[target].companyAuth = signMans[i].companyAuth;\n              signMans[target].signType = signMans[i].signType;\n              signMans[target].relationType = signMans[i].relationType;\n              signMans[i].companyName = replace.companyName;\n              signMans[i].userName = replace.userName;\n              signMans[i].userPhone = replace.userPhone;\n              signMans[i].chapter = replace.chapter;\n              signMans[i].personAuth = replace.personAuth;\n              signMans[i].companyAuth = replace.companyAuth;\n              signMans[i].signType = replace.signType;\n              signMans[i].relationType = replace.relationType;\n            }\n\n            that.setData({\n              signMans: signMans\n            });\n          }).exec();\n        }\n      }\n\n      setTimeout(() => {\n        this.setData({\n          showCopy: false\n        });\n      }, 20);\n    },\n    switchChange: function (e) {\n      console.log(e.detail.value);\n      this.setData({\n        isSort: e.detail.value\n      });\n\n      if (this.isSort) {\n        this.setData({\n          userOrder: 1\n        });\n      } else {\n        this.setData({\n          userOrder: 0\n        });\n      }\n    },\n    deleteSign: function (e) {\n      var index = e.currentTarget.dataset.index;\n      let copySigns = JSON.parse(JSON.stringify(this.signMans));\n      copySigns.splice(index, 1);\n      this.setData({\n        signMans: copySigns\n      });\n\n      if (this.signMans.length < 2) {\n        this.setData({\n          isSort: false\n        });\n      }\n\n      uni.setStorageSync('signMans', this.signMans);\n    },\n    deleteLink: function (e) {\n      var index = e.currentTarget.dataset.index;\n      let copyLinks = JSON.parse(JSON.stringify(this.linkMans));\n      copyLinks.splice(index, 1);\n      this.setData({\n        linkMans: copyLinks\n      });\n      uni.setStorageSync('linkMans', this.linkMans);\n    },\n    next: function (e) {\n      var that = this;\n      var arr1 = this.signMans;\n      var arr2 = this.linkMans;\n      arr1 = arr1.concat(arr2);\n      const contractData = uni.getStorageSync('contractData');\n      uni.showLoading({});\n      api.sendPostBody({\n        url: api.get_contract_launch,\n        params: {\n          \"contractSubject\": {\n            \"contractTitle\": contractData.contractTitle,\n            \"fileTermination\": that.fileTermination,\n            \"signingDeadline\": that.signingDeadline,\n            \"userOrder\": that.userOrder,\n            \"status\": 1\n          },\n          \"contractFiles\": [{\n            \"fileName\": contractData.fileName,\n            \"filePath\": contractData.url,\n            \"coverUrl\": contractData.coverUrl\n          }],\n          \"contractFlowTasks\": arr1\n        },\n        success: function (data) {\n          uni.hideLoading({});\n          uni.navigateTo({\n            url: '/pages/home/sign/next/signConfirm/signConfirm?contractId=' + data\n          });\n        },\n        fail: function (err) {\n          setTimeout(() => {\n            uni.showToast({\n              title: err,\n              icon: 'none'\n            });\n          }, 50);\n        }\n      });\n    },\n\n    onInput(event) {\n      this.setData({\n        currentDate: event.detail\n      });\n    }\n\n  }\n};\r\n</script>\r\n<style>\r\n@import \"./next.css\";\r\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./next.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./next.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608793121878\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}